var jv=e=>{throw TypeError(e)};var Cf=(e,t,r)=>t.has(e)||jv("Cannot "+r);var C=(e,t,r)=>(Cf(e,t,"read from private field"),r?r.call(e):t.get(e)),fe=(e,t,r)=>t.has(e)?jv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(Cf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),je=(e,t,r)=>(Cf(e,t,"access private method"),r);var Tc=(e,t,r,n)=>({set _(s){se(e,t,s,r)},get _(){return C(e,t,n)}});function _C(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var $0={exports:{}},kd={},F0={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),NC=Symbol.for("react.portal"),SC=Symbol.for("react.fragment"),kC=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),TC=Symbol.for("react.forward_ref"),RC=Symbol.for("react.suspense"),OC=Symbol.for("react.memo"),AC=Symbol.for("react.lazy"),Nv=Symbol.iterator;function MC(e){return e===null||typeof e!="object"?null:(e=Nv&&e[Nv]||e["@@iterator"],typeof e=="function"?e:null)}var z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U0=Object.assign,B0={};function _i(e,t,r){this.props=e,this.context=t,this.refs=B0,this.updater=r||z0}_i.prototype.isReactComponent={};_i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q0(){}q0.prototype=_i.prototype;function _p(e,t,r){this.props=e,this.context=t,this.refs=B0,this.updater=r||z0}var jp=_p.prototype=new q0;jp.constructor=_p;U0(jp,_i.prototype);jp.isPureReactComponent=!0;var Sv=Array.isArray,V0=Object.prototype.hasOwnProperty,Np={current:null},W0={key:!0,ref:!0,__self:!0,__source:!0};function H0(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)V0.call(t,n)&&!W0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:oc,type:e,key:o,ref:i,props:s,_owner:Np.current}}function IC(e,t){return{$$typeof:oc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sp(e){return typeof e=="object"&&e!==null&&e.$$typeof===oc}function DC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kv=/\/+/g;function Ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DC(""+e.key):t.toString(36)}function iu(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case oc:case NC:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Ef(i,0):n,Sv(s)?(r="",e!=null&&(r=e.replace(kv,"$&/")+"/"),iu(s,t,r,"",function(u){return u})):s!=null&&(Sp(s)&&(s=IC(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(kv,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Sv(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Ef(o,l);i+=iu(o,t,r,c,s)}else if(c=MC(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Ef(o,l++),i+=iu(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Rc(e,t,r){if(e==null)return e;var n=[],s=0;return iu(e,n,"","",function(o){return t.call(r,o,s++)}),n}function LC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},lu={transition:null},$C={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:lu,ReactCurrentOwner:Np};function K0(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Rc,forEach:function(e,t,r){Rc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Rc(e,function(){t++}),t},toArray:function(e){return Rc(e,function(t){return t})||[]},only:function(e){if(!Sp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=_i;Ee.Fragment=SC;Ee.Profiler=CC;Ee.PureComponent=_p;Ee.StrictMode=kC;Ee.Suspense=RC;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$C;Ee.act=K0;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=U0({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Np.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)V0.call(t,c)&&!W0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:oc,type:e.type,key:s,ref:o,props:n,_owner:i}};Ee.createContext=function(e){return e={$$typeof:PC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EC,_context:e},e.Consumer=e};Ee.createElement=H0;Ee.createFactory=function(e){var t=H0.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:TC,render:e}};Ee.isValidElement=Sp;Ee.lazy=function(e){return{$$typeof:AC,_payload:{_status:-1,_result:e},_init:LC}};Ee.memo=function(e,t){return{$$typeof:OC,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=lu.transition;lu.transition={};try{e()}finally{lu.transition=t}};Ee.unstable_act=K0;Ee.useCallback=function(e,t){return qt.current.useCallback(e,t)};Ee.useContext=function(e){return qt.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return qt.current.useEffect(e,t)};Ee.useId=function(){return qt.current.useId()};Ee.useImperativeHandle=function(e,t,r){return qt.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return qt.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return qt.current.useReducer(e,t,r)};Ee.useRef=function(e){return qt.current.useRef(e)};Ee.useState=function(e){return qt.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return qt.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return qt.current.useTransition()};Ee.version="18.3.1";F0.exports=Ee;var h=F0.exports;const Z=L0(h),kp=_C({__proto__:null,default:Z},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=h,zC=Symbol.for("react.element"),UC=Symbol.for("react.fragment"),BC=Object.prototype.hasOwnProperty,qC=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VC={key:!0,ref:!0,__self:!0,__source:!0};function G0(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)BC.call(t,n)&&!VC.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:zC,type:e,key:o,ref:i,props:s,_owner:qC.current}}kd.Fragment=UC;kd.jsx=G0;kd.jsxs=G0;$0.exports=kd;var a=$0.exports,Q0={exports:{}},vr={},Y0={exports:{}},Z0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var B=I.length;I.push(A);e:for(;0<B;){var te=B-1>>>1,Y=I[te];if(0<s(Y,A))I[te]=A,I[B]=Y,B=te;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var A=I[0],B=I.pop();if(B!==A){I[0]=B;e:for(var te=0,Y=I.length,ne=Y>>>1;te<ne;){var re=2*(te+1)-1,oe=I[re],pe=re+1,Q=I[pe];if(0>s(oe,B))pe<Y&&0>s(Q,oe)?(I[te]=Q,I[pe]=B,te=pe):(I[te]=oe,I[re]=B,te=re);else if(pe<Y&&0>s(Q,B))I[te]=Q,I[pe]=B,te=pe;else break e}}return A}function s(I,A){var B=I.sortIndex-A.sortIndex;return B!==0?B:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,b=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=I)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function _(I){if(g=!1,v(I),!b)if(r(c)!==null)b=!0,P(N);else{var A=r(u);A!==null&&z(_,A.startTime-I)}}function N(I,A){b=!1,g&&(g=!1,w(k),k=-1),p=!0;var B=m;try{for(v(A),f=r(c);f!==null&&(!(f.expirationTime>A)||I&&!T());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var Y=te(f.expirationTime<=A);A=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(c)&&n(c),v(A)}else n(c);f=r(c)}if(f!==null)var ne=!0;else{var re=r(u);re!==null&&z(_,re.startTime-A),ne=!1}return ne}finally{f=null,m=B,p=!1}}var j=!1,S=null,k=-1,O=5,E=-1;function T(){return!(e.unstable_now()-E<O)}function D(){if(S!==null){var I=e.unstable_now();E=I;var A=!0;try{A=S(!0,I)}finally{A?U():(j=!1,S=null)}}else j=!1}var U;if(typeof x=="function")U=function(){x(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=D,U=function(){q.postMessage(null)}}else U=function(){y(D,0)};function P(I){S=I,j||(j=!0,U())}function z(I,A){k=y(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,P(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var B=m;m=A;try{return I()}finally{m=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=m;m=I;try{return A()}finally{m=B}},e.unstable_scheduleCallback=function(I,A,B){var te=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,I){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,I={id:d++,callback:A,priorityLevel:I,startTime:B,expirationTime:Y,sortIndex:-1},B>te?(I.sortIndex=B,t(u,I),r(c)===null&&I===r(u)&&(g?(w(k),k=-1):g=!0,z(_,B-te))):(I.sortIndex=Y,t(c,I),b||p||(b=!0,P(N))),I},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(I){var A=m;return function(){var B=m;m=A;try{return I.apply(this,arguments)}finally{m=B}}}})(Z0);Y0.exports=Z0;var WC=Y0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=h,fr=WC;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,wl={};function Ha(e,t){ri(e,t),ri(e+"Capture",t)}function ri(e,t){for(wl[e]=t,e=0;e<t.length;e++)X0.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Ev={};function GC(e){return Th.call(Ev,e)?!0:Th.call(Cv,e)?!1:KC.test(e)?Ev[e]=!0:(Cv[e]=!0,!1)}function QC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YC(e,t,r,n){if(t===null||typeof t>"u"||QC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cp=/[\-:]([a-z])/g;function Ep(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cp,Ep);kt[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cp,Ep);kt[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cp,Ep);kt[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pp(e,t,r,n){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YC(t,r,s,n)&&(r=null),n||s===null?GC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vn=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),vo=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),ew=Symbol.for("react.context"),Rp=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),tw=Symbol.for("react.offscreen"),Pv=Symbol.iterator;function Li(e){return e===null||typeof e!="object"?null:(e=Pv&&e[Pv]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Pf;function Qi(e){if(Pf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pf=t&&t[1]||""}return`
`+Pf+e}var Tf=!1;function Rf(e,t){if(!e||Tf)return"";Tf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Tf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qi(e):""}function ZC(e){switch(e.tag){case 5:return Qi(e.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 2:case 15:return e=Rf(e.type,!1),e;case 11:return e=Rf(e.type.render,!1),e;case 1:return e=Rf(e.type,!0),e;default:return""}}function Mh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xo:return"Fragment";case vo:return"Portal";case Rh:return"Profiler";case Tp:return"StrictMode";case Oh:return"Suspense";case Ah:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ew:return(e.displayName||"Context")+".Consumer";case J0:return(e._context.displayName||"Context")+".Provider";case Rp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Op:return t=e.displayName||null,t!==null?t:Mh(e.type)||"Memo";case os:t=e._payload,e=e._init;try{return Mh(e(t))}catch{}}return null}function XC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mh(t);case 8:return t===Tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JC(e){var t=rw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ac(e){e._valueTracker||(e._valueTracker=JC(e))}function nw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ih(e,t){var r=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Tv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$s(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sw(e,t){t=t.checked,t!=null&&Pp(e,"checked",t,!1)}function Dh(e,t){sw(e,t);var r=$s(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,$s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lh(e,t,r){(t!=="number"||Pu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yi=Array.isArray;function Ro(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$s(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $h(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ov(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(Yi(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$s(r)}}function aw(e,t){var r=$s(t.value),n=$s(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Av(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ow(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ow(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mc,iw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e2=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(e){e2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ol[t]=ol[e]})});function lw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ol.hasOwnProperty(e)&&ol[e]?(""+t).trim():t+"px"}function cw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=lw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var t2=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zh(e,t){if(t){if(t2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Uh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function Ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qh=null,Oo=null,Ao=null;function Mv(e){if(e=cc(e)){if(typeof qh!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Rd(t),qh(e.stateNode,e.type,t))}}function uw(e){Oo?Ao?Ao.push(e):Ao=[e]:Oo=e}function dw(){if(Oo){var e=Oo,t=Ao;if(Ao=Oo=null,Mv(e),t)for(e=0;e<t.length;e++)Mv(t[e])}}function fw(e,t){return e(t)}function hw(){}var Of=!1;function mw(e,t,r){if(Of)return e(t,r);Of=!0;try{return fw(e,t,r)}finally{Of=!1,(Oo!==null||Ao!==null)&&(hw(),dw())}}function _l(e,t){var r=e.stateNode;if(r===null)return null;var n=Rd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var Vh=!1;if(Dn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Vh=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Vh=!1}function r2(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var il=!1,Tu=null,Ru=!1,Wh=null,n2={onError:function(e){il=!0,Tu=e}};function s2(e,t,r,n,s,o,i,l,c){il=!1,Tu=null,r2.apply(n2,arguments)}function a2(e,t,r,n,s,o,i,l,c){if(s2.apply(this,arguments),il){if(il){var u=Tu;il=!1,Tu=null}else throw Error(V(198));Ru||(Ru=!0,Wh=u)}}function Ka(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function pw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iv(e){if(Ka(e)!==e)throw Error(V(188))}function o2(e){var t=e.alternate;if(!t){if(t=Ka(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Iv(s),e;if(o===n)return Iv(s),t;o=o.sibling}throw Error(V(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function gw(e){return e=o2(e),e!==null?vw(e):null}function vw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vw(e);if(t!==null)return t;e=e.sibling}return null}var xw=fr.unstable_scheduleCallback,Dv=fr.unstable_cancelCallback,i2=fr.unstable_shouldYield,l2=fr.unstable_requestPaint,nt=fr.unstable_now,c2=fr.unstable_getCurrentPriorityLevel,Mp=fr.unstable_ImmediatePriority,yw=fr.unstable_UserBlockingPriority,Ou=fr.unstable_NormalPriority,u2=fr.unstable_LowPriority,ww=fr.unstable_IdlePriority,Cd=null,mn=null;function d2(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Cd,e,void 0,(e.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:m2,f2=Math.log,h2=Math.LN2;function m2(e){return e>>>=0,e===0?32:31-(f2(e)/h2|0)|0}var Ic=64,Dc=4194304;function Zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Au(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Zi(l):(o&=i,o!==0&&(n=Zi(o)))}else i=r&~s,i!==0?n=Zi(i):o!==0&&(n=Zi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wr(t),s=1<<r,n|=e[r],t&=~s;return n}function p2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Wr(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=p2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Hh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bw(){var e=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),e}function Af(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ic(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wr(t),e[t]=r}function v2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Wr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Ip(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var De=0;function _w(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jw,Dp,Nw,Sw,kw,Kh=!1,Lc=[],Cs=null,Es=null,Ps=null,jl=new Map,Nl=new Map,cs=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lv(e,t){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Fi(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=cc(t),t!==null&&Dp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function y2(e,t,r,n,s){switch(t){case"focusin":return Cs=Fi(Cs,e,t,r,n,s),!0;case"dragenter":return Es=Fi(Es,e,t,r,n,s),!0;case"mouseover":return Ps=Fi(Ps,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return jl.set(o,Fi(jl.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Nl.set(o,Fi(Nl.get(o)||null,e,t,r,n,s)),!0}return!1}function Cw(e){var t=va(e.target);if(t!==null){var r=Ka(t);if(r!==null){if(t=r.tag,t===13){if(t=pw(r),t!==null){e.blockedOn=t,kw(e.priority,function(){Nw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bh=n,r.target.dispatchEvent(n),Bh=null}else return t=cc(r),t!==null&&Dp(t),e.blockedOn=r,!1;t.shift()}return!0}function $v(e,t,r){cu(e)&&r.delete(t)}function w2(){Kh=!1,Cs!==null&&cu(Cs)&&(Cs=null),Es!==null&&cu(Es)&&(Es=null),Ps!==null&&cu(Ps)&&(Ps=null),jl.forEach($v),Nl.forEach($v)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,Kh||(Kh=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,w2)))}function Sl(e){function t(s){return zi(s,e)}if(0<Lc.length){zi(Lc[0],e);for(var r=1;r<Lc.length;r++){var n=Lc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cs!==null&&zi(Cs,e),Es!==null&&zi(Es,e),Ps!==null&&zi(Ps,e),jl.forEach(t),Nl.forEach(t),r=0;r<cs.length;r++)n=cs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)Cw(r),r.blockedOn===null&&cs.shift()}var Mo=Vn.ReactCurrentBatchConfig,Mu=!0;function b2(e,t,r,n){var s=De,o=Mo.transition;Mo.transition=null;try{De=1,Lp(e,t,r,n)}finally{De=s,Mo.transition=o}}function _2(e,t,r,n){var s=De,o=Mo.transition;Mo.transition=null;try{De=4,Lp(e,t,r,n)}finally{De=s,Mo.transition=o}}function Lp(e,t,r,n){if(Mu){var s=Gh(e,t,r,n);if(s===null)qf(e,t,n,Iu,r),Lv(e,n);else if(y2(s,e,t,r,n))n.stopPropagation();else if(Lv(e,n),t&4&&-1<x2.indexOf(e)){for(;s!==null;){var o=cc(s);if(o!==null&&jw(o),o=Gh(e,t,r,n),o===null&&qf(e,t,n,Iu,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else qf(e,t,n,null,r)}}var Iu=null;function Gh(e,t,r,n){if(Iu=null,e=Ap(n),e=va(e),e!==null)if(t=Ka(e),t===null)e=null;else if(r=t.tag,r===13){if(e=pw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Iu=e,null}function Ew(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c2()){case Mp:return 1;case yw:return 4;case Ou:case u2:return 16;case ww:return 536870912;default:return 16}default:return 16}}var _s=null,$p=null,uu=null;function Pw(){if(uu)return uu;var e,t=$p,r=t.length,n,s="value"in _s?_s.value:_s.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return uu=s.slice(e,1<n?1-n:void 0)}function du(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $c(){return!0}function Fv(){return!1}function xr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$c:Fv,this.isPropagationStopped=Fv,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),t}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fp=xr(ji),lc=Xe({},ji,{view:0,detail:0}),j2=xr(lc),Mf,If,Ui,Ed=Xe({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(Mf=e.screenX-Ui.screenX,If=e.screenY-Ui.screenY):If=Mf=0,Ui=e),Mf)},movementY:function(e){return"movementY"in e?e.movementY:If}}),zv=xr(Ed),N2=Xe({},Ed,{dataTransfer:0}),S2=xr(N2),k2=Xe({},lc,{relatedTarget:0}),Df=xr(k2),C2=Xe({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),E2=xr(C2),P2=Xe({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T2=xr(P2),R2=Xe({},ji,{data:0}),Uv=xr(R2),O2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M2[e])?!!t[e]:!1}function zp(){return I2}var D2=Xe({},lc,{key:function(e){if(e.key){var t=O2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=du(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(e){return e.type==="keypress"?du(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?du(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L2=xr(D2),$2=Xe({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bv=xr($2),F2=Xe({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),z2=xr(F2),U2=Xe({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),B2=xr(U2),q2=Xe({},Ed,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V2=xr(q2),W2=[9,13,27,32],Up=Dn&&"CompositionEvent"in window,ll=null;Dn&&"documentMode"in document&&(ll=document.documentMode);var H2=Dn&&"TextEvent"in window&&!ll,Tw=Dn&&(!Up||ll&&8<ll&&11>=ll),qv=" ",Vv=!1;function Rw(e,t){switch(e){case"keyup":return W2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ow(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yo=!1;function K2(e,t){switch(e){case"compositionend":return Ow(t);case"keypress":return t.which!==32?null:(Vv=!0,qv);case"textInput":return e=t.data,e===qv&&Vv?null:e;default:return null}}function G2(e,t){if(yo)return e==="compositionend"||!Up&&Rw(e,t)?(e=Pw(),uu=$p=_s=null,yo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tw&&t.locale!=="ko"?null:t.data;default:return null}}var Q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q2[e.type]:t==="textarea"}function Aw(e,t,r,n){uw(n),t=Du(t,"onChange"),0<t.length&&(r=new Fp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cl=null,kl=null;function Y2(e){Vw(e,0)}function Pd(e){var t=_o(e);if(nw(t))return e}function Z2(e,t){if(e==="change")return t}var Mw=!1;if(Dn){var Lf;if(Dn){var $f="oninput"in document;if(!$f){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),$f=typeof Hv.oninput=="function"}Lf=$f}else Lf=!1;Mw=Lf&&(!document.documentMode||9<document.documentMode)}function Kv(){cl&&(cl.detachEvent("onpropertychange",Iw),kl=cl=null)}function Iw(e){if(e.propertyName==="value"&&Pd(kl)){var t=[];Aw(t,kl,e,Ap(e)),mw(Y2,t)}}function X2(e,t,r){e==="focusin"?(Kv(),cl=t,kl=r,cl.attachEvent("onpropertychange",Iw)):e==="focusout"&&Kv()}function J2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pd(kl)}function eE(e,t){if(e==="click")return Pd(t)}function tE(e,t){if(e==="input"||e==="change")return Pd(t)}function rE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:rE;function Cl(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Th.call(t,s)||!Gr(e[s],t[s]))return!1}return!0}function Gv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qv(e,t){var r=Gv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gv(r)}}function Dw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lw(){for(var e=window,t=Pu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pu(e.document)}return t}function Bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nE(e){var t=Lw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Dw(r.ownerDocument.documentElement,r)){if(n!==null&&Bp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Qv(r,o);var i=Qv(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sE=Dn&&"documentMode"in document&&11>=document.documentMode,wo=null,Qh=null,ul=null,Yh=!1;function Yv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yh||wo==null||wo!==Pu(n)||(n=wo,"selectionStart"in n&&Bp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ul&&Cl(ul,n)||(ul=n,n=Du(Qh,"onSelect"),0<n.length&&(t=new Fp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wo)))}function Fc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bo={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},Ff={},$w={};Dn&&($w=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Td(e){if(Ff[e])return Ff[e];if(!bo[e])return e;var t=bo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $w)return Ff[e]=t[r];return e}var Fw=Td("animationend"),zw=Td("animationiteration"),Uw=Td("animationstart"),Bw=Td("transitionend"),qw=new Map,Zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(e,t){qw.set(e,t),Ha(t,[e])}for(var zf=0;zf<Zv.length;zf++){var Uf=Zv[zf],aE=Uf.toLowerCase(),oE=Uf[0].toUpperCase()+Uf.slice(1);Qs(aE,"on"+oE)}Qs(Fw,"onAnimationEnd");Qs(zw,"onAnimationIteration");Qs(Uw,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(Bw,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Xv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,a2(n,t,void 0,e),e.currentTarget=null}function Vw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Xv(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Xv(s,l,u),o=c}}}if(Ru)throw e=Wh,Ru=!1,Wh=null,e}function qe(e,t){var r=t[tm];r===void 0&&(r=t[tm]=new Set);var n=e+"__bubble";r.has(n)||(Ww(t,e,2,!1),r.add(n))}function Bf(e,t,r){var n=0;t&&(n|=4),Ww(r,e,n,t)}var zc="_reactListening"+Math.random().toString(36).slice(2);function El(e){if(!e[zc]){e[zc]=!0,X0.forEach(function(r){r!=="selectionchange"&&(iE.has(r)||Bf(r,!1,e),Bf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zc]||(t[zc]=!0,Bf("selectionchange",!1,t))}}function Ww(e,t,r,n){switch(Ew(t)){case 1:var s=b2;break;case 4:s=_2;break;default:s=Lp}r=s.bind(null,t,r,e),s=void 0,!Vh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function qf(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=va(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}mw(function(){var u=o,d=Ap(r),f=[];e:{var m=qw.get(e);if(m!==void 0){var p=Fp,b=e;switch(e){case"keypress":if(du(r)===0)break e;case"keydown":case"keyup":p=L2;break;case"focusin":b="focus",p=Df;break;case"focusout":b="blur",p=Df;break;case"beforeblur":case"afterblur":p=Df;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=S2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=z2;break;case Fw:case zw:case Uw:p=E2;break;case Bw:p=B2;break;case"scroll":p=j2;break;case"wheel":p=V2;break;case"copy":case"cut":case"paste":p=T2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bv}var g=(t&4)!==0,y=!g&&e==="scroll",w=g?m!==null?m+"Capture":null:m;g=[];for(var x=u,v;x!==null;){v=x;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,w!==null&&(_=_l(x,w),_!=null&&g.push(Pl(x,_,v)))),y)break;x=x.return}0<g.length&&(m=new p(m,b,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Bh&&(b=r.relatedTarget||r.fromElement)&&(va(b)||b[Ln]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?va(b):null,b!==null&&(y=Ka(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(g=zv,_="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Bv,_="onPointerLeave",w="onPointerEnter",x="pointer"),y=p==null?m:_o(p),v=b==null?m:_o(b),m=new g(_,x+"leave",p,r,d),m.target=y,m.relatedTarget=v,_=null,va(d)===u&&(g=new g(w,x+"enter",b,r,d),g.target=v,g.relatedTarget=y,_=g),y=_,p&&b)t:{for(g=p,w=b,x=0,v=g;v;v=no(v))x++;for(v=0,_=w;_;_=no(_))v++;for(;0<x-v;)g=no(g),x--;for(;0<v-x;)w=no(w),v--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=no(g),w=no(w)}g=null}else g=null;p!==null&&Jv(f,m,p,g,!1),b!==null&&y!==null&&Jv(f,y,b,g,!0)}}e:{if(m=u?_o(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=Z2;else if(Wv(m))if(Mw)N=tE;else{N=J2;var j=X2}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=eE);if(N&&(N=N(e,u))){Aw(f,N,r,d);break e}j&&j(e,m,u),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&Lh(m,"number",m.value)}switch(j=u?_o(u):window,e){case"focusin":(Wv(j)||j.contentEditable==="true")&&(wo=j,Qh=u,ul=null);break;case"focusout":ul=Qh=wo=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Yv(f,r,d);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":Yv(f,r,d)}var S;if(Up)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else yo?Rw(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Tw&&r.locale!=="ko"&&(yo||k!=="onCompositionStart"?k==="onCompositionEnd"&&yo&&(S=Pw()):(_s=d,$p="value"in _s?_s.value:_s.textContent,yo=!0)),j=Du(u,k),0<j.length&&(k=new Uv(k,e,null,r,d),f.push({event:k,listeners:j}),S?k.data=S:(S=Ow(r),S!==null&&(k.data=S)))),(S=H2?K2(e,r):G2(e,r))&&(u=Du(u,"onBeforeInput"),0<u.length&&(d=new Uv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}Vw(f,t)})}function Pl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Du(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=_l(e,r),o!=null&&n.unshift(Pl(e,o,s)),o=_l(e,t),o!=null&&n.push(Pl(e,o,s))),e=e.return}return n}function no(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jv(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=_l(r,o),c!=null&&i.unshift(Pl(r,c,l))):s||(c=_l(r,o),c!=null&&i.push(Pl(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var lE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function ex(e){return(typeof e=="string"?e:""+e).replace(lE,`
`).replace(cE,"")}function Uc(e,t,r){if(t=ex(t),ex(e)!==t&&r)throw Error(V(425))}function Lu(){}var Zh=null,Xh=null;function Jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var em=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,tx=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof tx<"u"?function(e){return tx.resolve(null).then(e).catch(fE)}:em;function fE(e){setTimeout(function(){throw e})}function Vf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Sl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Sl(t)}function Ts(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),on="__reactFiber$"+Ni,Tl="__reactProps$"+Ni,Ln="__reactContainer$"+Ni,tm="__reactEvents$"+Ni,hE="__reactListeners$"+Ni,mE="__reactHandles$"+Ni;function va(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ln]||r[on]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rx(e);e!==null;){if(r=e[on])return r;e=rx(e)}return t}e=r,r=e.parentNode}return null}function cc(e){return e=e[on]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _o(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Rd(e){return e[Tl]||null}var rm=[],jo=-1;function Ys(e){return{current:e}}function Ve(e){0>jo||(e.current=rm[jo],rm[jo]=null,jo--)}function Ue(e,t){jo++,rm[jo]=e.current,e.current=t}var Fs={},Mt=Ys(Fs),er=Ys(!1),Ra=Fs;function ni(e,t){var r=e.type.contextTypes;if(!r)return Fs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tr(e){return e=e.childContextTypes,e!=null}function $u(){Ve(er),Ve(Mt)}function nx(e,t,r){if(Mt.current!==Fs)throw Error(V(168));Ue(Mt,t),Ue(er,r)}function Hw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(V(108,XC(e)||"Unknown",s));return Xe({},r,n)}function Fu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fs,Ra=Mt.current,Ue(Mt,e),Ue(er,er.current),!0}function sx(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=Hw(e,t,Ra),n.__reactInternalMemoizedMergedChildContext=e,Ve(er),Ve(Mt),Ue(Mt,e)):Ve(er),Ue(er,r)}var Cn=null,Od=!1,Wf=!1;function Kw(e){Cn===null?Cn=[e]:Cn.push(e)}function pE(e){Od=!0,Kw(e)}function Zs(){if(!Wf&&Cn!==null){Wf=!0;var e=0,t=De;try{var r=Cn;for(De=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Cn=null,Od=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),xw(Mp,Zs),s}finally{De=t,Wf=!1}}return null}var No=[],So=0,zu=null,Uu=0,jr=[],Nr=0,Oa=null,Tn=1,Rn="";function da(e,t){No[So++]=Uu,No[So++]=zu,zu=e,Uu=t}function Gw(e,t,r){jr[Nr++]=Tn,jr[Nr++]=Rn,jr[Nr++]=Oa,Oa=e;var n=Tn;e=Rn;var s=32-Wr(n)-1;n&=~(1<<s),r+=1;var o=32-Wr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Tn=1<<32-Wr(t)+s|r<<s|n,Rn=o+e}else Tn=1<<o|r<<s|n,Rn=e}function qp(e){e.return!==null&&(da(e,1),Gw(e,1,0))}function Vp(e){for(;e===zu;)zu=No[--So],No[So]=null,Uu=No[--So],No[So]=null;for(;e===Oa;)Oa=jr[--Nr],jr[Nr]=null,Rn=jr[--Nr],jr[Nr]=null,Tn=jr[--Nr],jr[Nr]=null}var cr=null,lr=null,Ke=!1,Vr=null;function Qw(e,t){var r=Sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ax(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cr=e,lr=Ts(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cr=e,lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Oa!==null?{id:Tn,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cr=e,lr=null,!0):!1;default:return!1}}function nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sm(e){if(Ke){var t=lr;if(t){var r=t;if(!ax(e,t)){if(nm(e))throw Error(V(418));t=Ts(r.nextSibling);var n=cr;t&&ax(e,t)?Qw(n,r):(e.flags=e.flags&-4097|2,Ke=!1,cr=e)}}else{if(nm(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ke=!1,cr=e}}}function ox(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cr=e}function Bc(e){if(e!==cr)return!1;if(!Ke)return ox(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jh(e.type,e.memoizedProps)),t&&(t=lr)){if(nm(e))throw Yw(),Error(V(418));for(;t;)Qw(e,t),t=Ts(t.nextSibling)}if(ox(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lr=Ts(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lr=null}}else lr=cr?Ts(e.stateNode.nextSibling):null;return!0}function Yw(){for(var e=lr;e;)e=Ts(e.nextSibling)}function si(){lr=cr=null,Ke=!1}function Wp(e){Vr===null?Vr=[e]:Vr.push(e)}var gE=Vn.ReactCurrentBatchConfig;function Bi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function qc(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ix(e){var t=e._init;return t(e._payload)}function Zw(e){function t(w,x){if(e){var v=w.deletions;v===null?(w.deletions=[x],w.flags|=16):v.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=Ms(w,x),w.index=0,w.sibling=null,w}function o(w,x,v){return w.index=v,e?(v=w.alternate,v!==null?(v=v.index,v<x?(w.flags|=2,x):v):(w.flags|=2,x)):(w.flags|=1048576,x)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,x,v,_){return x===null||x.tag!==6?(x=Xf(v,w.mode,_),x.return=w,x):(x=s(x,v),x.return=w,x)}function c(w,x,v,_){var N=v.type;return N===xo?d(w,x,v.props.children,_,v.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===os&&ix(N)===x.type)?(_=s(x,v.props),_.ref=Bi(w,x,v),_.return=w,_):(_=xu(v.type,v.key,v.props,null,w.mode,_),_.ref=Bi(w,x,v),_.return=w,_)}function u(w,x,v,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Jf(v,w.mode,_),x.return=w,x):(x=s(x,v.children||[]),x.return=w,x)}function d(w,x,v,_,N){return x===null||x.tag!==7?(x=Ta(v,w.mode,_,N),x.return=w,x):(x=s(x,v),x.return=w,x)}function f(w,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Xf(""+x,w.mode,v),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Oc:return v=xu(x.type,x.key,x.props,null,w.mode,v),v.ref=Bi(w,null,x),v.return=w,v;case vo:return x=Jf(x,w.mode,v),x.return=w,x;case os:var _=x._init;return f(w,_(x._payload),v)}if(Yi(x)||Li(x))return x=Ta(x,w.mode,v,null),x.return=w,x;qc(w,x)}return null}function m(w,x,v,_){var N=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(w,x,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Oc:return v.key===N?c(w,x,v,_):null;case vo:return v.key===N?u(w,x,v,_):null;case os:return N=v._init,m(w,x,N(v._payload),_)}if(Yi(v)||Li(v))return N!==null?null:d(w,x,v,_,null);qc(w,v)}return null}function p(w,x,v,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(v)||null,l(x,w,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Oc:return w=w.get(_.key===null?v:_.key)||null,c(x,w,_,N);case vo:return w=w.get(_.key===null?v:_.key)||null,u(x,w,_,N);case os:var j=_._init;return p(w,x,v,j(_._payload),N)}if(Yi(_)||Li(_))return w=w.get(v)||null,d(x,w,_,N,null);qc(x,_)}return null}function b(w,x,v,_){for(var N=null,j=null,S=x,k=x=0,O=null;S!==null&&k<v.length;k++){S.index>k?(O=S,S=null):O=S.sibling;var E=m(w,S,v[k],_);if(E===null){S===null&&(S=O);break}e&&S&&E.alternate===null&&t(w,S),x=o(E,x,k),j===null?N=E:j.sibling=E,j=E,S=O}if(k===v.length)return r(w,S),Ke&&da(w,k),N;if(S===null){for(;k<v.length;k++)S=f(w,v[k],_),S!==null&&(x=o(S,x,k),j===null?N=S:j.sibling=S,j=S);return Ke&&da(w,k),N}for(S=n(w,S);k<v.length;k++)O=p(S,w,k,v[k],_),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?k:O.key),x=o(O,x,k),j===null?N=O:j.sibling=O,j=O);return e&&S.forEach(function(T){return t(w,T)}),Ke&&da(w,k),N}function g(w,x,v,_){var N=Li(v);if(typeof N!="function")throw Error(V(150));if(v=N.call(v),v==null)throw Error(V(151));for(var j=N=null,S=x,k=x=0,O=null,E=v.next();S!==null&&!E.done;k++,E=v.next()){S.index>k?(O=S,S=null):O=S.sibling;var T=m(w,S,E.value,_);if(T===null){S===null&&(S=O);break}e&&S&&T.alternate===null&&t(w,S),x=o(T,x,k),j===null?N=T:j.sibling=T,j=T,S=O}if(E.done)return r(w,S),Ke&&da(w,k),N;if(S===null){for(;!E.done;k++,E=v.next())E=f(w,E.value,_),E!==null&&(x=o(E,x,k),j===null?N=E:j.sibling=E,j=E);return Ke&&da(w,k),N}for(S=n(w,S);!E.done;k++,E=v.next())E=p(S,w,k,E.value,_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?k:E.key),x=o(E,x,k),j===null?N=E:j.sibling=E,j=E);return e&&S.forEach(function(D){return t(w,D)}),Ke&&da(w,k),N}function y(w,x,v,_){if(typeof v=="object"&&v!==null&&v.type===xo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Oc:e:{for(var N=v.key,j=x;j!==null;){if(j.key===N){if(N=v.type,N===xo){if(j.tag===7){r(w,j.sibling),x=s(j,v.props.children),x.return=w,w=x;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===os&&ix(N)===j.type){r(w,j.sibling),x=s(j,v.props),x.ref=Bi(w,j,v),x.return=w,w=x;break e}r(w,j);break}else t(w,j);j=j.sibling}v.type===xo?(x=Ta(v.props.children,w.mode,_,v.key),x.return=w,w=x):(_=xu(v.type,v.key,v.props,null,w.mode,_),_.ref=Bi(w,x,v),_.return=w,w=_)}return i(w);case vo:e:{for(j=v.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){r(w,x.sibling),x=s(x,v.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=Jf(v,w.mode,_),x.return=w,w=x}return i(w);case os:return j=v._init,y(w,x,j(v._payload),_)}if(Yi(v))return b(w,x,v,_);if(Li(v))return g(w,x,v,_);qc(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(r(w,x.sibling),x=s(x,v),x.return=w,w=x):(r(w,x),x=Xf(v,w.mode,_),x.return=w,w=x),i(w)):r(w,x)}return y}var ai=Zw(!0),Xw=Zw(!1),Bu=Ys(null),qu=null,ko=null,Hp=null;function Kp(){Hp=ko=qu=null}function Gp(e){var t=Bu.current;Ve(Bu),e._currentValue=t}function am(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Io(e,t){qu=e,Hp=ko=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(Hp!==e)if(e={context:e,memoizedValue:t,next:null},ko===null){if(qu===null)throw Error(V(308));ko=e,qu.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var xa=null;function Qp(e){xa===null?xa=[e]:xa.push(e)}function Jw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Qp(t)):(r.next=s.next,s.next=r),t.interleaved=r,$n(e,n)}function $n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function Yp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,$n(e,r)}return s=n.interleaved,s===null?(t.next=t,Qp(n)):(t.next=s.next,s.next=t),n.interleaved=t,$n(e,r)}function fu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ip(e,r)}}function lx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vu(e,t,r,n){var s=e.updateQueue;is=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(m=t,p=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){f=b.call(p,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,m=typeof b=="function"?b.call(p,f,m):b,m==null)break e;f=Xe({},f,m);break e;case 2:is=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ma|=i,e.lanes=i,e.memoizedState=f}}function cx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(V(191,s));s.call(n)}}}var uc={},pn=Ys(uc),Rl=Ys(uc),Ol=Ys(uc);function ya(e){if(e===uc)throw Error(V(174));return e}function Zp(e,t){switch(Ue(Ol,t),Ue(Rl,e),Ue(pn,uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fh(t,e)}Ve(pn),Ue(pn,t)}function oi(){Ve(pn),Ve(Rl),Ve(Ol)}function tb(e){ya(Ol.current);var t=ya(pn.current),r=Fh(t,e.type);t!==r&&(Ue(Rl,e),Ue(pn,r))}function Xp(e){Rl.current===e&&(Ve(pn),Ve(Rl))}var Qe=Ys(0);function Wu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hf=[];function Jp(){for(var e=0;e<Hf.length;e++)Hf[e]._workInProgressVersionPrimary=null;Hf.length=0}var hu=Vn.ReactCurrentDispatcher,Kf=Vn.ReactCurrentBatchConfig,Aa=0,Ze=null,ht=null,xt=null,Hu=!1,dl=!1,Al=0,vE=0;function Pt(){throw Error(V(321))}function eg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gr(e[r],t[r]))return!1;return!0}function tg(e,t,r,n,s,o){if(Aa=o,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hu.current=e===null||e.memoizedState===null?bE:_E,e=r(n,s),dl){o=0;do{if(dl=!1,Al=0,25<=o)throw Error(V(301));o+=1,xt=ht=null,t.updateQueue=null,hu.current=jE,e=r(n,s)}while(dl)}if(hu.current=Ku,t=ht!==null&&ht.next!==null,Aa=0,xt=ht=Ze=null,Hu=!1,t)throw Error(V(300));return e}function rg(){var e=Al!==0;return Al=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=e:xt=xt.next=e,xt}function Tr(){if(ht===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=xt===null?Ze.memoizedState:xt.next;if(t!==null)xt=t,ht=e;else{if(e===null)throw Error(V(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},xt===null?Ze.memoizedState=xt=e:xt=xt.next=e}return xt}function Ml(e,t){return typeof t=="function"?t(e):t}function Gf(e){var t=Tr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=ht,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Aa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ze.lanes|=d,Ma|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Gr(n,t.memoizedState)||(Jt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ze.lanes|=o,Ma|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qf(e){var t=Tr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Gr(o,t.memoizedState)||(Jt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function rb(){}function nb(e,t){var r=Ze,n=Tr(),s=t(),o=!Gr(n.memoizedState,s);if(o&&(n.memoizedState=s,Jt=!0),n=n.queue,ng(ob.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Il(9,ab.bind(null,r,n,s,t),void 0,null),wt===null)throw Error(V(349));Aa&30||sb(r,t,s)}return s}function sb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ab(e,t,r,n){t.value=r,t.getSnapshot=n,ib(t)&&lb(e)}function ob(e,t,r){return r(function(){ib(t)&&lb(e)})}function ib(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gr(e,r)}catch{return!0}}function lb(e){var t=$n(e,1);t!==null&&Hr(t,e,1,-1)}function ux(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:e},t.queue=e,e=e.dispatch=wE.bind(null,Ze,e),[t.memoizedState,e]}function Il(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cb(){return Tr().memoizedState}function mu(e,t,r,n){var s=tn();Ze.flags|=e,s.memoizedState=Il(1|t,r,void 0,n===void 0?null:n)}function Ad(e,t,r,n){var s=Tr();n=n===void 0?null:n;var o=void 0;if(ht!==null){var i=ht.memoizedState;if(o=i.destroy,n!==null&&eg(n,i.deps)){s.memoizedState=Il(t,r,o,n);return}}Ze.flags|=e,s.memoizedState=Il(1|t,r,o,n)}function dx(e,t){return mu(8390656,8,e,t)}function ng(e,t){return Ad(2048,8,e,t)}function ub(e,t){return Ad(4,2,e,t)}function db(e,t){return Ad(4,4,e,t)}function fb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hb(e,t,r){return r=r!=null?r.concat([e]):null,Ad(4,4,fb.bind(null,t,e),r)}function sg(){}function mb(e,t){var r=Tr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function pb(e,t){var r=Tr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gb(e,t,r){return Aa&21?(Gr(r,t)||(r=bw(),Ze.lanes|=r,Ma|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=r)}function xE(e,t){var r=De;De=r!==0&&4>r?r:4,e(!0);var n=Kf.transition;Kf.transition={};try{e(!1),t()}finally{De=r,Kf.transition=n}}function vb(){return Tr().memoizedState}function yE(e,t,r){var n=As(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xb(e))yb(t,r);else if(r=Jw(e,t,r,n),r!==null){var s=Ut();Hr(r,e,n,s),wb(r,t,n)}}function wE(e,t,r){var n=As(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xb(e))yb(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Gr(l,i)){var c=t.interleaved;c===null?(s.next=s,Qp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Jw(e,t,s,n),r!==null&&(s=Ut(),Hr(r,e,n,s),wb(r,t,n))}}function xb(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function yb(e,t){dl=Hu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ip(e,r)}}var Ku={readContext:Pr,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},bE={readContext:Pr,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:dx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mu(4194308,4,fb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mu(4194308,4,e,t)},useInsertionEffect:function(e,t){return mu(4,2,e,t)},useMemo:function(e,t){var r=tn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yE.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:ux,useDebugValue:sg,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=ux(!1),t=e[0];return e=xE.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,s=tn();if(Ke){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),wt===null)throw Error(V(349));Aa&30||sb(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,dx(ob.bind(null,n,o,e),[e]),n.flags|=2048,Il(9,ab.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=tn(),t=wt.identifierPrefix;if(Ke){var r=Rn,n=Tn;r=(n&~(1<<32-Wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Al++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_E={readContext:Pr,useCallback:mb,useContext:Pr,useEffect:ng,useImperativeHandle:hb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:pb,useReducer:Gf,useRef:cb,useState:function(){return Gf(Ml)},useDebugValue:sg,useDeferredValue:function(e){var t=Tr();return gb(t,ht.memoizedState,e)},useTransition:function(){var e=Gf(Ml)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:rb,useSyncExternalStore:nb,useId:vb,unstable_isNewReconciler:!1},jE={readContext:Pr,useCallback:mb,useContext:Pr,useEffect:ng,useImperativeHandle:hb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:pb,useReducer:Qf,useRef:cb,useState:function(){return Qf(Ml)},useDebugValue:sg,useDeferredValue:function(e){var t=Tr();return ht===null?t.memoizedState=e:gb(t,ht.memoizedState,e)},useTransition:function(){var e=Qf(Ml)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:rb,useSyncExternalStore:nb,useId:vb,unstable_isNewReconciler:!1};function Fr(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function om(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Md={isMounted:function(e){return(e=e._reactInternals)?Ka(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ut(),s=As(e),o=An(n,s);o.payload=t,r!=null&&(o.callback=r),t=Rs(e,o,s),t!==null&&(Hr(t,e,s,n),fu(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ut(),s=As(e),o=An(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Rs(e,o,s),t!==null&&(Hr(t,e,s,n),fu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ut(),n=As(e),s=An(r,n);s.tag=2,t!=null&&(s.callback=t),t=Rs(e,s,n),t!==null&&(Hr(t,e,n,r),fu(t,e,n))}};function fx(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Cl(r,n)||!Cl(s,o):!0}function bb(e,t,r){var n=!1,s=Fs,o=t.contextType;return typeof o=="object"&&o!==null?o=Pr(o):(s=tr(t)?Ra:Mt.current,n=t.contextTypes,o=(n=n!=null)?ni(e,s):Fs),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Md,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function hx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Md.enqueueReplaceState(t,t.state,null)}function im(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Yp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Pr(o):(o=tr(t)?Ra:Mt.current,s.context=ni(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(om(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Md.enqueueReplaceState(s,s.state,null),Vu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,t){try{var r="",n=t;do r+=ZC(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Yf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function _b(e,t,r){r=An(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qu||(Qu=!0,xm=n),lm(e,t)},r}function jb(e,t,r){r=An(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){lm(e,t),typeof n!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function mx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new NE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=$E.bind(null,e,t,r),t.then(e,e))}function px(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gx(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=An(-1,1),t.tag=2,Rs(r,t,1))),r.lanes|=1),e)}var SE=Vn.ReactCurrentOwner,Jt=!1;function $t(e,t,r,n){t.child=e===null?Xw(t,null,r,n):ai(t,e.child,r,n)}function vx(e,t,r,n,s){r=r.render;var o=t.ref;return Io(t,s),n=tg(e,t,r,n,o,s),r=rg(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fn(e,t,s)):(Ke&&r&&qp(t),t.flags|=1,$t(e,t,n,s),t.child)}function xx(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!fg(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Nb(e,t,o,n,s)):(e=xu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Cl,r(i,n)&&e.ref===t.ref)return Fn(e,t,s)}return t.flags|=1,e=Ms(o,n),e.ref=t.ref,e.return=t,t.child=e}function Nb(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Cl(o,n)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,Fn(e,t,s)}return cm(e,t,r,n,s)}function Sb(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Eo,ar),ar|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Eo,ar),ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ue(Eo,ar),ar|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ue(Eo,ar),ar|=n;return $t(e,t,s,r),t.child}function kb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cm(e,t,r,n,s){var o=tr(r)?Ra:Mt.current;return o=ni(t,o),Io(t,s),r=tg(e,t,r,n,o,s),n=rg(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fn(e,t,s)):(Ke&&n&&qp(t),t.flags|=1,$t(e,t,r,s),t.child)}function yx(e,t,r,n,s){if(tr(r)){var o=!0;Fu(t)}else o=!1;if(Io(t,s),t.stateNode===null)pu(e,t),bb(t,r,n),im(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pr(u):(u=tr(r)?Ra:Mt.current,u=ni(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&hx(t,i,n,u),is=!1;var m=t.memoizedState;i.state=m,Vu(t,n,i,s),c=t.memoizedState,l!==n||m!==c||er.current||is?(typeof d=="function"&&(om(t,r,d,n),c=t.memoizedState),(l=is||fx(t,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,eb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fr(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=tr(r)?Ra:Mt.current,c=ni(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&hx(t,i,n,c),is=!1,m=t.memoizedState,i.state=m,Vu(t,n,i,s);var b=t.memoizedState;l!==f||m!==b||er.current||is?(typeof p=="function"&&(om(t,r,p,n),b=t.memoizedState),(u=is||fx(t,r,u,n,m,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return um(e,t,r,n,o,s)}function um(e,t,r,n,s,o){kb(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&sx(t,r,!1),Fn(e,t,o);n=t.stateNode,SE.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ai(t,e.child,null,o),t.child=ai(t,null,l,o)):$t(e,t,l,o),t.memoizedState=n.state,s&&sx(t,r,!0),t.child}function Cb(e){var t=e.stateNode;t.pendingContext?nx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nx(e,t.context,!1),Zp(e,t.containerInfo)}function wx(e,t,r,n,s){return si(),Wp(s),t.flags|=256,$t(e,t,r,n),t.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function fm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eb(e,t,r){var n=t.pendingProps,s=Qe.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ue(Qe,s&1),e===null)return sm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ld(i,n,0,null),e=Ta(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=fm(r),t.memoizedState=dm,e):ag(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return kE(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ms(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Ms(l,o):(o=Ta(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?fm(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=dm,n}return o=e.child,e=o.sibling,n=Ms(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ag(e,t){return t=Ld({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vc(e,t,r,n){return n!==null&&Wp(n),ai(t,e.child,null,r),e=ag(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kE(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Yf(Error(V(422))),Vc(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Ld({mode:"visible",children:n.children},s,0,null),o=Ta(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ai(t,e.child,null,i),t.child.memoizedState=fm(i),t.memoizedState=dm,o);if(!(t.mode&1))return Vc(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(V(419)),n=Yf(o,n,void 0),Vc(e,t,i,n)}if(l=(i&e.childLanes)!==0,Jt||l){if(n=wt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,$n(e,s),Hr(n,e,s,-1))}return dg(),n=Yf(Error(V(421))),Vc(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=FE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,lr=Ts(s.nextSibling),cr=t,Ke=!0,Vr=null,e!==null&&(jr[Nr++]=Tn,jr[Nr++]=Rn,jr[Nr++]=Oa,Tn=e.id,Rn=e.overflow,Oa=t),t=ag(t,n.children),t.flags|=4096,t)}function bx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),am(e.return,t,r)}function Zf(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Pb(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if($t(e,t,n.children,r),n=Qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bx(e,r,t);else if(e.tag===19)bx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ue(Qe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Wu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zf(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Wu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zf(t,!0,r,null,o);break;case"together":Zf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=Ms(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ms(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function CE(e,t,r){switch(t.tag){case 3:Cb(t),si();break;case 5:tb(t);break;case 1:tr(t.type)&&Fu(t);break;case 4:Zp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ue(Bu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ue(Qe,Qe.current&1),t.flags|=128,null):r&t.child.childLanes?Eb(e,t,r):(Ue(Qe,Qe.current&1),e=Fn(e,t,r),e!==null?e.sibling:null);Ue(Qe,Qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Pb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,Sb(e,t,r)}return Fn(e,t,r)}var Tb,hm,Rb,Ob;Tb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hm=function(){};Rb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ya(pn.current);var o=null;switch(r){case"input":s=Ih(e,s),n=Ih(e,n),o=[];break;case"select":s=Xe({},s,{value:void 0}),n=Xe({},n,{value:void 0}),o=[];break;case"textarea":s=$h(e,s),n=$h(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lu)}zh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ob=function(e,t,r,n){r!==n&&(t.flags|=4)};function qi(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function EE(e,t,r){var n=t.pendingProps;switch(Vp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return tr(t.type)&&$u(),Tt(t),null;case 3:return n=t.stateNode,oi(),Ve(er),Ve(Mt),Jp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vr!==null&&(bm(Vr),Vr=null))),hm(e,t),Tt(t),null;case 5:Xp(t);var s=ya(Ol.current);if(r=t.type,e!==null&&t.stateNode!=null)Rb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return Tt(t),null}if(e=ya(pn.current),Bc(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[on]=t,n[Tl]=o,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(s=0;s<Xi.length;s++)qe(Xi[s],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":Tv(n,o),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},qe("invalid",n);break;case"textarea":Ov(n,o),qe("invalid",n)}zh(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Uc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Uc(n.textContent,l,e),s=["children",""+l]):wl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&qe("scroll",n)}switch(r){case"input":Ac(n),Rv(n,o,!0);break;case"textarea":Ac(n),Av(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Lu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ow(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[on]=t,e[Tl]=n,Tb(e,t,!1,!1),t.stateNode=e;e:{switch(i=Uh(r,n),r){case"dialog":qe("cancel",e),qe("close",e),s=n;break;case"iframe":case"object":case"embed":qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Xi.length;s++)qe(Xi[s],e);s=n;break;case"source":qe("error",e),s=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),s=n;break;case"details":qe("toggle",e),s=n;break;case"input":Tv(e,n),s=Ih(e,n),qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Xe({},n,{value:void 0}),qe("invalid",e);break;case"textarea":Ov(e,n),s=$h(e,n),qe("invalid",e);break;default:s=n}zh(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?cw(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iw(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bl(e,c):typeof c=="number"&&bl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&qe("scroll",e):c!=null&&Pp(e,o,c,i))}switch(r){case"input":Ac(e),Rv(e,n,!1);break;case"textarea":Ac(e),Av(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$s(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ro(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ro(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Lu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Ob(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=ya(Ol.current),ya(pn.current),Bc(t)){if(n=t.stateNode,r=t.memoizedProps,n[on]=t,(o=n.nodeValue!==r)&&(e=cr,e!==null))switch(e.tag){case 3:Uc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uc(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[on]=t,t.stateNode=n}return Tt(t),null;case 13:if(Ve(Qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&lr!==null&&t.mode&1&&!(t.flags&128))Yw(),si(),t.flags|=98560,o=!1;else if(o=Bc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[on]=t}else si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),o=!1}else Vr!==null&&(bm(Vr),Vr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?gt===0&&(gt=3):dg())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return oi(),hm(e,t),e===null&&El(t.stateNode.containerInfo),Tt(t),null;case 10:return Gp(t.type._context),Tt(t),null;case 17:return tr(t.type)&&$u(),Tt(t),null;case 19:if(Ve(Qe),o=t.memoizedState,o===null)return Tt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)qi(o,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Wu(e),i!==null){for(t.flags|=128,qi(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ue(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&nt()>li&&(t.flags|=128,n=!0,qi(o,!1),t.lanes=4194304)}else{if(!n)if(e=Wu(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ke)return Tt(t),null}else 2*nt()-o.renderingStartTime>li&&r!==1073741824&&(t.flags|=128,n=!0,qi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nt(),t.sibling=null,r=Qe.current,Ue(Qe,n?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return ug(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ar&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function PE(e,t){switch(Vp(t),t.tag){case 1:return tr(t.type)&&$u(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oi(),Ve(er),Ve(Mt),Jp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xp(t),null;case 13:if(Ve(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Qe),null;case 4:return oi(),null;case 10:return Gp(t.type._context),null;case 22:case 23:return ug(),null;case 24:return null;default:return null}}var Wc=!1,Ot=!1,TE=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Co(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(e,t,n)}else r.current=null}function mm(e,t,r){try{r()}catch(n){et(e,t,n)}}var _x=!1;function RE(e,t){if(Zh=Mu,e=Lw(),Bp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=i),m===o&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xh={focusedElem:e,selectionRange:r},Mu=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,y=b.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:Fr(t.type,g),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){et(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return b=_x,_x=!1,b}function fl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&mm(t,r,o)}s=s.next}while(s!==n)}}function Id(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ab(e){var t=e.alternate;t!==null&&(e.alternate=null,Ab(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[Tl],delete t[tm],delete t[hE],delete t[mE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mb(e){return e.tag===5||e.tag===3||e.tag===4}function jx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lu));else if(n!==4&&(e=e.child,e!==null))for(gm(e,t,r),e=e.sibling;e!==null;)gm(e,t,r),e=e.sibling}function vm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vm(e,t,r),e=e.sibling;e!==null;)vm(e,t,r),e=e.sibling}var Nt=null,Br=!1;function Zn(e,t,r){for(r=r.child;r!==null;)Ib(e,t,r),r=r.sibling}function Ib(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Cd,r)}catch{}switch(r.tag){case 5:Ot||Co(r,t);case 6:var n=Nt,s=Br;Nt=null,Zn(e,t,r),Nt=n,Br=s,Nt!==null&&(Br?(e=Nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(Br?(e=Nt,r=r.stateNode,e.nodeType===8?Vf(e.parentNode,r):e.nodeType===1&&Vf(e,r),Sl(e)):Vf(Nt,r.stateNode));break;case 4:n=Nt,s=Br,Nt=r.stateNode.containerInfo,Br=!0,Zn(e,t,r),Nt=n,Br=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&mm(r,t,i),s=s.next}while(s!==n)}Zn(e,t,r);break;case 1:if(!Ot&&(Co(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){et(r,t,l)}Zn(e,t,r);break;case 21:Zn(e,t,r);break;case 22:r.mode&1?(Ot=(n=Ot)||r.memoizedState!==null,Zn(e,t,r),Ot=n):Zn(e,t,r);break;default:Zn(e,t,r)}}function Nx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TE),t.forEach(function(n){var s=zE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Dr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Br=!1;break e;case 3:Nt=l.stateNode.containerInfo,Br=!0;break e;case 4:Nt=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(Nt===null)throw Error(V(160));Ib(o,i,s),Nt=null,Br=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Db(t,e),t=t.sibling}function Db(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dr(t,e),Jr(e),n&4){try{fl(3,e,e.return),Id(3,e)}catch(g){et(e,e.return,g)}try{fl(5,e,e.return)}catch(g){et(e,e.return,g)}}break;case 1:Dr(t,e),Jr(e),n&512&&r!==null&&Co(r,r.return);break;case 5:if(Dr(t,e),Jr(e),n&512&&r!==null&&Co(r,r.return),e.flags&32){var s=e.stateNode;try{bl(s,"")}catch(g){et(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&sw(s,o),Uh(l,i);var u=Uh(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?cw(s,f):d==="dangerouslySetInnerHTML"?iw(s,f):d==="children"?bl(s,f):Pp(s,d,f,u)}switch(l){case"input":Dh(s,o);break;case"textarea":aw(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ro(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ro(s,!!o.multiple,o.defaultValue,!0):Ro(s,!!o.multiple,o.multiple?[]:"",!1))}s[Tl]=o}catch(g){et(e,e.return,g)}}break;case 6:if(Dr(t,e),Jr(e),n&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){et(e,e.return,g)}}break;case 3:if(Dr(t,e),Jr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(g){et(e,e.return,g)}break;case 4:Dr(t,e),Jr(e);break;case 13:Dr(t,e),Jr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(lg=nt())),n&4&&Nx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ot=(u=Ot)||d,Dr(t,e),Ot=u):Dr(t,e),Jr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(m=ie,p=m.child,m.tag){case 0:case 11:case 14:case 15:fl(4,m,m.return);break;case 1:Co(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){et(n,r,g)}}break;case 5:Co(m,m.return);break;case 22:if(m.memoizedState!==null){kx(f);continue}}p!==null?(p.return=m,ie=p):kx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=lw("display",i))}catch(g){et(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){et(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dr(t,e),Jr(e),n&4&&Nx(e);break;case 21:break;default:Dr(t,e),Jr(e)}}function Jr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mb(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(bl(s,""),n.flags&=-33);var o=jx(e);vm(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=jx(e);gm(e,l,i);break;default:throw Error(V(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OE(e,t,r){ie=e,Lb(e)}function Lb(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var s=ie,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Wc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ot;l=Wc;var u=Ot;if(Wc=i,(Ot=c)&&!u)for(ie=s;ie!==null;)i=ie,c=i.child,i.tag===22&&i.memoizedState!==null?Cx(s):c!==null?(c.return=i,ie=c):Cx(s);for(;o!==null;)ie=o,Lb(o),o=o.sibling;ie=s,Wc=l,Ot=u}Sx(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ie=o):Sx(e)}}function Sx(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ot||Id(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ot)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Fr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cx(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ot||t.flags&512&&pm(t)}catch(m){et(t,t.return,m)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function kx(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Cx(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Id(4,t)}catch(c){et(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){et(t,s,c)}}var o=t.return;try{pm(t)}catch(c){et(t,o,c)}break;case 5:var i=t.return;try{pm(t)}catch(c){et(t,i,c)}}}catch(c){et(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var AE=Math.ceil,Gu=Vn.ReactCurrentDispatcher,og=Vn.ReactCurrentOwner,kr=Vn.ReactCurrentBatchConfig,Te=0,wt=null,lt=null,St=0,ar=0,Eo=Ys(0),gt=0,Dl=null,Ma=0,Dd=0,ig=0,hl=null,Zt=null,lg=0,li=1/0,Nn=null,Qu=!1,xm=null,Os=null,Hc=!1,js=null,Yu=0,ml=0,ym=null,gu=-1,vu=0;function Ut(){return Te&6?nt():gu!==-1?gu:gu=nt()}function As(e){return e.mode&1?Te&2&&St!==0?St&-St:gE.transition!==null?(vu===0&&(vu=bw()),vu):(e=De,e!==0||(e=window.event,e=e===void 0?16:Ew(e.type)),e):1}function Hr(e,t,r,n){if(50<ml)throw ml=0,ym=null,Error(V(185));ic(e,r,n),(!(Te&2)||e!==wt)&&(e===wt&&(!(Te&2)&&(Dd|=r),gt===4&&us(e,St)),rr(e,n),r===1&&Te===0&&!(t.mode&1)&&(li=nt()+500,Od&&Zs()))}function rr(e,t){var r=e.callbackNode;g2(e,t);var n=Au(e,e===wt?St:0);if(n===0)r!==null&&Dv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Dv(r),t===1)e.tag===0?pE(Ex.bind(null,e)):Kw(Ex.bind(null,e)),dE(function(){!(Te&6)&&Zs()}),r=null;else{switch(_w(n)){case 1:r=Mp;break;case 4:r=yw;break;case 16:r=Ou;break;case 536870912:r=ww;break;default:r=Ou}r=Wb(r,$b.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $b(e,t){if(gu=-1,vu=0,Te&6)throw Error(V(327));var r=e.callbackNode;if(Do()&&e.callbackNode!==r)return null;var n=Au(e,e===wt?St:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zu(e,n);else{t=n;var s=Te;Te|=2;var o=zb();(wt!==e||St!==t)&&(Nn=null,li=nt()+500,Pa(e,t));do try{DE();break}catch(l){Fb(e,l)}while(!0);Kp(),Gu.current=o,Te=s,lt!==null?t=0:(wt=null,St=0,t=gt)}if(t!==0){if(t===2&&(s=Hh(e),s!==0&&(n=s,t=wm(e,s))),t===1)throw r=Dl,Pa(e,0),us(e,n),rr(e,nt()),r;if(t===6)us(e,n);else{if(s=e.current.alternate,!(n&30)&&!ME(s)&&(t=Zu(e,n),t===2&&(o=Hh(e),o!==0&&(n=o,t=wm(e,o))),t===1))throw r=Dl,Pa(e,0),us(e,n),rr(e,nt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:fa(e,Zt,Nn);break;case 3:if(us(e,n),(n&130023424)===n&&(t=lg+500-nt(),10<t)){if(Au(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=em(fa.bind(null,e,Zt,Nn),t);break}fa(e,Zt,Nn);break;case 4:if(us(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Wr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AE(n/1960))-n,10<n){e.timeoutHandle=em(fa.bind(null,e,Zt,Nn),n);break}fa(e,Zt,Nn);break;case 5:fa(e,Zt,Nn);break;default:throw Error(V(329))}}}return rr(e,nt()),e.callbackNode===r?$b.bind(null,e):null}function wm(e,t){var r=hl;return e.current.memoizedState.isDehydrated&&(Pa(e,t).flags|=256),e=Zu(e,t),e!==2&&(t=Zt,Zt=r,t!==null&&bm(t)),e}function bm(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function ME(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Gr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function us(e,t){for(t&=~ig,t&=~Dd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wr(t),n=1<<r;e[r]=-1,t&=~n}}function Ex(e){if(Te&6)throw Error(V(327));Do();var t=Au(e,0);if(!(t&1))return rr(e,nt()),null;var r=Zu(e,t);if(e.tag!==0&&r===2){var n=Hh(e);n!==0&&(t=n,r=wm(e,n))}if(r===1)throw r=Dl,Pa(e,0),us(e,t),rr(e,nt()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fa(e,Zt,Nn),rr(e,nt()),null}function cg(e,t){var r=Te;Te|=1;try{return e(t)}finally{Te=r,Te===0&&(li=nt()+500,Od&&Zs())}}function Ia(e){js!==null&&js.tag===0&&!(Te&6)&&Do();var t=Te;Te|=1;var r=kr.transition,n=De;try{if(kr.transition=null,De=1,e)return e()}finally{De=n,kr.transition=r,Te=t,!(Te&6)&&Zs()}}function ug(){ar=Eo.current,Ve(Eo)}function Pa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uE(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(Vp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$u();break;case 3:oi(),Ve(er),Ve(Mt),Jp();break;case 5:Xp(n);break;case 4:oi();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:Gp(n.type._context);break;case 22:case 23:ug()}r=r.return}if(wt=e,lt=e=Ms(e.current,null),St=ar=t,gt=0,Dl=null,ig=Dd=Ma=0,Zt=hl=null,xa!==null){for(t=0;t<xa.length;t++)if(r=xa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}xa=null}return e}function Fb(e,t){do{var r=lt;try{if(Kp(),hu.current=Ku,Hu){for(var n=Ze.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Hu=!1}if(Aa=0,xt=ht=Ze=null,dl=!1,Al=0,og.current=null,r===null||r.return===null){gt=1,Dl=t,lt=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=St,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=px(i);if(p!==null){p.flags&=-257,gx(p,i,l,o,t),p.mode&1&&mx(o,u,t),t=p,c=u;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if(!(t&1)){mx(o,u,t),dg();break e}c=Error(V(426))}}else if(Ke&&l.mode&1){var y=px(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),gx(y,i,l,o,t),Wp(ii(c,l));break e}}o=c=ii(c,l),gt!==4&&(gt=2),hl===null?hl=[o]:hl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=_b(o,c,t);lx(o,w);break e;case 1:l=c;var x=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Os===null||!Os.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=jb(o,l,t);lx(o,_);break e}}o=o.return}while(o!==null)}Bb(r)}catch(N){t=N,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function zb(){var e=Gu.current;return Gu.current=Ku,e===null?Ku:e}function dg(){(gt===0||gt===3||gt===2)&&(gt=4),wt===null||!(Ma&268435455)&&!(Dd&268435455)||us(wt,St)}function Zu(e,t){var r=Te;Te|=2;var n=zb();(wt!==e||St!==t)&&(Nn=null,Pa(e,t));do try{IE();break}catch(s){Fb(e,s)}while(!0);if(Kp(),Te=r,Gu.current=n,lt!==null)throw Error(V(261));return wt=null,St=0,gt}function IE(){for(;lt!==null;)Ub(lt)}function DE(){for(;lt!==null&&!i2();)Ub(lt)}function Ub(e){var t=Vb(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?Bb(e):lt=t,og.current=null}function Bb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=PE(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,lt=null;return}}else if(r=EE(r,t,ar),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);gt===0&&(gt=5)}function fa(e,t,r){var n=De,s=kr.transition;try{kr.transition=null,De=1,LE(e,t,r,n)}finally{kr.transition=s,De=n}return null}function LE(e,t,r,n){do Do();while(js!==null);if(Te&6)throw Error(V(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(v2(e,o),e===wt&&(lt=wt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hc||(Hc=!0,Wb(Ou,function(){return Do(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=kr.transition,kr.transition=null;var i=De;De=1;var l=Te;Te|=4,og.current=null,RE(e,r),Db(r,e),nE(Xh),Mu=!!Zh,Xh=Zh=null,e.current=r,OE(r),l2(),Te=l,De=i,kr.transition=o}else e.current=r;if(Hc&&(Hc=!1,js=e,Yu=s),o=e.pendingLanes,o===0&&(Os=null),d2(r.stateNode),rr(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Qu)throw Qu=!1,e=xm,xm=null,e;return Yu&1&&e.tag!==0&&Do(),o=e.pendingLanes,o&1?e===ym?ml++:(ml=0,ym=e):ml=0,Zs(),null}function Do(){if(js!==null){var e=_w(Yu),t=kr.transition,r=De;try{if(kr.transition=null,De=16>e?16:e,js===null)var n=!1;else{if(e=js,js=null,Yu=0,Te&6)throw Error(V(331));var s=Te;for(Te|=4,ie=e.current;ie!==null;){var o=ie,i=o.child;if(ie.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:fl(8,d,o)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var m=d.sibling,p=d.return;if(Ab(d),d===u){ie=null;break}if(m!==null){m.return=p,ie=m;break}ie=p}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ie=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ie=i;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ie=w;break e}ie=o.return}}var x=e.current;for(ie=x;ie!==null;){i=ie;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,ie=v;else e:for(i=x;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Id(9,l)}}catch(N){et(l,l.return,N)}if(l===i){ie=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ie=_;break e}ie=l.return}}if(Te=s,Zs(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Cd,e)}catch{}n=!0}return n}finally{De=r,kr.transition=t}}return!1}function Px(e,t,r){t=ii(r,t),t=_b(e,t,1),e=Rs(e,t,1),t=Ut(),e!==null&&(ic(e,1,t),rr(e,t))}function et(e,t,r){if(e.tag===3)Px(e,e,r);else for(;t!==null;){if(t.tag===3){Px(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Os===null||!Os.has(n))){e=ii(r,e),e=jb(t,e,1),t=Rs(t,e,1),e=Ut(),t!==null&&(ic(t,1,e),rr(t,e));break}}t=t.return}}function $E(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&r,wt===e&&(St&r)===r&&(gt===4||gt===3&&(St&130023424)===St&&500>nt()-lg?Pa(e,0):ig|=r),rr(e,t)}function qb(e,t){t===0&&(e.mode&1?(t=Dc,Dc<<=1,!(Dc&130023424)&&(Dc=4194304)):t=1);var r=Ut();e=$n(e,t),e!==null&&(ic(e,t,r),rr(e,r))}function FE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qb(e,r)}function zE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),qb(e,r)}var Vb;Vb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||er.current)Jt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Jt=!1,CE(e,t,r);Jt=!!(e.flags&131072)}else Jt=!1,Ke&&t.flags&1048576&&Gw(t,Uu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pu(e,t),e=t.pendingProps;var s=ni(t,Mt.current);Io(t,r),s=tg(null,t,n,e,s,r);var o=rg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tr(n)?(o=!0,Fu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yp(t),s.updater=Md,t.stateNode=s,s._reactInternals=t,im(t,n,e,r),t=um(null,t,n,!0,o,r)):(t.tag=0,Ke&&o&&qp(t),$t(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pu(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=BE(n),e=Fr(n,e),s){case 0:t=cm(null,t,n,e,r);break e;case 1:t=yx(null,t,n,e,r);break e;case 11:t=vx(null,t,n,e,r);break e;case 14:t=xx(null,t,n,Fr(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),cm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),yx(e,t,n,s,r);case 3:e:{if(Cb(t),e===null)throw Error(V(387));n=t.pendingProps,o=t.memoizedState,s=o.element,eb(e,t),Vu(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ii(Error(V(423)),t),t=wx(e,t,n,r,s);break e}else if(n!==s){s=ii(Error(V(424)),t),t=wx(e,t,n,r,s);break e}else for(lr=Ts(t.stateNode.containerInfo.firstChild),cr=t,Ke=!0,Vr=null,r=Xw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(si(),n===s){t=Fn(e,t,r);break e}$t(e,t,n,r)}t=t.child}return t;case 5:return tb(t),e===null&&sm(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Jh(n,s)?i=null:o!==null&&Jh(n,o)&&(t.flags|=32),kb(e,t),$t(e,t,i,r),t.child;case 6:return e===null&&sm(t),null;case 13:return Eb(e,t,r);case 4:return Zp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ai(t,null,n,r):$t(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),vx(e,t,n,s,r);case 7:return $t(e,t,t.pendingProps,r),t.child;case 8:return $t(e,t,t.pendingProps.children,r),t.child;case 12:return $t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ue(Bu,n._currentValue),n._currentValue=i,o!==null)if(Gr(o.value,i)){if(o.children===s.children&&!er.current){t=Fn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=An(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),am(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(V(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),am(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}$t(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Io(t,r),s=Pr(s),n=n(s),t.flags|=1,$t(e,t,n,r),t.child;case 14:return n=t.type,s=Fr(n,t.pendingProps),s=Fr(n.type,s),xx(e,t,n,s,r);case 15:return Nb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),pu(e,t),t.tag=1,tr(n)?(e=!0,Fu(t)):e=!1,Io(t,r),bb(t,n,s),im(t,n,s,r),um(null,t,n,!0,e,r);case 19:return Pb(e,t,r);case 22:return Sb(e,t,r)}throw Error(V(156,t.tag))};function Wb(e,t){return xw(e,t)}function UE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,r,n){return new UE(e,t,r,n)}function fg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BE(e){if(typeof e=="function")return fg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rp)return 11;if(e===Op)return 14}return 2}function Ms(e,t){var r=e.alternate;return r===null?(r=Sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xu(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")fg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xo:return Ta(r.children,s,o,t);case Tp:i=8,s|=8;break;case Rh:return e=Sr(12,r,t,s|2),e.elementType=Rh,e.lanes=o,e;case Oh:return e=Sr(13,r,t,s),e.elementType=Oh,e.lanes=o,e;case Ah:return e=Sr(19,r,t,s),e.elementType=Ah,e.lanes=o,e;case tw:return Ld(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J0:i=10;break e;case ew:i=9;break e;case Rp:i=11;break e;case Op:i=14;break e;case os:i=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Sr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Ta(e,t,r,n){return e=Sr(7,e,n,t),e.lanes=r,e}function Ld(e,t,r,n){return e=Sr(22,e,n,t),e.elementType=tw,e.lanes=r,e.stateNode={isHidden:!1},e}function Xf(e,t,r){return e=Sr(6,e,null,t),e.lanes=r,e}function Jf(e,t,r){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qE(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Af(0),this.expirationTimes=Af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hg(e,t,r,n,s,o,i,l,c){return e=new qE(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Sr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yp(o),e}function VE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Hb(e){if(!e)return Fs;e=e._reactInternals;e:{if(Ka(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(tr(r))return Hw(e,r,t)}return t}function Kb(e,t,r,n,s,o,i,l,c){return e=hg(r,n,!0,e,s,o,i,l,c),e.context=Hb(null),r=e.current,n=Ut(),s=As(r),o=An(n,s),o.callback=t??null,Rs(r,o,s),e.current.lanes=s,ic(e,s,n),rr(e,n),e}function $d(e,t,r,n){var s=t.current,o=Ut(),i=As(s);return r=Hb(r),t.context===null?t.context=r:t.pendingContext=r,t=An(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rs(s,t,i),e!==null&&(Hr(e,s,i,o),fu(e,s,i)),i}function Xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mg(e,t){Tx(e,t),(e=e.alternate)&&Tx(e,t)}function WE(){return null}var Gb=typeof reportError=="function"?reportError:function(e){console.error(e)};function pg(e){this._internalRoot=e}Fd.prototype.render=pg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));$d(e,t,null,null)};Fd.prototype.unmount=pg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ia(function(){$d(null,e,null,null)}),t[Ln]=null}};function Fd(e){this._internalRoot=e}Fd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cs.length&&t!==0&&t<cs[r].priority;r++);cs.splice(r,0,e),r===0&&Cw(e)}};function gg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rx(){}function HE(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Xu(i);o.call(u)}}var i=Kb(t,n,e,0,null,!1,!1,"",Rx);return e._reactRootContainer=i,e[Ln]=i.current,El(e.nodeType===8?e.parentNode:e),Ia(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Xu(c);l.call(u)}}var c=hg(e,0,!1,null,null,!1,!1,"",Rx);return e._reactRootContainer=c,e[Ln]=c.current,El(e.nodeType===8?e.parentNode:e),Ia(function(){$d(t,c,r,n)}),c}function Ud(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Xu(i);l.call(c)}}$d(t,i,e,s)}else i=HE(r,t,e,s,n);return Xu(i)}jw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zi(t.pendingLanes);r!==0&&(Ip(t,r|1),rr(t,nt()),!(Te&6)&&(li=nt()+500,Zs()))}break;case 13:Ia(function(){var n=$n(e,1);if(n!==null){var s=Ut();Hr(n,e,1,s)}}),mg(e,1)}};Dp=function(e){if(e.tag===13){var t=$n(e,134217728);if(t!==null){var r=Ut();Hr(t,e,134217728,r)}mg(e,134217728)}};Nw=function(e){if(e.tag===13){var t=As(e),r=$n(e,t);if(r!==null){var n=Ut();Hr(r,e,t,n)}mg(e,t)}};Sw=function(){return De};kw=function(e,t){var r=De;try{return De=e,t()}finally{De=r}};qh=function(e,t,r){switch(t){case"input":if(Dh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Rd(n);if(!s)throw Error(V(90));nw(n),Dh(n,s)}}}break;case"textarea":aw(e,r);break;case"select":t=r.value,t!=null&&Ro(e,!!r.multiple,t,!1)}};fw=cg;hw=Ia;var KE={usingClientEntryPoint:!1,Events:[cc,_o,Rd,uw,dw,cg]},Vi={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GE={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gw(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||WE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Cd=Kc.inject(GE),mn=Kc}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KE;vr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gg(t))throw Error(V(200));return VE(e,t,null,r)};vr.createRoot=function(e,t){if(!gg(e))throw Error(V(299));var r=!1,n="",s=Gb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hg(e,1,!1,null,null,r,!1,n,s),e[Ln]=t.current,El(e.nodeType===8?e.parentNode:e),new pg(t)};vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=gw(t),e=e===null?null:e.stateNode,e};vr.flushSync=function(e){return Ia(e)};vr.hydrate=function(e,t,r){if(!zd(t))throw Error(V(200));return Ud(null,e,t,!0,r)};vr.hydrateRoot=function(e,t,r){if(!gg(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Gb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Kb(t,null,e,1,r??null,s,!1,o,i),e[Ln]=t.current,El(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Fd(t)};vr.render=function(e,t,r){if(!zd(t))throw Error(V(200));return Ud(null,e,t,!1,r)};vr.unmountComponentAtNode=function(e){if(!zd(e))throw Error(V(40));return e._reactRootContainer?(Ia(function(){Ud(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1};vr.unstable_batchedUpdates=cg;vr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zd(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Ud(e,t,r,!1,n)};vr.version="18.3.1-next-f1338f8080-20240426";function Qb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qb)}catch(e){console.error(e)}}Qb(),Q0.exports=vr;var Xs=Q0.exports;const Yb=L0(Xs);var Zb,Ox=Xs;Zb=Ox.createRoot,Ox.hydrateRoot;const QE=1,YE=1e6;let eh=0;function ZE(){return eh=(eh+1)%Number.MAX_SAFE_INTEGER,eh.toString()}const th=new Map,Ax=e=>{if(th.has(e))return;const t=setTimeout(()=>{th.delete(e),pl({type:"REMOVE_TOAST",toastId:e})},YE);th.set(e,t)},XE=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,QE)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ax(r):e.toasts.forEach(n=>{Ax(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},yu=[];let wu={toasts:[]};function pl(e){wu=XE(wu,e),yu.forEach(t=>{t(wu)})}function JE({...e}){const t=ZE(),r=s=>pl({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>pl({type:"DISMISS_TOAST",toastId:t});return pl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function eP(){const[e,t]=h.useState(wu);return h.useEffect(()=>(yu.push(t),()=>{const r=yu.indexOf(t);r>-1&&yu.splice(r,1)}),[e]),{...e,toast:JE,dismiss:r=>pl({type:"DISMISS_TOAST",toastId:r})}}function G(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Mx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bd(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Mx(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Mx(e[s],null)}}}}function Ne(...e){return h.useCallback(Bd(...e),e)}function tP(e,t){const r=h.createContext(t),n=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function sr(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var w;const{scope:m,children:p,...b}=f,g=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,y=h.useMemo(()=>b,Object.values(b));return a.jsx(g.Provider,{value:y,children:p})};u.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=h.useContext(p);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,rP(s,...t)]}function rP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function zs(e){const t=sP(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,l=h.Children.toArray(o),c=l.find(oP);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var nP=zs("Slot");function sP(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=lP(s),l=iP(o,s.props);return s.type!==h.Fragment&&(l.ref=n?Bd(n,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xb=Symbol("radix.slottable");function aP(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Xb,t}function oP(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xb}function iP(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function lP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qd(e){const t=e+"CollectionProvider",[r,n]=sr(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:w}=g,x=Z.useRef(null),v=Z.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:v,collectionRef:x,children:w})};i.displayName=t;const l=e+"CollectionSlot",c=zs(l),u=Z.forwardRef((g,y)=>{const{scope:w,children:x}=g,v=o(l,w),_=Ne(y,v.collectionRef);return a.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=zs(d),p=Z.forwardRef((g,y)=>{const{scope:w,children:x,...v}=g,_=Z.useRef(null),N=Ne(y,_),j=o(d,w);return Z.useEffect(()=>(j.itemMap.set(_,{ref:_,...v}),()=>void j.itemMap.delete(_))),a.jsx(m,{[f]:"",ref:N,children:x})});p.displayName=d;function b(g){const y=o(e+"CollectionConsumer",g);return Z.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((j,S)=>v.indexOf(j.ref.current)-v.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},b,n]}var cP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=cP.reduce((e,t)=>{const r=zs(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vg(e,t){e&&Xs.flushSync(()=>e.dispatchEvent(t))}function tt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function uP(e,t=globalThis==null?void 0:globalThis.document){const r=tt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var dP="DismissableLayer",_m="dismissableLayer.update",fP="dismissableLayer.pointerDownOutside",hP="dismissableLayer.focusOutside",Ix,Jb=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ga=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(Jb),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),b=Ne(t,S=>f(S)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),x=d?g.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=w,N=pP(S=>{const k=S.target,O=[...u.branches].some(E=>E.contains(k));!_||O||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},m),j=gP(S=>{const k=S.target;[...u.branches].some(E=>E.contains(k))||(o==null||o(S),i==null||i(S),S.defaultPrevented||l==null||l())},m);return uP(S=>{x===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ix=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ix)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dx())},[d,u]),h.useEffect(()=>{const S=()=>p({});return document.addEventListener(_m,S),()=>document.removeEventListener(_m,S)},[]),a.jsx(de.div,{...c,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,j.onFocusCapture),onBlurCapture:G(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,N.onPointerDownCapture)})});Ga.displayName=dP;var mP="DismissableLayerBranch",e1=h.forwardRef((e,t)=>{const r=h.useContext(Jb),n=h.useRef(null),s=Ne(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(de.div,{...e,ref:s})});e1.displayName=mP;function pP(e,t=globalThis==null?void 0:globalThis.document){const r=tt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){t1(fP,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function gP(e,t=globalThis==null?void 0:globalThis.document){const r=tt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&t1(hP,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Dx(){const e=new CustomEvent(_m);document.dispatchEvent(e)}function t1(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?vg(s,o):s.dispatchEvent(o)}var vP=Ga,xP=e1,at=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},yP="Portal",Si=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=h.useState(!1);at(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Yb.createPortal(a.jsx(de.div,{...n,ref:t}),i):null});Si.displayName=yP;function wP(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Ct=e=>{const{present:t,children:r}=e,n=bP(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=Ne(n.ref,_P(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Ct.displayName="Presence";function bP(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=wP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Gc(n.current);o.current=l==="mounted"?u:"none"},[l]),at(()=>{const u=n.current,d=s.current;if(d!==e){const m=o.current,p=Gc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),at(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Gc(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(o.current=Gc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Gc(e){return(e==null?void 0:e.animationName)||"none"}function _P(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jP=kp[" useInsertionEffect ".trim().toString()]||at;function Us({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=NP({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=h.useCallback(d=>{var f;if(l){const m=SP(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else o(d)},[l,e,o,i]);return[c,u]}function NP({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return jP(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function SP(e){return typeof e=="function"}var r1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kP="VisuallyHidden",Vd=h.forwardRef((e,t)=>a.jsx(de.span,{...e,ref:t,style:{...r1,...e.style}}));Vd.displayName=kP;var CP=Vd,xg="ToastProvider",[yg,EP,PP]=qd("Toast"),[n1]=sr("Toast",[PP]),[TP,Wd]=n1(xg),s1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xg}\`. Expected non-empty \`string\`.`),a.jsx(yg.Provider,{scope:t,children:a.jsx(TP,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};s1.displayName=xg;var a1="ToastViewport",RP=["F8"],jm="toast.viewportPause",Nm="toast.viewportResume",o1=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=RP,label:s="Notifications ({hotkey})",...o}=e,i=Wd(a1,r),l=EP(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=Ne(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const y=w=>{var v;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),h.useEffect(()=>{const y=c.current,w=f.current;if(b&&y&&w){const x=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(jm);w.dispatchEvent(j),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(Nm);w.dispatchEvent(j),i.isClosePausedRef.current=!1}},_=j=>{!y.contains(j.relatedTarget)&&v()},N=()=>{y.contains(document.activeElement)||v()};return y.addEventListener("focusin",x),y.addEventListener("focusout",_),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",v),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",v)}}},[b,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:y})=>{const x=l().map(v=>{const _=v.ref.current,N=[_,...VP(_)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?x.reverse():x).flat()},[l]);return h.useEffect(()=>{const y=f.current;if(y){const w=x=>{var N,j,S;const v=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!v){const k=document.activeElement,O=x.shiftKey;if(x.target===y&&O){(N=u.current)==null||N.focus();return}const D=g({tabbingDirection:O?"backwards":"forwards"}),U=D.findIndex(M=>M===k);rh(D.slice(U+1))?x.preventDefault():O?(j=u.current)==null||j.focus():(S=d.current)==null||S.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,g]),a.jsxs(xP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Sm,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});rh(y)}}),a.jsx(yg.Slot,{scope:r,children:a.jsx(de.ol,{tabIndex:-1,...o,ref:m})}),b&&a.jsx(Sm,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});rh(y)}})]})});o1.displayName=a1;var i1="ToastFocusProxy",Sm=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Wd(i1,r);return a.jsx(Vd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Sm.displayName=i1;var dc="Toast",OP="toast.swipeStart",AP="toast.swipeMove",MP="toast.swipeCancel",IP="toast.swipeEnd",l1=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=Us({prop:n,defaultProp:s??!0,onChange:o,caller:dc});return a.jsx(Ct,{present:r||l,children:a.jsx($P,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:tt(e.onPause),onResume:tt(e.onResume),onSwipeStart:G(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:G(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:G(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:G(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});l1.displayName=dc;var[DP,LP]=n1(dc,{onClose(){}}),$P=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...b}=e,g=Wd(dc,r),[y,w]=h.useState(null),x=Ne(t,M=>w(M)),v=h.useRef(null),_=h.useRef(null),N=s||g.duration,j=h.useRef(0),S=h.useRef(N),k=h.useRef(0),{onToastAdd:O,onToastRemove:E}=g,T=tt(()=>{var q;(y==null?void 0:y.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),i()}),D=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),j.current=new Date().getTime(),k.current=window.setTimeout(T,M))},[T]);h.useEffect(()=>{const M=g.viewport;if(M){const q=()=>{D(S.current),u==null||u()},P=()=>{const z=new Date().getTime()-j.current;S.current=S.current-z,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(jm,P),M.addEventListener(Nm,q),()=>{M.removeEventListener(jm,P),M.removeEventListener(Nm,q)}}},[g.viewport,N,c,u,D]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&D(N)},[o,N,g.isClosePausedRef,D]),h.useEffect(()=>(O(),()=>E()),[O,E]);const U=h.useMemo(()=>y?p1(y):null,[y]);return g.viewport?a.jsxs(a.Fragment,{children:[U&&a.jsx(FP,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),a.jsx(DP,{scope:r,onClose:T,children:Xs.createPortal(a.jsx(yg.ItemSlot,{scope:r,children:a.jsx(vP,{asChild:!0,onEscapeKeyDown:G(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:G(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:G(e.onPointerDown,M=>{M.button===0&&(v.current={x:M.clientX,y:M.clientY})}),onPointerMove:G(e.onPointerMove,M=>{if(!v.current)return;const q=M.clientX-v.current.x,P=M.clientY-v.current.y,z=!!_.current,I=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,B=I?A(0,q):0,te=I?0:A(0,P),Y=M.pointerType==="touch"?10:2,ne={x:B,y:te},re={originalEvent:M,delta:ne};z?(_.current=ne,Qc(AP,f,re,{discrete:!1})):Lx(ne,g.swipeDirection,Y)?(_.current=ne,Qc(OP,d,re,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(q)>Y||Math.abs(P)>Y)&&(v.current=null)}),onPointerUp:G(e.onPointerUp,M=>{const q=_.current,P=M.target;if(P.hasPointerCapture(M.pointerId)&&P.releasePointerCapture(M.pointerId),_.current=null,v.current=null,q){const z=M.currentTarget,I={originalEvent:M,delta:q};Lx(q,g.swipeDirection,g.swipeThreshold)?Qc(IP,p,I,{discrete:!0}):Qc(MP,m,I,{discrete:!0}),z.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),FP=e=>{const{__scopeToast:t,children:r,...n}=e,s=Wd(dc,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return BP(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Si,{asChild:!0,children:a.jsx(Vd,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},zP="ToastTitle",c1=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(de.div,{...n,ref:t})});c1.displayName=zP;var UP="ToastDescription",u1=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(de.div,{...n,ref:t})});u1.displayName=UP;var d1="ToastAction",f1=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(m1,{altText:r,asChild:!0,children:a.jsx(wg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${d1}\`. Expected non-empty \`string\`.`),null)});f1.displayName=d1;var h1="ToastClose",wg=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=LP(h1,r);return a.jsx(m1,{asChild:!0,children:a.jsx(de.button,{type:"button",...n,ref:t,onClick:G(e.onClick,s.onClose)})})});wg.displayName=h1;var m1=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function p1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),qP(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...p1(n))}}),t}function Qc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?vg(s,o):s.dispatchEvent(o)}var Lx=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function BP(e=()=>{}){const t=tt(e);at(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function qP(e){return e.nodeType===e.ELEMENT_NODE}function VP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var WP=s1,g1=o1,v1=l1,x1=c1,y1=u1,w1=f1,b1=wg;function _1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=_1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function j1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=_1(e))&&(n&&(n+=" "),n+=t);return n}const $x=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Fx=j1,Hd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Fx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const m=$x(d)||$x(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(b=>{let[g,y]=b;return Array.isArray(y)?y.includes({...o,...l}[g]):{...o,...l}[g]===y})?[...u,f,m]:u},[]);return Fx(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...KP,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:N1("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(GP,{ref:o,iconNode:t,className:N1(`lucide-${HP(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ee("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ee("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ee("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=ee("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=ee("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=ee("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ee("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=ee("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ee("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=ee("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ee("HandMetal",[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1.4",key:"wc6myp"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2",key:"94qvcw"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9",key:"m1ah89"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5",key:"t1skq1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=ee("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ee("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ee("Scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ee("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ee("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ee("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ee("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ee("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ee("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ee("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=ee("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ng="-",bT=e=>{const t=jT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Ng);return l[0]===""&&l.length!==1&&l.shift(),U1(l,t)||_T(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},U1=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?U1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Ng);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Bx=/^\[(.+)\]$/,_T=e=>{if(Bx.test(e)){const t=Bx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ST(Object.entries(e.classGroups),r).forEach(([o,i])=>{Em(i,n,o,t)}),n},Em=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:qx(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(NT(s)){Em(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Em(i,qx(t,o),r,n)})})},qx=(e,t)=>{let r=e;return t.split(Ng).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},NT=e=>e.isThemeGetter,ST=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,kT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},B1="!",CT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let w=l[y];if(u===0){if(w===s&&(n||l.slice(y,y+o)===t)){c.push(l.slice(d,y)),d=y+o;continue}if(w==="/"){f=y;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(B1),b=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},ET=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},PT=e=>({cache:kT(e.cacheSize),parseClassName:CT(e),...bT(e)}),TT=/\s+/,RT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(TT);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let b=!!p,g=n(b?m.substring(0,p):m);if(!g){if(!b){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}b=!1}const y=ET(d).join(":"),w=f?y+B1:y,x=w+g;if(o.includes(x))continue;o.push(x);const v=s(g,b);for(let _=0;_<v.length;++_){const N=v[_];o.push(w+N)}l=u+(l.length>0?" "+l:l)}return l};function OT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=q1(t))&&(n&&(n+=" "),n+=r);return n}const q1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=q1(e[n]))&&(r&&(r+=" "),r+=t);return r};function AT(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=PT(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=RT(c,r);return s(c,d),d}return function(){return o(OT.apply(null,arguments))}}const Be=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},V1=/^\[(?:([a-z-]+):)?(.+)\]$/i,MT=/^\d+\/\d+$/,IT=new Set(["px","full","screen"]),DT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$T=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_n=e=>Fo(e)||IT.has(e)||MT.test(e),Xn=e=>ki(e,"length",GT),Fo=e=>!!e&&!Number.isNaN(Number(e)),oh=e=>ki(e,"number",Fo),Wi=e=>!!e&&Number.isInteger(Number(e)),UT=e=>e.endsWith("%")&&Fo(e.slice(0,-1)),be=e=>V1.test(e),Jn=e=>DT.test(e),BT=new Set(["length","size","percentage"]),qT=e=>ki(e,BT,W1),VT=e=>ki(e,"position",W1),WT=new Set(["image","url"]),HT=e=>ki(e,WT,YT),KT=e=>ki(e,"",QT),Hi=()=>!0,ki=(e,t,r)=>{const n=V1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},GT=e=>LT.test(e)&&!$T.test(e),W1=()=>!1,QT=e=>FT.test(e),YT=e=>zT.test(e),ZT=()=>{const e=Be("colors"),t=Be("spacing"),r=Be("blur"),n=Be("brightness"),s=Be("borderColor"),o=Be("borderRadius"),i=Be("borderSpacing"),l=Be("borderWidth"),c=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),m=Be("gap"),p=Be("gradientColorStops"),b=Be("gradientColorStopPositions"),g=Be("inset"),y=Be("margin"),w=Be("opacity"),x=Be("padding"),v=Be("saturate"),_=Be("scale"),N=Be("sepia"),j=Be("skew"),S=Be("space"),k=Be("translate"),O=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",be,t],D=()=>[be,t],U=()=>["",_n,Xn],M=()=>["auto",Fo,be],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",be],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Fo,be];return{cacheSize:500,separator:":",theme:{colors:[Hi],spacing:[_n,Xn],blur:["none","",Jn,be],brightness:te(),borderColor:[e],borderRadius:["none","","full",Jn,be],borderSpacing:D(),borderWidth:U(),contrast:te(),grayscale:A(),hueRotate:te(),invert:A(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[UT,Xn],inset:T(),margin:T(),opacity:te(),padding:D(),saturate:te(),scale:te(),sepia:A(),skew:te(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[Jn]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),be]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wi,be]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Wi,be]}],"grid-cols":[{"grid-cols":[Hi]}],"col-start-end":[{col:["auto",{span:["full",Wi,be]},be]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Hi]}],"row-start-end":[{row:["auto",{span:[Wi,be]},be]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,t]}],"min-w":[{"min-w":[be,t,"min","max","fit"]}],"max-w":[{"max-w":[be,t,"none","full","min","max","fit","prose",{screen:[Jn]},Jn]}],h:[{h:[be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jn,Xn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oh]}],"font-family":[{font:[Hi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",Fo,oh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_n,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_n,Xn]}],"underline-offset":[{"underline-offset":["auto",_n,be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),VT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:P()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[_n,be]}],"outline-w":[{outline:[_n,Xn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[_n,Xn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jn,KT]}],"shadow-color":[{shadow:[Hi]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Jn,be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Wi,be]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_n,Xn,oh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XT=AT(ZT);function le(...e){return XT(j1(e))}const JT=WP,H1=h.forwardRef(({className:e,...t},r)=>a.jsx(g1,{ref:r,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));H1.displayName=g1.displayName;const eR=Hd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),K1=h.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(v1,{ref:n,className:le(eR({variant:t}),e),...r}));K1.displayName=v1.displayName;const tR=h.forwardRef(({className:e,...t},r)=>a.jsx(w1,{ref:r,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));tR.displayName=w1.displayName;const G1=h.forwardRef(({className:e,...t},r)=>a.jsx(b1,{ref:r,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Wn,{className:"h-4 w-4"})}));G1.displayName=b1.displayName;const Q1=h.forwardRef(({className:e,...t},r)=>a.jsx(x1,{ref:r,className:le("text-sm font-semibold",e),...t}));Q1.displayName=x1.displayName;const Y1=h.forwardRef(({className:e,...t},r)=>a.jsx(y1,{ref:r,className:le("text-sm opacity-90",e),...t}));Y1.displayName=y1.displayName;function rR(){const{toasts:e}=eP();return a.jsxs(JT,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(K1,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Q1,{children:r}),n&&a.jsx(Y1,{children:n})]}),s,a.jsx(G1,{})]},t)}),a.jsx(H1,{})]})}var Vx=["light","dark"],nR="(prefers-color-scheme: dark)",sR=h.createContext(void 0),aR={setTheme:e=>{},themes:[]},oR=()=>{var e;return(e=h.useContext(sR))!=null?e:aR};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Vx.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,g=!1,y=!0)=>{let w=i?i[b]:b,x=g?b+"|| ''":`'${w}'`,v="";return s&&y&&!g&&Vx.includes(b)&&(v+=`d.style.colorScheme = '${b}';`),r==="class"?g||w?v+=`c.add(${x})`:v+="null":w&&(v+=`d[s](n,${x})`),v},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${nR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var iR=e=>{switch(e){case"success":return uR;case"info":return fR;case"warning":return dR;case"error":return hR;default:return null}},lR=Array(12).fill(0),cR=({visible:e,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},lR.map((r,n)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),uR=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dR=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fR=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hR=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mR=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pR=()=>{let[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Pm=1,gR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Pm++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],Z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(xR(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Pm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yt=new gR,vR=(e,t)=>{let r=(t==null?void 0:t.id)||Pm++;return Yt.addToast({title:e,...t,id:r}),r},xR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yR=vR,wR=()=>Yt.toasts,bR=()=>Yt.getActiveToasts(),F=Object.assign(yR,{success:Yt.success,info:Yt.info,warning:Yt.warning,error:Yt.error,custom:Yt.custom,message:Yt.message,promise:Yt.promise,dismiss:Yt.dismiss,loading:Yt.loading},{getHistory:wR,getToasts:bR});function _R(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}_R(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yc(e){return e.label!==void 0}var jR=3,NR="32px",SR="16px",Wx=4e3,kR=356,CR=14,ER=20,PR=200;function Lr(...e){return e.filter(Boolean).join(" ")}function TR(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var RR=e=>{var t,r,n,s,o,i,l,c,u,d,f;let{invert:m,toast:p,unstyled:b,interacting:g,setHeights:y,visibleToasts:w,heights:x,index:v,toasts:_,expanded:N,removeToast:j,defaultRichColors:S,closeButton:k,style:O,cancelButtonStyle:E,actionButtonStyle:T,className:D="",descriptionClassName:U="",duration:M,position:q,gap:P,loadingIcon:z,expandByDefault:I,classNames:A,icons:B,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:Y}=e,[ne,re]=Z.useState(null),[oe,pe]=Z.useState(null),[Q,we]=Z.useState(!1),[J,L]=Z.useState(!1),[W,X]=Z.useState(!1),[me,Se]=Z.useState(!1),[_e,he]=Z.useState(!1),[We,ut]=Z.useState(0),[bn,Cc]=Z.useState(0),Kn=Z.useRef(p.duration||M||Wx),ia=Z.useRef(null),Ht=Z.useRef(null),Ec=v===0,mC=v+1<=w,yr=p.type,eo=p.dismissible!==!1,pC=p.className||"",gC=p.descriptionClassName||"",Pc=Z.useMemo(()=>x.findIndex(xe=>xe.toastId===p.id)||0,[x,p.id]),vC=Z.useMemo(()=>{var xe;return(xe=p.closeButton)!=null?xe:k},[p.closeButton,k]),yv=Z.useMemo(()=>p.duration||M||Wx,[p.duration,M]),Sf=Z.useRef(0),to=Z.useRef(0),wv=Z.useRef(0),ro=Z.useRef(null),[xC,yC]=q.split("-"),bv=Z.useMemo(()=>x.reduce((xe,Le,He)=>He>=Pc?xe:xe+Le.height,0),[x,Pc]),_v=pR(),wC=p.invert||m,kf=yr==="loading";to.current=Z.useMemo(()=>Pc*P+bv,[Pc,bv]),Z.useEffect(()=>{Kn.current=yv},[yv]),Z.useEffect(()=>{we(!0)},[]),Z.useEffect(()=>{let xe=Ht.current;if(xe){let Le=xe.getBoundingClientRect().height;return Cc(Le),y(He=>[{toastId:p.id,height:Le,position:p.position},...He]),()=>y(He=>He.filter(Ar=>Ar.toastId!==p.id))}},[y,p.id]),Z.useLayoutEffect(()=>{if(!Q)return;let xe=Ht.current,Le=xe.style.height;xe.style.height="auto";let He=xe.getBoundingClientRect().height;xe.style.height=Le,Cc(He),y(Ar=>Ar.find(Mr=>Mr.toastId===p.id)?Ar.map(Mr=>Mr.toastId===p.id?{...Mr,height:He}:Mr):[{toastId:p.id,height:He,position:p.position},...Ar])},[Q,p.title,p.description,y,p.id]);let Gn=Z.useCallback(()=>{L(!0),ut(to.current),y(xe=>xe.filter(Le=>Le.toastId!==p.id)),setTimeout(()=>{j(p)},PR)},[p,j,y,to]);Z.useEffect(()=>{if(p.promise&&yr==="loading"||p.duration===1/0||p.type==="loading")return;let xe;return N||g||Y&&_v?(()=>{if(wv.current<Sf.current){let Le=new Date().getTime()-Sf.current;Kn.current=Kn.current-Le}wv.current=new Date().getTime()})():Kn.current!==1/0&&(Sf.current=new Date().getTime(),xe=setTimeout(()=>{var Le;(Le=p.onAutoClose)==null||Le.call(p,p),Gn()},Kn.current)),()=>clearTimeout(xe)},[N,g,p,yr,Y,_v,Gn]),Z.useEffect(()=>{p.delete&&Gn()},[Gn,p.delete]);function bC(){var xe,Le,He;return B!=null&&B.loading?Z.createElement("div",{className:Lr(A==null?void 0:A.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":yr==="loading"},B.loading):z?Z.createElement("div",{className:Lr(A==null?void 0:A.loader,(Le=p==null?void 0:p.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":yr==="loading"},z):Z.createElement(cR,{className:Lr(A==null?void 0:A.loader,(He=p==null?void 0:p.classNames)==null?void 0:He.loader),visible:yr==="loading"})}return Z.createElement("li",{tabIndex:0,ref:Ht,className:Lr(D,pC,A==null?void 0:A.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[yr],(r=p==null?void 0:p.classNames)==null?void 0:r[yr]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:S,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":_e,"data-removed":J,"data-visible":mC,"data-y-position":xC,"data-x-position":yC,"data-index":v,"data-front":Ec,"data-swiping":W,"data-dismissible":eo,"data-type":yr,"data-invert":wC,"data-swipe-out":me,"data-swipe-direction":oe,"data-expanded":!!(N||I&&Q),style:{"--index":v,"--toasts-before":v,"--z-index":_.length-v,"--offset":`${J?We:to.current}px`,"--initial-height":I?"auto":`${bn}px`,...O,...p.style},onDragEnd:()=>{X(!1),re(null),ro.current=null},onPointerDown:xe=>{kf||!eo||(ia.current=new Date,ut(to.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(X(!0),ro.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Le,He,Ar;if(me||!eo)return;ro.current=null;let Mr=Number(((xe=Ht.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qn=Number(((Le=Ht.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),la=new Date().getTime()-((He=ia.current)==null?void 0:He.getTime()),Ir=ne==="x"?Mr:Qn,Yn=Math.abs(Ir)/la;if(Math.abs(Ir)>=ER||Yn>.11){ut(to.current),(Ar=p.onDismiss)==null||Ar.call(p,p),pe(ne==="x"?Mr>0?"right":"left":Qn>0?"down":"up"),Gn(),Se(!0),he(!1);return}X(!1),re(null)},onPointerMove:xe=>{var Le,He,Ar,Mr;if(!ro.current||!eo||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;let Qn=xe.clientY-ro.current.y,la=xe.clientX-ro.current.x,Ir=(He=e.swipeDirections)!=null?He:TR(q);!ne&&(Math.abs(la)>1||Math.abs(Qn)>1)&&re(Math.abs(la)>Math.abs(Qn)?"x":"y");let Yn={x:0,y:0};ne==="y"?(Ir.includes("top")||Ir.includes("bottom"))&&(Ir.includes("top")&&Qn<0||Ir.includes("bottom")&&Qn>0)&&(Yn.y=Qn):ne==="x"&&(Ir.includes("left")||Ir.includes("right"))&&(Ir.includes("left")&&la<0||Ir.includes("right")&&la>0)&&(Yn.x=la),(Math.abs(Yn.x)>0||Math.abs(Yn.y)>0)&&he(!0),(Ar=Ht.current)==null||Ar.style.setProperty("--swipe-amount-x",`${Yn.x}px`),(Mr=Ht.current)==null||Mr.style.setProperty("--swipe-amount-y",`${Yn.y}px`)}},vC&&!p.jsx?Z.createElement("button",{"aria-label":te,"data-disabled":kf,"data-close-button":!0,onClick:kf||!eo?()=>{}:()=>{var xe;Gn(),(xe=p.onDismiss)==null||xe.call(p,p)},className:Lr(A==null?void 0:A.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=B==null?void 0:B.close)!=null?o:mR):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Z.createElement(Z.Fragment,null,yr||p.icon||p.promise?Z.createElement("div",{"data-icon":"",className:Lr(A==null?void 0:A.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||bC():null,p.type!=="loading"?p.icon||(B==null?void 0:B[yr])||iR(yr):null):null,Z.createElement("div",{"data-content":"",className:Lr(A==null?void 0:A.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Z.createElement("div",{"data-title":"",className:Lr(A==null?void 0:A.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?Z.createElement("div",{"data-description":"",className:Lr(U,gC,A==null?void 0:A.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&Yc(p.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:xe=>{var Le,He;Yc(p.cancel)&&eo&&((He=(Le=p.cancel).onClick)==null||He.call(Le,xe),Gn())},className:Lr(A==null?void 0:A.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&Yc(p.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||T,onClick:xe=>{var Le,He;Yc(p.action)&&((He=(Le=p.action).onClick)==null||He.call(Le,xe),!xe.defaultPrevented&&Gn())},className:Lr(A==null?void 0:A.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Hx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function OR(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?SR:NR;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var AR=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:b=jR,toastOptions:g,dir:y=Hx(),gap:w=CR,loadingIcon:x,icons:v,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:N}=e,[j,S]=Z.useState([]),k=Z.useMemo(()=>Array.from(new Set([n].concat(j.filter(Y=>Y.position).map(Y=>Y.position)))),[j,n]),[O,E]=Z.useState([]),[T,D]=Z.useState(!1),[U,M]=Z.useState(!1),[q,P]=Z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=Z.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=Z.useRef(null),B=Z.useRef(!1),te=Z.useCallback(Y=>{S(ne=>{var re;return(re=ne.find(oe=>oe.id===Y.id))!=null&&re.delete||Yt.dismiss(Y.id),ne.filter(({id:oe})=>oe!==Y.id)})},[]);return Z.useEffect(()=>Yt.subscribe(Y=>{if(Y.dismiss){S(ne=>ne.map(re=>re.id===Y.id?{...re,delete:!0}:re));return}setTimeout(()=>{Yb.flushSync(()=>{S(ne=>{let re=ne.findIndex(oe=>oe.id===Y.id);return re!==-1?[...ne.slice(0,re),{...ne[re],...Y},...ne.slice(re+1)]:[Y,...ne]})})})}),[]),Z.useEffect(()=>{if(d!=="system"){P(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:ne})=>{P(ne?"dark":"light")})}catch{Y.addListener(({matches:re})=>{try{P(re?"dark":"light")}catch(oe){console.error(oe)}})}},[d]),Z.useEffect(()=>{j.length<=1&&D(!1)},[j]),Z.useEffect(()=>{let Y=ne=>{var re,oe;s.every(pe=>ne[pe]||ne.code===pe)&&(D(!0),(re=z.current)==null||re.focus()),ne.code==="Escape"&&(document.activeElement===z.current||(oe=z.current)!=null&&oe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[s]),Z.useEffect(()=>{if(z.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,B.current=!1)}},[z.current]),Z.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Y,ne)=>{var re;let[oe,pe]=Y.split("-");return j.length?Z.createElement("ol",{key:Y,dir:y==="auto"?Hx():y,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":oe,"data-lifted":T&&j.length>1&&!o,"data-x-position":pe,style:{"--front-toast-height":`${((re=O[0])==null?void 0:re.height)||0}px`,"--width":`${kR}px`,"--gap":`${w}px`,...p,...OR(c,u)},onBlur:Q=>{B.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(B.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||B.current||(B.current=!0,A.current=Q.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{U||D(!1)},onDragEnd:()=>D(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},j.filter(Q=>!Q.position&&ne===0||Q.position===Y).map((Q,we)=>{var J,L;return Z.createElement(RR,{key:Q.id,icons:v,index:we,toast:Q,defaultRichColors:f,duration:(J=g==null?void 0:g.duration)!=null?J:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(L=g==null?void 0:g.closeButton)!=null?L:i,interacting:U,position:Y,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:te,toasts:j.filter(W=>W.position==Q.position),heights:O.filter(W=>W.position==Q.position),setHeights:E,expandByDefault:o,gap:w,loadingIcon:x,expanded:T,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const MR=({...e})=>{const{theme:t="system"}=oR();return a.jsx(AR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var IR=kp[" useId ".trim().toString()]||(()=>{}),DR=0;function Kr(e){const[t,r]=h.useState(IR());return at(()=>{r(n=>n??String(DR++))},[e]),t?`radix-${t}`:""}const LR=["top","right","bottom","left"],Vs=Math.min,or=Math.max,rd=Math.round,Zc=Math.floor,gn=e=>({x:e,y:e}),$R={left:"right",right:"left",bottom:"top",top:"bottom"},FR={start:"end",end:"start"};function Tm(e,t,r){return or(e,Vs(t,r))}function zn(e,t){return typeof e=="function"?e(t):e}function Un(e){return e.split("-")[0]}function Ci(e){return e.split("-")[1]}function Sg(e){return e==="x"?"y":"x"}function kg(e){return e==="y"?"height":"width"}const zR=new Set(["top","bottom"]);function fn(e){return zR.has(Un(e))?"y":"x"}function Cg(e){return Sg(fn(e))}function UR(e,t,r){r===void 0&&(r=!1);const n=Ci(e),s=Cg(e),o=kg(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=nd(i)),[i,nd(i)]}function BR(e){const t=nd(e);return[Rm(e),t,Rm(t)]}function Rm(e){return e.replace(/start|end/g,t=>FR[t])}const Kx=["left","right"],Gx=["right","left"],qR=["top","bottom"],VR=["bottom","top"];function WR(e,t,r){switch(e){case"top":case"bottom":return r?t?Gx:Kx:t?Kx:Gx;case"left":case"right":return t?qR:VR;default:return[]}}function HR(e,t,r,n){const s=Ci(e);let o=WR(Un(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Rm)))),o}function nd(e){return e.replace(/left|right|bottom|top/g,t=>$R[t])}function KR(e){return{top:0,right:0,bottom:0,left:0,...e}}function Z1(e){return typeof e!="number"?KR(e):{top:e,right:e,bottom:e,left:e}}function sd(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Qx(e,t,r){let{reference:n,floating:s}=e;const o=fn(t),i=Cg(t),l=kg(i),c=Un(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Ci(t)){case"start":p[i]-=m*(r&&u?-1:1);break;case"end":p[i]+=m*(r&&u?-1:1);break}return p}const GR=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Qx(u,n,c),m=n,p={},b=0;for(let g=0;g<l.length;g++){const{name:y,fn:w}=l[g],{x,y:v,data:_,reset:N}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=x??d,f=v??f,p={...p,[y]:{...p[y],..._}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=Qx(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Bl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=zn(t,e),b=Z1(p),y=l[m?f==="floating"?"reference":"floating":f],w=sd(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},N=sd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:v,strategy:c}):x);return{top:(w.top-N.top+b.top)/_.y,bottom:(N.bottom-w.bottom+b.bottom)/_.y,left:(w.left-N.left+b.left)/_.x,right:(N.right-w.right+b.right)/_.x}}const QR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=zn(e,t)||{};if(u==null)return{};const f=Z1(d),m={x:r,y:n},p=Cg(s),b=kg(p),g=await i.getDimensions(u),y=p==="y",w=y?"top":"left",x=y?"bottom":"right",v=y?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[p]-m[p]-o.floating[b],N=m[p]-o.reference[p],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=j?j[v]:0;(!S||!await(i.isElement==null?void 0:i.isElement(j)))&&(S=l.floating[v]||o.floating[b]);const k=_/2-N/2,O=S/2-g[b]/2-1,E=Vs(f[w],O),T=Vs(f[x],O),D=E,U=S-g[b]-T,M=S/2-g[b]/2+k,q=Tm(D,M,U),P=!c.arrow&&Ci(s)!=null&&M!==q&&o.reference[b]/2-(M<D?E:T)-g[b]/2<0,z=P?M<D?M-D:M-U:0;return{[p]:m[p]+z,data:{[p]:q,centerOffset:M-q-z,...P&&{alignmentOffset:z}},reset:P}}}),YR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...y}=zn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Un(s),x=fn(l),v=Un(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(v||!g?[nd(l)]:BR(l)),j=b!=="none";!m&&j&&N.push(...HR(l,g,b,_));const S=[l,...N],k=await Bl(t,y),O=[];let E=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&O.push(k[w]),f){const M=UR(s,i,_);O.push(k[M[0]],k[M[1]])}if(E=[...E,{placement:s,overflows:O}],!O.every(M=>M<=0)){var T,D;const M=(((T=o.flip)==null?void 0:T.index)||0)+1,q=S[M];if(q&&(!(f==="alignment"?x!==fn(q):!1)||E.every(I=>I.overflows[0]>0&&fn(I.placement)===x)))return{data:{index:M,overflows:E},reset:{placement:q}};let P=(D=E.filter(z=>z.overflows[0]<=0).sort((z,I)=>z.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!P)switch(p){case"bestFit":{var U;const z=(U=E.filter(I=>{if(j){const A=fn(I.placement);return A===x||A==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(A=>A>0).reduce((A,B)=>A+B,0)]).sort((I,A)=>I[1]-A[1])[0])==null?void 0:U[0];z&&(P=z);break}case"initialPlacement":P=l;break}if(s!==P)return{reset:{placement:P}}}return{}}}};function Yx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Zx(e){return LR.some(t=>e[t]>=0)}const ZR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=zn(e,t);switch(n){case"referenceHidden":{const o=await Bl(t,{...s,elementContext:"reference"}),i=Yx(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Zx(i)}}}case"escaped":{const o=await Bl(t,{...s,altBoundary:!0}),i=Yx(o,r.floating);return{data:{escapedOffsets:i,escaped:Zx(i)}}}default:return{}}}}},X1=new Set(["left","top"]);async function XR(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Un(r),l=Ci(r),c=fn(r)==="y",u=X1.has(i)?-1:1,d=o&&c?-1:1,f=zn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const JR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await XR(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},e4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x:w,y:x}=y;return{x:w,y:x}}},...c}=zn(e,t),u={x:r,y:n},d=await Bl(t,c),f=fn(Un(s)),m=Sg(f);let p=u[m],b=u[f];if(o){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=p+d[y],v=p-d[w];p=Tm(x,p,v)}if(i){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=b+d[y],v=b-d[w];b=Tm(x,b,v)}const g=l.fn({...t,[m]:p,[f]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[f]:i}}}}}},t4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=zn(e,t),d={x:r,y:n},f=fn(s),m=Sg(f);let p=d[m],b=d[f];const g=zn(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const v=m==="y"?"height":"width",_=o.reference[m]-o.floating[v]+y.mainAxis,N=o.reference[m]+o.reference[v]-y.mainAxis;p<_?p=_:p>N&&(p=N)}if(u){var w,x;const v=m==="y"?"width":"height",_=X1.has(Un(s)),N=o.reference[f]-o.floating[v]+(_&&((w=i.offset)==null?void 0:w[f])||0)+(_?0:y.crossAxis),j=o.reference[f]+o.reference[v]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?y.crossAxis:0);b<N?b=N:b>j&&(b=j)}return{[m]:p,[f]:b}}}},r4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=zn(e,t),d=await Bl(t,u),f=Un(s),m=Ci(s),p=fn(s)==="y",{width:b,height:g}=o.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,y=m==="end"?"top":"bottom");const x=g-d.top-d.bottom,v=b-d.left-d.right,_=Vs(g-d[y],x),N=Vs(b-d[w],v),j=!t.middlewareData.shift;let S=_,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),j&&!m){const E=or(d.left,0),T=or(d.right,0),D=or(d.top,0),U=or(d.bottom,0);p?k=b-2*(E!==0||T!==0?E+T:or(d.left,d.right)):S=g-2*(D!==0||U!==0?D+U:or(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const O=await i.getDimensions(l.floating);return b!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function Qd(){return typeof window<"u"}function Ei(e){return J1(e)?(e.nodeName||"").toLowerCase():"#document"}function dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yn(e){var t;return(t=(J1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function J1(e){return Qd()?e instanceof Node||e instanceof dr(e).Node:!1}function Qr(e){return Qd()?e instanceof Element||e instanceof dr(e).Element:!1}function xn(e){return Qd()?e instanceof HTMLElement||e instanceof dr(e).HTMLElement:!1}function Xx(e){return!Qd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dr(e).ShadowRoot}const n4=new Set(["inline","contents"]);function hc(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!n4.has(s)}const s4=new Set(["table","td","th"]);function a4(e){return s4.has(Ei(e))}const o4=[":popover-open",":modal"];function Yd(e){return o4.some(t=>{try{return e.matches(t)}catch{return!1}})}const i4=["transform","translate","scale","rotate","perspective"],l4=["transform","translate","scale","rotate","perspective","filter"],c4=["paint","layout","strict","content"];function Eg(e){const t=Pg(),r=Qr(e)?Yr(e):e;return i4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||l4.some(n=>(r.willChange||"").includes(n))||c4.some(n=>(r.contain||"").includes(n))}function u4(e){let t=Ws(e);for(;xn(t)&&!ui(t);){if(Eg(t))return t;if(Yd(t))return null;t=Ws(t)}return null}function Pg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const d4=new Set(["html","body","#document"]);function ui(e){return d4.has(Ei(e))}function Yr(e){return dr(e).getComputedStyle(e)}function Zd(e){return Qr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if(Ei(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xx(e)&&e.host||yn(e);return Xx(t)?t.host:t}function e_(e){const t=Ws(e);return ui(t)?e.ownerDocument?e.ownerDocument.body:e.body:xn(t)&&hc(t)?t:e_(t)}function ql(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=e_(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=dr(s);if(o){const l=Om(i);return t.concat(i,i.visualViewport||[],hc(s)?s:[],l&&r?ql(l):[])}return t.concat(s,ql(s,[],r))}function Om(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function t_(e){const t=Yr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=xn(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=rd(r)!==o||rd(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Tg(e){return Qr(e)?e:e.contextElement}function zo(e){const t=Tg(e);if(!xn(t))return gn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=t_(t);let i=(o?rd(r.width):r.width)/n,l=(o?rd(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const f4=gn(0);function r_(e){const t=dr(e);return!Pg()||!t.visualViewport?f4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function h4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==dr(e)?!1:t}function Fa(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Tg(e);let i=gn(1);t&&(n?Qr(n)&&(i=zo(n)):i=zo(e));const l=h4(o,r,n)?r_(o):gn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=dr(o),p=n&&Qr(n)?dr(n):n;let b=m,g=Om(b);for(;g&&n&&p!==b;){const y=zo(g),w=g.getBoundingClientRect(),x=Yr(g),v=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,_=w.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=v,u+=_,b=dr(g),g=Om(b)}}return sd({width:d,height:f,x:c,y:u})}function Rg(e,t){const r=Zd(e).scrollLeft;return t?t.left+r:Fa(yn(e)).left+r}function n_(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Rg(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function m4(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=yn(n),l=t?Yd(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=gn(1);const d=gn(0),f=xn(n);if((f||!f&&!o)&&((Ei(n)!=="body"||hc(i))&&(c=Zd(n)),xn(n))){const p=Fa(n);u=zo(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=i&&!f&&!o?n_(i,c,!0):gn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function p4(e){return Array.from(e.getClientRects())}function g4(e){const t=yn(e),r=Zd(e),n=e.ownerDocument.body,s=or(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=or(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Rg(e);const l=-r.scrollTop;return Yr(n).direction==="rtl"&&(i+=or(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function v4(e,t){const r=dr(e),n=yn(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Pg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const x4=new Set(["absolute","fixed"]);function y4(e,t){const r=Fa(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=xn(e)?zo(e):gn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function Jx(e,t,r){let n;if(t==="viewport")n=v4(e,r);else if(t==="document")n=g4(yn(e));else if(Qr(t))n=y4(t,r);else{const s=r_(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return sd(n)}function s_(e,t){const r=Ws(e);return r===t||!Qr(r)||ui(r)?!1:Yr(r).position==="fixed"||s_(r,t)}function w4(e,t){const r=t.get(e);if(r)return r;let n=ql(e,[],!1).filter(l=>Qr(l)&&Ei(l)!=="body"),s=null;const o=Yr(e).position==="fixed";let i=o?Ws(e):e;for(;Qr(i)&&!ui(i);){const l=Yr(i),c=Eg(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&x4.has(s.position)||hc(i)&&!c&&s_(e,i))?n=n.filter(d=>d!==i):s=l,i=Ws(i)}return t.set(e,n),n}function b4(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Yd(t)?[]:w4(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=Jx(t,d,s);return u.top=or(f.top,u.top),u.right=Vs(f.right,u.right),u.bottom=Vs(f.bottom,u.bottom),u.left=or(f.left,u.left),u},Jx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _4(e){const{width:t,height:r}=t_(e);return{width:t,height:r}}function j4(e,t,r){const n=xn(t),s=yn(t),o=r==="fixed",i=Fa(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=gn(0);function u(){c.x=Rg(s)}if(n||!n&&!o)if((Ei(t)!=="body"||hc(s))&&(l=Zd(t)),n){const p=Fa(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?n_(s,l):gn(0),f=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function ih(e){return Yr(e).position==="static"}function ey(e,t){if(!xn(e)||Yr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return yn(e)===r&&(r=r.ownerDocument.body),r}function a_(e,t){const r=dr(e);if(Yd(e))return r;if(!xn(e)){let s=Ws(e);for(;s&&!ui(s);){if(Qr(s)&&!ih(s))return s;s=Ws(s)}return r}let n=ey(e,t);for(;n&&a4(n)&&ih(n);)n=ey(n,t);return n&&ui(n)&&ih(n)&&!Eg(n)?r:n||u4(e)||r}const N4=async function(e){const t=this.getOffsetParent||a_,r=this.getDimensions,n=await r(e.floating);return{reference:j4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function S4(e){return Yr(e).direction==="rtl"}const k4={convertOffsetParentRelativeRectToViewportRelativeRect:m4,getDocumentElement:yn,getClippingRect:b4,getOffsetParent:a_,getElementRects:N4,getClientRects:p4,getDimensions:_4,getScale:zo,isElement:Qr,isRTL:S4};function o_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function C4(e,t){let r=null,n;const s=yn(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const b=Zc(f),g=Zc(s.clientWidth-(d+m)),y=Zc(s.clientHeight-(f+p)),w=Zc(d),v={rootMargin:-b+"px "+-g+"px "+-y+"px "+-w+"px",threshold:or(0,Vs(1,c))||1};let _=!0;function N(j){const S=j[0].intersectionRatio;if(S!==c){if(!_)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!o_(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(N,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,v)}r.observe(e)}return i(!0),o}function E4(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Tg(e),d=s||o?[...u?ql(u):[],...ql(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=u&&l?C4(u,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let b,g=c?Fa(e):null;c&&y();function y(){const w=Fa(e);g&&!o_(g,w)&&r(),g=w,b=requestAnimationFrame(y)}return r(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const P4=JR,T4=e4,R4=YR,O4=r4,A4=ZR,ty=QR,M4=t4,I4=(e,t,r)=>{const n=new Map,s={platform:k4,...r},o={...s.platform,_c:n};return GR(e,t,{...s,platform:o})};var D4=typeof document<"u",L4=function(){},_u=D4?h.useLayoutEffect:L4;function ad(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ad(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!ad(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function i_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ry(e,t){const r=i_(e);return Math.round(t*r)/r}function lh(e){const t=h.useRef(e);return _u(()=>{t.current=e}),t}function $4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);ad(m,n)||p(n);const[b,g]=h.useState(null),[y,w]=h.useState(null),x=h.useCallback(I=>{I!==j.current&&(j.current=I,g(I))},[]),v=h.useCallback(I=>{I!==S.current&&(S.current=I,w(I))},[]),_=o||b,N=i||y,j=h.useRef(null),S=h.useRef(null),k=h.useRef(d),O=c!=null,E=lh(c),T=lh(s),D=lh(u),U=h.useCallback(()=>{if(!j.current||!S.current)return;const I={placement:t,strategy:r,middleware:m};T.current&&(I.platform=T.current),I4(j.current,S.current,I).then(A=>{const B={...A,isPositioned:D.current!==!1};M.current&&!ad(k.current,B)&&(k.current=B,Xs.flushSync(()=>{f(B)}))})},[m,t,r,T,D]);_u(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const M=h.useRef(!1);_u(()=>(M.current=!0,()=>{M.current=!1}),[]),_u(()=>{if(_&&(j.current=_),N&&(S.current=N),_&&N){if(E.current)return E.current(_,N,U);U()}},[_,N,U,E,O]);const q=h.useMemo(()=>({reference:j,floating:S,setReference:x,setFloating:v}),[x,v]),P=h.useMemo(()=>({reference:_,floating:N}),[_,N]),z=h.useMemo(()=>{const I={position:r,left:0,top:0};if(!P.floating)return I;const A=ry(P.floating,d.x),B=ry(P.floating,d.y);return l?{...I,transform:"translate("+A+"px, "+B+"px)",...i_(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:B}},[r,l,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:U,refs:q,elements:P,floatingStyles:z}),[d,U,q,P,z])}const F4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ty({element:n.current,padding:s}).fn(r):{}:n?ty({element:n,padding:s}).fn(r):{}}}},z4=(e,t)=>({...P4(e),options:[e,t]}),U4=(e,t)=>({...T4(e),options:[e,t]}),B4=(e,t)=>({...M4(e),options:[e,t]}),q4=(e,t)=>({...R4(e),options:[e,t]}),V4=(e,t)=>({...O4(e),options:[e,t]}),W4=(e,t)=>({...A4(e),options:[e,t]}),H4=(e,t)=>({...F4(e),options:[e,t]});var K4="Arrow",l_=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(de.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});l_.displayName=K4;var G4=l_;function Q4(e){const[t,r]=h.useState(void 0);return at(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Og="Popper",[c_,Js]=sr(Og),[Y4,u_]=c_(Og),d_=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return a.jsx(Y4,{scope:t,anchor:n,onAnchorChange:s,children:r})};d_.displayName=Og;var f_="PopperAnchor",h_=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=u_(f_,r),i=h.useRef(null),l=Ne(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(de.div,{...s,ref:l})});h_.displayName=f_;var Ag="PopperContent",[Z4,X4]=c_(Ag),m_=h.forwardRef((e,t)=>{var Q,we,J,L,W,X;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:b,...g}=e,y=u_(Ag,r),[w,x]=h.useState(null),v=Ne(t,me=>x(me)),[_,N]=h.useState(null),j=Q4(_),S=(j==null?void 0:j.width)??0,k=(j==null?void 0:j.height)??0,O=n+(o!=="center"?"-"+o:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],D=T.length>0,U={padding:E,boundary:T.filter(eO),altBoundary:D},{refs:M,floatingStyles:q,placement:P,isPositioned:z,middlewareData:I}=$4({strategy:"fixed",placement:O,whileElementsMounted:(...me)=>E4(...me,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[z4({mainAxis:s+k,alignmentAxis:i}),c&&U4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?B4():void 0,...U}),c&&q4({...U}),V4({...U,apply:({elements:me,rects:Se,availableWidth:_e,availableHeight:he})=>{const{width:We,height:ut}=Se.reference,bn=me.floating.style;bn.setProperty("--radix-popper-available-width",`${_e}px`),bn.setProperty("--radix-popper-available-height",`${he}px`),bn.setProperty("--radix-popper-anchor-width",`${We}px`),bn.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),_&&H4({element:_,padding:l}),tO({arrowWidth:S,arrowHeight:k}),m&&W4({strategy:"referenceHidden",...U})]}),[A,B]=v_(P),te=tt(b);at(()=>{z&&(te==null||te())},[z,te]);const Y=(Q=I.arrow)==null?void 0:Q.x,ne=(we=I.arrow)==null?void 0:we.y,re=((J=I.arrow)==null?void 0:J.centerOffset)!==0,[oe,pe]=h.useState();return at(()=>{w&&pe(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(L=I.transformOrigin)==null?void 0:L.x,(W=I.transformOrigin)==null?void 0:W.y].join(" "),...((X=I.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Z4,{scope:r,placedSide:A,onArrowChange:N,arrowX:Y,arrowY:ne,shouldHideArrow:re,children:a.jsx(de.div,{"data-side":A,"data-align":B,...g,ref:v,style:{...g.style,animation:z?void 0:"none"}})})})});m_.displayName=Ag;var p_="PopperArrow",J4={top:"bottom",right:"left",bottom:"top",left:"right"},g_=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=X4(p_,n),i=J4[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(G4,{...s,ref:r,style:{...s.style,display:"block"}})})});g_.displayName=p_;function eO(e){return e!==null}var tO=e=>({name:"transformOrigin",options:e,fn(t){var y,w,x;const{placement:r,rects:n,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=v_(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let b="",g="";return u==="bottom"?(b=i?f:`${m}px`,g=`${-c}px`):u==="top"?(b=i?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,g=i?f:`${p}px`):u==="left"&&(b=`${n.floating.width+c}px`,g=i?f:`${p}px`),{data:{x:b,y:g}}}});function v_(e){const[t,r="center"]=e.split("-");return[t,r]}var Mg=d_,mc=h_,Xd=m_,Jd=g_,[ef]=sr("Tooltip",[Js]),Ig=Js(),x_="TooltipProvider",rO=700,ny="tooltip.open",[nO,y_]=ef(x_),w_=e=>{const{__scopeTooltip:t,delayDuration:r=rO,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(nO,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};w_.displayName=x_;var b_="Tooltip",[ez,tf]=ef(b_),Am="TooltipTrigger",sO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=tf(Am,r),o=y_(Am,r),i=Ig(r),l=h.useRef(null),c=Ne(t,l,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(mc,{asChild:!0,...i,children:a.jsx(de.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:G(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:G(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:G(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:G(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:G(e.onBlur,s.onClose),onClick:G(e.onClick,s.onClose)})})});sO.displayName=Am;var aO="TooltipPortal",[tz,oO]=ef(aO,{forceMount:void 0}),di="TooltipContent",__=h.forwardRef((e,t)=>{const r=oO(di,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=tf(di,e.__scopeTooltip);return a.jsx(Ct,{present:n||i.open,children:i.disableHoverableContent?a.jsx(j_,{side:s,...o,ref:t}):a.jsx(iO,{side:s,...o,ref:t})})}),iO=h.forwardRef((e,t)=>{const r=tf(di,e.__scopeTooltip),n=y_(di,e.__scopeTooltip),s=h.useRef(null),o=Ne(t,s),[i,l]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((b,g)=>{const y=b.currentTarget,w={x:b.clientX,y:b.clientY},x=fO(w,y.getBoundingClientRect()),v=hO(w,x),_=mO(g.getBoundingClientRect()),N=gO([...v,..._]);l(N),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const b=y=>p(y,d),g=y=>p(y,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),h.useEffect(()=>{if(i){const b=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),v=!pO(w,i);x?m():v&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,m]),a.jsx(j_,{...e,ref:o})}),[lO,cO]=ef(b_,{isInside:!1}),uO=aP("TooltipContent"),j_=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=tf(di,r),u=Ig(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(ny,d),()=>document.removeEventListener(ny,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Ga,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Xd,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(uO,{children:n}),a.jsx(lO,{scope:r,isInside:!0,children:a.jsx(CP,{id:c.contentId,role:"tooltip",children:s||n})})]})})});__.displayName=di;var N_="TooltipArrow",dO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ig(r);return cO(N_,r).isInside?null:a.jsx(Jd,{...s,...n,ref:t})});dO.displayName=N_;function fO(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function hO(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function mO(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function pO(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function gO(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),vO(t)}function vO(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var xO=w_,S_=__;const yO=xO,wO=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(S_,{ref:n,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));wO.displayName=S_.displayName;var Pi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},za=typeof window>"u"||"Deno"in globalThis;function Ft(){}function bO(e,t){return typeof e=="function"?e(t):e}function Mm(e){return typeof e=="number"&&e>=0&&e!==1/0}function k_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Is(e,t){return typeof e=="function"?e(t):e}function _r(e,t){return typeof e=="function"?e(t):e}function sy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Dg(i,t.options))return!1}else if(!Vl(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function ay(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ua(t.options.mutationKey)!==Ua(o))return!1}else if(!Vl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Dg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ua)(e)}function Ua(e){return JSON.stringify(e,(t,r)=>Im(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Vl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Vl(e[r],t[r])):!1}function C_(e,t){if(e===t)return e;const r=oy(e)&&oy(t);if(r||Im(e)&&Im(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=C_(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function od(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function oy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Im(e){if(!iy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iy(e){return Object.prototype.toString.call(e)==="[object Object]"}function _O(e){return new Promise(t=>{setTimeout(t,e)})}function Dm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?C_(e,t):t}function jO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function NO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Lg=Symbol();function E_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function P_(e,t){return typeof e=="function"?e(...t):!!e}var wa,fs,Vo,C0,SO=(C0=class extends Pi{constructor(){super();fe(this,wa);fe(this,fs);fe(this,Vo);se(this,Vo,t=>{if(!za&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,fs)||this.setEventListener(C(this,Vo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,fs))==null||t.call(this),se(this,fs,void 0))}setEventListener(t){var r;se(this,Vo,t),(r=C(this,fs))==null||r.call(this),se(this,fs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,wa)!==t&&(se(this,wa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,wa)=="boolean"?C(this,wa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wa=new WeakMap,fs=new WeakMap,Vo=new WeakMap,C0),$g=new SO,Wo,hs,Ho,E0,kO=(E0=class extends Pi{constructor(){super();fe(this,Wo,!0);fe(this,hs);fe(this,Ho);se(this,Ho,t=>{if(!za&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,hs)||this.setEventListener(C(this,Ho))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,hs))==null||t.call(this),se(this,hs,void 0))}setEventListener(t){var r;se(this,Ho,t),(r=C(this,hs))==null||r.call(this),se(this,hs,t(this.setOnline.bind(this)))}setOnline(t){C(this,Wo)!==t&&(se(this,Wo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,Wo)}},Wo=new WeakMap,hs=new WeakMap,Ho=new WeakMap,E0),id=new kO;function Lm(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function CO(e){return Math.min(1e3*2**e,3e4)}function T_(e){return(e??"online")==="online"?id.isOnline():!0}var R_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ch(e){return e instanceof R_}function O_(e){let t=!1,r=0,n=!1,s;const o=Lm(),i=g=>{var y;n||(m(new R_(g)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>$g.isFocused()&&(e.networkMode==="always"||id.isOnline())&&e.canRun(),d=()=>T_(e.networkMode)&&e.canRun(),f=g=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,g),s==null||s(),o.resolve(g))},m=g=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var y;s=w=>{(n||u())&&g(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(n)return;let g;const y=r===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var j;if(n)return;const x=e.retry??(za?0:3),v=e.retryDelay??CO,_=typeof v=="function"?v(r,w):v,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(t||!N){m(w);return}r++,(j=e.onFail)==null||j.call(e,r,w),_O(_).then(()=>u()?void 0:p()).then(()=>{t?m(w):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),o)}}var EO=e=>setTimeout(e,0);function PO(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=EO;const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var mt=PO(),ba,P0,A_=(P0=class{constructor(){fe(this,ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mm(this.gcTime)&&se(this,ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(za?1/0:5*60*1e3))}clearGcTimeout(){C(this,ba)&&(clearTimeout(C(this,ba)),se(this,ba,void 0))}},ba=new WeakMap,P0),Ko,_a,br,ja,Rt,rc,Na,zr,jn,T0,TO=(T0=class extends A_{constructor(t){super();fe(this,zr);fe(this,Ko);fe(this,_a);fe(this,br);fe(this,ja);fe(this,Rt);fe(this,rc);fe(this,Na);se(this,Na,!1),se(this,rc,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,ja,t.client),se(this,br,C(this,ja).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,Ko,RO(this.options)),this.state=t.state??C(this,Ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Rt))==null?void 0:t.promise}setOptions(t){this.options={...C(this,rc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,br).remove(this)}setData(t,r){const n=Dm(this.state.data,t,this.options);return je(this,zr,jn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){je(this,zr,jn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,Rt))==null?void 0:n.promise;return(s=C(this,Rt))==null||s.cancel(t),r?r.then(Ft).catch(Ft):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Ko))}isActive(){return this.observers.some(t=>_r(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Is(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!k_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Rt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Rt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,br).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Rt)&&(C(this,Na)?C(this,Rt).cancel({revert:!0}):C(this,Rt).cancelRetry()),this.scheduleGc()),C(this,br).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,zr,jn).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Rt))return C(this,Rt).continueRetry(),C(this,Rt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(se(this,Na,!0),n.signal)})},o=()=>{const m=E_(this.options,r),b=(()=>{const g={client:C(this,ja),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return se(this,Na,!1),this.options.persister?this.options.persister(m,b,this):m(b)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,ja),state:this.state,fetchFn:o};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),se(this,_a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&je(this,zr,jn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var p,b,g,y;ch(m)&&m.silent||je(this,zr,jn).call(this,{type:"error",error:m}),ch(m)||((b=(p=C(this,br).config).onError)==null||b.call(p,m,this),(y=(g=C(this,br).config).onSettled)==null||y.call(g,this.state.data,m,this)),this.scheduleGc()};return se(this,Rt,O_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,b,g,y;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){c(w);return}(b=(p=C(this,br).config).onSuccess)==null||b.call(p,m,this),(y=(g=C(this,br).config).onSettled)==null||y.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{je(this,zr,jn).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{je(this,zr,jn).call(this,{type:"pause"})},onContinue:()=>{je(this,zr,jn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),C(this,Rt).start()}},Ko=new WeakMap,_a=new WeakMap,br=new WeakMap,ja=new WeakMap,Rt=new WeakMap,rc=new WeakMap,Na=new WeakMap,zr=new WeakSet,jn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...M_(n.data,this.options),fetchMeta:t.meta??null};case"success":return se(this,_a,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return ch(s)&&s.revert&&C(this,_a)?{...C(this,_a),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),mt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,br).notify({query:this,type:"updated",action:t})})},T0);function M_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var nn,R0,OO=(R0=class extends Pi{constructor(t={}){super();fe(this,nn);this.config=t,se(this,nn,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Dg(s,r);let i=this.get(o);return i||(i=new TO({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){C(this,nn).has(t.queryHash)||(C(this,nn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,nn).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,nn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,nn).get(t)}getAll(){return[...C(this,nn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>sy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>sy(t,n)):r}notify(t){mt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nn=new WeakMap,R0),sn,Dt,Sa,an,rs,O0,AO=(O0=class extends A_{constructor(t){super();fe(this,an);fe(this,sn);fe(this,Dt);fe(this,Sa);this.mutationId=t.mutationId,se(this,Dt,t.mutationCache),se(this,sn,[]),this.state=t.state||I_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,sn).includes(t)||(C(this,sn).push(t),this.clearGcTimeout(),C(this,Dt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,sn,C(this,sn).filter(r=>r!==t)),this.scheduleGc(),C(this,Dt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,sn).length||(this.state.status==="pending"?this.scheduleGc():C(this,Dt).remove(this))}continue(){var t;return((t=C(this,Sa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,u,d,f,m,p,b,g,y,w,x,v,_,N,j,S,k;const r=()=>{je(this,an,rs).call(this,{type:"continue"})};se(this,Sa,O_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,E)=>{je(this,an,rs).call(this,{type:"failed",failureCount:O,error:E})},onPause:()=>{je(this,an,rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Dt).canRun(this)}));const n=this.state.status==="pending",s=!C(this,Sa).canStart();try{if(n)r();else{je(this,an,rs).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=C(this,Dt).config).onMutate)==null?void 0:i.call(o,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&je(this,an,rs).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const O=await C(this,Sa).start();return await((d=(u=C(this,Dt).config).onSuccess)==null?void 0:d.call(u,O,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,O,t,this.state.context)),await((b=(p=C(this,Dt).config).onSettled)==null?void 0:b.call(p,O,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,O,null,t,this.state.context)),je(this,an,rs).call(this,{type:"success",data:O}),O}catch(O){try{throw await((x=(w=C(this,Dt).config).onError)==null?void 0:x.call(w,O,t,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,O,t,this.state.context)),await((j=(N=C(this,Dt).config).onSettled)==null?void 0:j.call(N,void 0,O,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,O,t,this.state.context)),O}finally{je(this,an,rs).call(this,{type:"error",error:O})}}finally{C(this,Dt).runNext(this)}}},sn=new WeakMap,Dt=new WeakMap,Sa=new WeakMap,an=new WeakSet,rs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),mt.batch(()=>{C(this,sn).forEach(n=>{n.onMutationUpdate(t)}),C(this,Dt).notify({mutation:this,type:"updated",action:t})})},O0);function I_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var En,Ur,nc,A0,MO=(A0=class extends Pi{constructor(t={}){super();fe(this,En);fe(this,Ur);fe(this,nc);this.config=t,se(this,En,new Set),se(this,Ur,new Map),se(this,nc,0)}build(t,r,n){const s=new AO({mutationCache:this,mutationId:++Tc(this,nc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){C(this,En).add(t);const r=Xc(t);if(typeof r=="string"){const n=C(this,Ur).get(r);n?n.push(t):C(this,Ur).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,En).delete(t)){const r=Xc(t);if(typeof r=="string"){const n=C(this,Ur).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&C(this,Ur).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Xc(t);if(typeof r=="string"){const n=C(this,Ur).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Xc(t);if(typeof r=="string"){const s=(n=C(this,Ur).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mt.batch(()=>{C(this,En).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,En).clear(),C(this,Ur).clear()})}getAll(){return Array.from(C(this,En))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ay(r,n))}findAll(t={}){return this.getAll().filter(r=>ay(t,r))}notify(t){mt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return mt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ft))))}},En=new WeakMap,Ur=new WeakMap,nc=new WeakMap,A0);function Xc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ly(e){return{onFetch:(t,r)=>{var d,f,m,p,b;const n=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=E_(t.options,t.fetchOptions),x=async(v,_,N)=>{if(g)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};return y(T),T})(),k=await w(S),{maxPages:O}=t.options,E=N?NO:jO;return{pages:E(v.pages,k,O),pageParams:E(v.pageParams,_,O)}};if(s&&o.length){const v=s==="backward",_=v?IO:cy,N={pages:o,pageParams:i},j=_(n,N);l=await x(N,j,v)}else{const v=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:cy(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function cy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function IO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Je,ms,ps,Go,Qo,gs,Yo,Zo,M0,DO=(M0=class{constructor(e={}){fe(this,Je);fe(this,ms);fe(this,ps);fe(this,Go);fe(this,Qo);fe(this,gs);fe(this,Yo);fe(this,Zo);se(this,Je,e.queryCache||new OO),se(this,ms,e.mutationCache||new MO),se(this,ps,e.defaultOptions||{}),se(this,Go,new Map),se(this,Qo,new Map),se(this,gs,0)}mount(){Tc(this,gs)._++,C(this,gs)===1&&(se(this,Yo,$g.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Je).onFocus())})),se(this,Zo,id.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Je).onOnline())})))}unmount(){var e,t;Tc(this,gs)._--,C(this,gs)===0&&((e=C(this,Yo))==null||e.call(this),se(this,Yo,void 0),(t=C(this,Zo))==null||t.call(this),se(this,Zo,void 0))}isFetching(e){return C(this,Je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,ms).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Je).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,Je).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Is(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,Je).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,Je).get(n.queryHash),o=s==null?void 0:s.state.data,i=bO(t,o);if(i!==void 0)return C(this,Je).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return mt.batch(()=>C(this,Je).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Je).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,Je);mt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,Je);return mt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=mt.batch(()=>C(this,Je).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ft).catch(Ft)}invalidateQueries(e,t={}){return mt.batch(()=>(C(this,Je).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=mt.batch(()=>C(this,Je).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ft)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ft)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,Je).build(this,t);return r.isStaleByTime(Is(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ft).catch(Ft)}fetchInfiniteQuery(e){return e.behavior=ly(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ft).catch(Ft)}ensureInfiniteQueryData(e){return e.behavior=ly(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return id.isOnline()?C(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Je)}getMutationCache(){return C(this,ms)}getDefaultOptions(){return C(this,ps)}setDefaultOptions(e){se(this,ps,e)}setQueryDefaults(e,t){C(this,Go).set(Ua(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,Go).values()],r={};return t.forEach(n=>{Vl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Qo).set(Ua(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Qo).values()],r={};return t.forEach(n=>{Vl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,ps).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,ps).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Je).clear(),C(this,ms).clear()}},Je=new WeakMap,ms=new WeakMap,ps=new WeakMap,Go=new WeakMap,Qo=new WeakMap,gs=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,M0),Gt,Pe,sc,Lt,ka,Xo,vs,xs,ac,Jo,ei,Ca,Ea,ys,ti,Ae,el,$m,Fm,zm,Um,Bm,qm,Vm,D_,I0,LO=(I0=class extends Pi{constructor(t,r){super();fe(this,Ae);fe(this,Gt);fe(this,Pe);fe(this,sc);fe(this,Lt);fe(this,ka);fe(this,Xo);fe(this,vs);fe(this,xs);fe(this,ac);fe(this,Jo);fe(this,ei);fe(this,Ca);fe(this,Ea);fe(this,ys);fe(this,ti,new Set);this.options=r,se(this,Gt,t),se(this,xs,null),se(this,vs,Lm()),this.options.experimental_prefetchInRender||C(this,vs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Pe).addObserver(this),uy(C(this,Pe),this.options)?je(this,Ae,el).call(this):this.updateResult(),je(this,Ae,Um).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wm(C(this,Pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wm(C(this,Pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,Ae,Bm).call(this),je(this,Ae,qm).call(this),C(this,Pe).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,Pe);if(this.options=C(this,Gt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _r(this.options.enabled,C(this,Pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,Ae,Vm).call(this),C(this,Pe).setOptions(this.options),r._defaulted&&!od(this.options,r)&&C(this,Gt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Pe),observer:this});const s=this.hasListeners();s&&dy(C(this,Pe),n,this.options,r)&&je(this,Ae,el).call(this),this.updateResult(),s&&(C(this,Pe)!==n||_r(this.options.enabled,C(this,Pe))!==_r(r.enabled,C(this,Pe))||Is(this.options.staleTime,C(this,Pe))!==Is(r.staleTime,C(this,Pe)))&&je(this,Ae,$m).call(this);const o=je(this,Ae,Fm).call(this);s&&(C(this,Pe)!==n||_r(this.options.enabled,C(this,Pe))!==_r(r.enabled,C(this,Pe))||o!==C(this,ys))&&je(this,Ae,zm).call(this,o)}getOptimisticResult(t){const r=C(this,Gt).getQueryCache().build(C(this,Gt),t),n=this.createResult(r,t);return FO(this,n)&&(se(this,Lt,n),se(this,Xo,this.options),se(this,ka,C(this,Pe).state)),n}getCurrentResult(){return C(this,Lt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){C(this,ti).add(t)}getCurrentQuery(){return C(this,Pe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,Gt).defaultQueryOptions(t),n=C(this,Gt).getQueryCache().build(C(this,Gt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return je(this,Ae,el).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,Lt)))}createResult(t,r){var O;const n=C(this,Pe),s=this.options,o=C(this,Lt),i=C(this,ka),l=C(this,Xo),u=t!==n?t.state:C(this,sc),{state:d}=t;let f={...d},m=!1,p;if(r._optimisticResults){const E=this.hasListeners(),T=!E&&uy(t,r),D=E&&dy(t,n,r,s);(T||D)&&(f={...f,...M_(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:y}=f;p=f.data;let w=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let E;o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=o.data,w=!0):E=typeof r.placeholderData=="function"?r.placeholderData((O=C(this,ei))==null?void 0:O.state.data,C(this,ei)):r.placeholderData,E!==void 0&&(y="success",p=Dm(o==null?void 0:o.data,E,r),m=!0)}if(r.select&&p!==void 0&&!w)if(o&&p===(i==null?void 0:i.data)&&r.select===C(this,ac))p=C(this,Jo);else try{se(this,ac,r.select),p=r.select(p),p=Dm(o==null?void 0:o.data,p,r),se(this,Jo,p),se(this,xs,null)}catch(E){se(this,xs,E)}C(this,xs)&&(b=C(this,xs),p=C(this,Jo),g=Date.now(),y="error");const x=f.fetchStatus==="fetching",v=y==="pending",_=y==="error",N=v&&x,j=p!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:v,isSuccess:y==="success",isError:_,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:_&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&j,isStale:Fg(t,r),refetch:this.refetch,promise:C(this,vs),isEnabled:_r(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=U=>{k.status==="error"?U.reject(k.error):k.data!==void 0&&U.resolve(k.data)},T=()=>{const U=se(this,vs,k.promise=Lm());E(U)},D=C(this,vs);switch(D.status){case"pending":t.queryHash===n.queryHash&&E(D);break;case"fulfilled":(k.status==="error"||k.data!==D.value)&&T();break;case"rejected":(k.status!=="error"||k.error!==D.reason)&&T();break}}return k}updateResult(){const t=C(this,Lt),r=this.createResult(C(this,Pe),this.options);if(se(this,ka,C(this,Pe).state),se(this,Xo,this.options),C(this,ka).data!==void 0&&se(this,ei,C(this,Pe)),od(r,t))return;se(this,Lt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!C(this,ti).size)return!0;const i=new Set(o??C(this,ti));return this.options.throwOnError&&i.add("error"),Object.keys(C(this,Lt)).some(l=>{const c=l;return C(this,Lt)[c]!==t[c]&&i.has(c)})};je(this,Ae,D_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,Ae,Um).call(this)}},Gt=new WeakMap,Pe=new WeakMap,sc=new WeakMap,Lt=new WeakMap,ka=new WeakMap,Xo=new WeakMap,vs=new WeakMap,xs=new WeakMap,ac=new WeakMap,Jo=new WeakMap,ei=new WeakMap,Ca=new WeakMap,Ea=new WeakMap,ys=new WeakMap,ti=new WeakMap,Ae=new WeakSet,el=function(t){je(this,Ae,Vm).call(this);let r=C(this,Pe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ft)),r},$m=function(){je(this,Ae,Bm).call(this);const t=Is(this.options.staleTime,C(this,Pe));if(za||C(this,Lt).isStale||!Mm(t))return;const n=k_(C(this,Lt).dataUpdatedAt,t)+1;se(this,Ca,setTimeout(()=>{C(this,Lt).isStale||this.updateResult()},n))},Fm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Pe)):this.options.refetchInterval)??!1},zm=function(t){je(this,Ae,qm).call(this),se(this,ys,t),!(za||_r(this.options.enabled,C(this,Pe))===!1||!Mm(C(this,ys))||C(this,ys)===0)&&se(this,Ea,setInterval(()=>{(this.options.refetchIntervalInBackground||$g.isFocused())&&je(this,Ae,el).call(this)},C(this,ys)))},Um=function(){je(this,Ae,$m).call(this),je(this,Ae,zm).call(this,je(this,Ae,Fm).call(this))},Bm=function(){C(this,Ca)&&(clearTimeout(C(this,Ca)),se(this,Ca,void 0))},qm=function(){C(this,Ea)&&(clearInterval(C(this,Ea)),se(this,Ea,void 0))},Vm=function(){const t=C(this,Gt).getQueryCache().build(C(this,Gt),this.options);if(t===C(this,Pe))return;const r=C(this,Pe);se(this,Pe,t),se(this,sc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},D_=function(t){mt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,Lt))}),C(this,Gt).getQueryCache().notify({query:C(this,Pe),type:"observerResultsUpdated"})})},I0);function $O(e,t){return _r(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uy(e,t){return $O(e,t)||e.state.data!==void 0&&Wm(e,t,t.refetchOnMount)}function Wm(e,t,r){if(_r(t.enabled,e)!==!1&&Is(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Fg(e,t)}return!1}function dy(e,t,r,n){return(e!==t||_r(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Fg(e,r)}function Fg(e,t){return _r(t.enabled,e)!==!1&&e.isStaleByTime(Is(t.staleTime,e))}function FO(e,t){return!od(e.getCurrentResult(),t)}var ws,bs,Qt,Pn,In,ju,Hm,D0,zO=(D0=class extends Pi{constructor(r,n){super();fe(this,In);fe(this,ws);fe(this,bs);fe(this,Qt);fe(this,Pn);se(this,ws,r),this.setOptions(n),this.bindMethods(),je(this,In,ju).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=C(this,ws).defaultMutationOptions(r),od(this.options,n)||C(this,ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,Qt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ua(n.mutationKey)!==Ua(this.options.mutationKey)?this.reset():((s=C(this,Qt))==null?void 0:s.state.status)==="pending"&&C(this,Qt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,Qt))==null||r.removeObserver(this)}onMutationUpdate(r){je(this,In,ju).call(this),je(this,In,Hm).call(this,r)}getCurrentResult(){return C(this,bs)}reset(){var r;(r=C(this,Qt))==null||r.removeObserver(this),se(this,Qt,void 0),je(this,In,ju).call(this),je(this,In,Hm).call(this)}mutate(r,n){var s;return se(this,Pn,n),(s=C(this,Qt))==null||s.removeObserver(this),se(this,Qt,C(this,ws).getMutationCache().build(C(this,ws),this.options)),C(this,Qt).addObserver(this),C(this,Qt).execute(r)}},ws=new WeakMap,bs=new WeakMap,Qt=new WeakMap,Pn=new WeakMap,In=new WeakSet,ju=function(){var n;const r=((n=C(this,Qt))==null?void 0:n.state)??I_();se(this,bs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Hm=function(r){mt.batch(()=>{var n,s,o,i,l,c,u,d;if(C(this,Pn)&&this.hasListeners()){const f=C(this,bs).variables,m=C(this,bs).context;(r==null?void 0:r.type)==="success"?((s=(n=C(this,Pn)).onSuccess)==null||s.call(n,r.data,f,m),(i=(o=C(this,Pn)).onSettled)==null||i.call(o,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=C(this,Pn)).onError)==null||c.call(l,r.error,f,m),(d=(u=C(this,Pn)).onSettled)==null||d.call(u,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(C(this,bs))})})},D0),L_=h.createContext(void 0),rf=e=>{const t=h.useContext(L_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UO=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(L_.Provider,{value:e,children:t})),$_=h.createContext(!1),BO=()=>h.useContext($_);$_.Provider;function qO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var VO=h.createContext(qO()),WO=()=>h.useContext(VO),HO=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},KO=e=>{h.useEffect(()=>{e.clearReset()},[e])},GO=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||P_(r,[e.error,n])),QO=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},YO=(e,t)=>e.isLoading&&e.isFetching&&!t,ZO=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,fy=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function XO(e,t,r){var f,m,p,b,g;const n=BO(),s=WO(),o=rf(),i=o.defaultQueryOptions(e);(m=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",QO(i),HO(i,s),KO(s);const l=!o.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(y=>{const w=d?c.subscribe(mt.batchCalls(y)):Ft;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i)},[i,c]),ZO(i,u))throw fy(i,c,s);if(GO({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((b=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||b.call(p,i,u),i.experimental_prefetchInRender&&!za&&YO(u,n)){const y=l?fy(i,c,s):(g=o.getQueryCache().get(i.queryHash))==null?void 0:g.promise;y==null||y.catch(Ft).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Sn(e,t){return XO(e,LO)}function Uo(e,t){const r=rf(),[n]=h.useState(()=>new zO(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const s=h.useSyncExternalStore(h.useCallback(i=>n.subscribe(mt.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=h.useCallback((i,l)=>{n.mutate(i,l).catch(Ft)},[n]);if(s.error&&P_(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}var Ns;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ns||(Ns={}));const hy="popstate";function JO(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return Km("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ld(s)}return tA(t,r,null,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eA(){return Math.random().toString(36).substr(2,8)}function my(e,t){return{usr:e.state,key:e.key,idx:t}}function Km(e,t,r,n){return r===void 0&&(r=null),Wl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ti(t):t,{state:r,key:t&&t.key||n||eA()})}function ld(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ti(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tA(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Ns.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Wl({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Ns.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:w})}function m(y,w){l=Ns.Push;let x=Km(g.location,y,w);u=d()+1;let v=my(x,u),_=g.createHref(x);try{i.pushState(v,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(_)}o&&c&&c({action:l,location:g.location,delta:1})}function p(y,w){l=Ns.Replace;let x=Km(g.location,y,w);u=d();let v=my(x,u),_=g.createHref(x);i.replaceState(v,"",_),o&&c&&c({action:l,location:g.location,delta:0})}function b(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof y=="string"?y:ld(y);return x=x.replace(/ $/,"%20"),st(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let g={get action(){return l},get location(){return e(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(hy,f),c=y,()=>{s.removeEventListener(hy,f),c=null}},createHref(y){return t(s,y)},createURL:b,encodeLocation(y){let w=b(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return i.go(y)}};return g}var py;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(py||(py={}));function rA(e,t,r){return r===void 0&&(r="/"),nA(e,t,r)}function nA(e,t,r,n){let s=typeof t=="string"?Ti(t):t,o=zg(s.pathname||"/",r);if(o==null)return null;let i=z_(e);sA(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=gA(o);l=hA(i[c],u)}return l}function z_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ds([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(st(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),z_(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:dA(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of U_(o.path))s(o,i,c)}),t}function U_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=U_(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aA=/^:[\w-]+$/,oA=3,iA=2,lA=1,cA=10,uA=-2,gy=e=>e==="*";function dA(e,t){let r=e.split("/"),n=r.length;return r.some(gy)&&(n+=uA),t&&(n+=iA),r.filter(s=>!gy(s)).reduce((s,o)=>s+(aA.test(o)?oA:o===""?lA:cA),n)}function fA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function hA(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=mA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Ds([o,f.pathname]),pathnameBase:wA(Ds([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Ds([o,f.pathnameBase]))}return i}function mA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=pA(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[f];return p&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function pA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),F_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function gA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return F_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function vA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ti(e):e;return{pathname:r?r.startsWith("/")?r:xA(r,t):t,search:bA(n),hash:_A(s)}}function xA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function uh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yA(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ug(e,t){let r=yA(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Bg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ti(e):(s=Wl({},e),st(!s.pathname||!s.pathname.includes("?"),uh("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),uh("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),uh("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=vA(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ds=e=>e.join("/").replace(/\/\/+/g,"/"),wA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_A=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const B_=["post","put","patch","delete"];new Set(B_);const NA=["get",...B_];new Set(NA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}const qg=h.createContext(null),SA=h.createContext(null),ea=h.createContext(null),nf=h.createContext(null),Hn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),q_=h.createContext(null);function kA(e,t){let{relative:r}=t===void 0?{}:t;Ri()||st(!1);let{basename:n,navigator:s}=h.useContext(ea),{hash:o,pathname:i,search:l}=H_(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Ds([n,i])),s.createHref({pathname:c,search:l,hash:o})}function Ri(){return h.useContext(nf)!=null}function ta(){return Ri()||st(!1),h.useContext(nf).location}function V_(e){h.useContext(ea).static||h.useLayoutEffect(e)}function Et(){let{isDataRoute:e}=h.useContext(Hn);return e?FA():CA()}function CA(){Ri()||st(!1);let e=h.useContext(qg),{basename:t,future:r,navigator:n}=h.useContext(ea),{matches:s}=h.useContext(Hn),{pathname:o}=ta(),i=JSON.stringify(Ug(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return V_(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Bg(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ds([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function W_(){let{matches:e}=h.useContext(Hn),t=e[e.length-1];return t?t.params:{}}function H_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(ea),{matches:s}=h.useContext(Hn),{pathname:o}=ta(),i=JSON.stringify(Ug(s,n.v7_relativeSplatPath));return h.useMemo(()=>Bg(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function EA(e,t){return PA(e,t)}function PA(e,t,r,n){Ri()||st(!1);let{navigator:s}=h.useContext(ea),{matches:o}=h.useContext(Hn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ta(),d;if(t){var f;let y=typeof t=="string"?Ti(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||st(!1),d=y}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=rA(e,{pathname:p}),g=MA(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ds([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ds([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&g?h.createElement(nf.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ns.Pop}},g):g}function TA(){let e=$A(),t=jA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const RA=h.createElement(TA,null);class OA extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Hn.Provider,{value:this.props.routeContext},h.createElement(q_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AA(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(qg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Hn.Provider,{value:t},n)}function MA(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||st(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,b=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,b=!1,g=null,y=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||RA,c&&(u<0&&m===0?(zA("route-fallback"),b=!0,y=null):u===m&&(b=!0,y=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),x=()=>{let v;return p?v=g:b?v=y:f.route.Component?v=h.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,h.createElement(AA,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(OA,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var K_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(K_||{}),G_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(G_||{});function IA(e){let t=h.useContext(qg);return t||st(!1),t}function DA(e){let t=h.useContext(SA);return t||st(!1),t}function LA(e){let t=h.useContext(Hn);return t||st(!1),t}function Q_(e){let t=LA(),r=t.matches[t.matches.length-1];return r.route.id||st(!1),r.route.id}function $A(){var e;let t=h.useContext(q_),r=DA(),n=Q_();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function FA(){let{router:e}=IA(K_.UseNavigateStable),t=Q_(G_.UseNavigateStable),r=h.useRef(!1);return V_(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hl({fromRouteId:t},o)))},[e,t])}const vy={};function zA(e,t,r){vy[e]||(vy[e]=!0)}function UA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qa(e){let{to:t,replace:r,state:n,relative:s}=e;Ri()||st(!1);let{future:o,static:i}=h.useContext(ea),{matches:l}=h.useContext(Hn),{pathname:c}=ta(),u=Et(),d=Bg(t,Ug(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function dt(e){st(!1)}function BA(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ns.Pop,navigator:o,static:i=!1,future:l}=e;Ri()&&st(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:Hl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Ti(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:b="default"}=n,g=h.useMemo(()=>{let y=zg(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:p,key:b},navigationType:s}},[c,d,f,m,p,b,s]);return g==null?null:h.createElement(ea.Provider,{value:u},h.createElement(nf.Provider,{children:r,value:g}))}function qA(e){let{children:t,location:r}=e;return EA(Gm(t),r)}new Promise(()=>{});function Gm(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Gm(n.props.children,o));return}n.type!==dt&&st(!1),!n.props.index||!n.props.children||st(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Gm(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(this,arguments)}function VA(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function WA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HA(e,t){return e.button===0&&(!t||t==="_self")&&!WA(e)}function Ym(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function KA(e,t){let r=Ym(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const GA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QA="6";try{window.__reactRouterVersion=QA}catch{}const YA="startTransition",xy=kp[YA];function ZA(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=JO({window:s,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&xy?xy(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>UA(n),[n]),h.createElement(BA,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const XA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=VA(t,GA),{basename:p}=h.useContext(ea),b,g=!1;if(typeof u=="string"&&JA.test(u)&&(b=u,XA))try{let v=new URL(window.location.href),_=u.startsWith("//")?new URL(v.protocol+u):new URL(u),N=zg(_.pathname,p);_.origin===v.origin&&N!=null?u=N+_.search+_.hash:g=!0}catch{}let y=kA(u,{relative:s}),w=eM(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(v){n&&n(v),v.defaultPrevented||w(v)}return h.createElement("a",Qm({},m,{href:b||y,onClick:g||o?n:x,ref:r,target:c}))});var yy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yy||(yy={}));var wy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wy||(wy={}));function eM(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Et(),u=ta(),d=H_(e,{relative:i});return h.useCallback(f=>{if(HA(f,r)){f.preventDefault();let m=n!==void 0?n:ld(u)===ld(d);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,o,i,l])}function Vg(e){let t=h.useRef(Ym(e)),r=h.useRef(!1),n=ta(),s=h.useMemo(()=>KA(n.search,r.current?null:t.current),[n.search]),o=Et(),i=h.useCallback((l,c)=>{const u=Ym(typeof l=="function"?l(s):l);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const Y_=h.createContext(void 0),Z_=()=>{const e=h.useContext(Y_);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},tM=({children:e,defaultTheme:t="light"})=>{const[r,n]=h.useState(()=>localStorage.getItem("orkadia-theme")||t);h.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark","christmas","new-year"),i.classList.add(r),localStorage.setItem("orkadia-theme",r)},[r]);const o={theme:r,setTheme:n,toggleTheme:()=>{n(i=>{switch(i){case"light":return"dark";case"dark":return"light";case"christmas":return"new-year";case"new-year":return"christmas";default:return"light"}})}};return a.jsx(Y_.Provider,{value:o,children:e})},rM=()=>a.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[Array.from({length:50}).map((e,t)=>a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-snowfall opacity-60",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*10}s`,animationDuration:`${10+Math.random()*10}s`}},t)),a.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-red-500 via-green-500 to-red-500 opacity-30"}),Array.from({length:20}).map((e,t)=>a.jsx("div",{className:"absolute w-2 h-2 bg-yellow-300 rounded-full animate-twinkle",style:{top:`${Math.random()*50}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`}},`star-${t}`))]}),nM=()=>a.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[Array.from({length:10}).map((e,t)=>a.jsx("div",{className:"absolute w-4 h-4 bg-gradient-to-r from-yellow-400 to-purple-500 rounded-full animate-fireworks",style:{top:`${20+Math.random()*60}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`}},`firework-${t}`)),Array.from({length:30}).map((e,t)=>a.jsx("div",{className:"absolute w-2 h-2 animate-confetti",style:{left:`${Math.random()*100}%`,backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"][Math.floor(Math.random()*5)],animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*4}s`}},`confetti-${t}`)),Array.from({length:25}).map((e,t)=>a.jsx("div",{className:"absolute w-1 h-1 bg-yellow-300 rounded-full animate-sparkle",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`}},`sparkle-${t}`)),a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 opacity-50"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 opacity-50"})]}),sM=()=>{const{theme:e}=Z_();switch(e){case"christmas":return a.jsx(rM,{});case"new-year":return a.jsx(nM,{});default:return null}},aM="/assets/global-background-B97sj5hZ.png",oM=({children:e,className:t=""})=>a.jsxs("div",{className:`min-h-screen relative ${t}`,children:[a.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:`url(${aM})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-black/5 via-transparent to-black/10 z-1 pointer-events-none"}),a.jsx("div",{className:"relative z-10 min-h-screen",children:e})]}),iM=Hd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?nP:"button";return a.jsx(i,{className:le(iM({variant:t,size:r,className:e})),ref:o,...s})});$.displayName="Button";var lM=h.createContext(void 0);function pc(e){const t=h.useContext(lM);return e||t||"ltr"}var dh=0;function sf(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??by()),document.body.insertAdjacentElement("beforeend",e[1]??by()),dh++,()=>{dh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dh--}},[])}function by(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fh="focusScope.autoFocusOnMount",hh="focusScope.autoFocusOnUnmount",_y={bubbles:!1,cancelable:!0},cM="FocusScope",gc=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=tt(s),d=tt(o),f=h.useRef(null),m=Ne(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(v){if(p.paused||!l)return;const _=v.target;l.contains(_)?f.current=_:ns(f.current,{select:!0})},y=function(v){if(p.paused||!l)return;const _=v.relatedTarget;_!==null&&(l.contains(_)||ns(f.current,{select:!0}))},w=function(v){if(document.activeElement===document.body)for(const N of v)N.removedNodes.length>0&&ns(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){Ny.add(p);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(fh,_y);l.addEventListener(fh,u),l.dispatchEvent(w),w.defaultPrevented||(uM(pM(X_(l)),{select:!0}),document.activeElement===g&&ns(l))}return()=>{l.removeEventListener(fh,u),setTimeout(()=>{const w=new CustomEvent(hh,_y);l.addEventListener(hh,d),l.dispatchEvent(w),w.defaultPrevented||ns(g??document.body,{select:!0}),l.removeEventListener(hh,d),Ny.remove(p)},0)}}},[l,u,d,p]);const b=h.useCallback(g=>{if(!r&&!n||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(y&&w){const x=g.currentTarget,[v,_]=dM(x);v&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&ns(v,{select:!0})):g.shiftKey&&w===v&&(g.preventDefault(),r&&ns(_,{select:!0})):w===x&&g.preventDefault()}},[r,n,p.paused]);return a.jsx(de.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});gc.displayName=cM;function uM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ns(n,{select:t}),document.activeElement!==r)return}function dM(e){const t=X_(e),r=jy(t,e),n=jy(t.reverse(),e);return[r,n]}function X_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jy(e,t){for(const r of e)if(!fM(r,{upTo:t}))return r}function fM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hM(e){return e instanceof HTMLInputElement&&"select"in e}function ns(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&hM(e)&&t&&e.select()}}var Ny=mM();function mM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Sy(e,t),e.unshift(t)},remove(t){var r;e=Sy(e,t),(r=e[0])==null||r.resume()}}}function Sy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function pM(e){return e.filter(t=>t.tagName!=="A")}var mh="rovingFocusGroup.onEntryFocus",gM={bubbles:!1,cancelable:!0},vc="RovingFocusGroup",[Zm,J_,vM]=qd(vc),[xM,af]=sr(vc,[vM]),[yM,wM]=xM(vc),ej=h.forwardRef((e,t)=>a.jsx(Zm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Zm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(bM,{...e,ref:t})})}));ej.displayName=vc;var bM=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),p=Ne(t,m),b=pc(o),[g,y]=Us({prop:i,defaultProp:l??null,onChange:c,caller:vc}),[w,x]=h.useState(!1),v=tt(u),_=J_(r),N=h.useRef(!1),[j,S]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(mh,v),()=>k.removeEventListener(mh,v)},[v]),a.jsx(yM,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(k=>y(k),[y]),onItemShiftTab:h.useCallback(()=>x(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>S(k=>k-1),[]),children:a.jsx(de.div,{tabIndex:w||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{N.current=!0}),onFocus:G(e.onFocus,k=>{const O=!N.current;if(k.target===k.currentTarget&&O&&!w){const E=new CustomEvent(mh,gM);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const T=_().filter(P=>P.focusable),D=T.find(P=>P.active),U=T.find(P=>P.id===g),q=[D,U,...T].filter(Boolean).map(P=>P.ref.current);nj(q,d)}}N.current=!1}),onBlur:G(e.onBlur,()=>x(!1))})})}),tj="RovingFocusGroupItem",rj=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Kr(),u=o||c,d=wM(tj,r),f=d.currentTabStopId===u,m=J_(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:g}=d;return h.useEffect(()=>{if(n)return p(),()=>b()},[n,p,b]),a.jsx(Zm.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(de.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:G(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:G(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:G(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=NM(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")v.reverse();else if(w==="prev"||w==="next"){w==="prev"&&v.reverse();const _=v.indexOf(y.currentTarget);v=d.loop?SM(v,_+1):v.slice(_+1)}setTimeout(()=>nj(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});rj.displayName=tj;var _M={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function NM(e,t,r){const n=jM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return _M[n]}function nj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function SM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sj=ej,aj=rj,kM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},so=new WeakMap,Jc=new WeakMap,eu={},ph=0,oj=function(e){return e&&(e.host||oj(e.parentNode))},CM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=oj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},EM=function(e,t,r,n){var s=CM(t,Array.isArray(e)?e:[e]);eu[r]||(eu[r]=new WeakMap);var o=eu[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(n),b=p!==null&&p!=="false",g=(so.get(m)||0)+1,y=(o.get(m)||0)+1;so.set(m,g),o.set(m,y),i.push(m),g===1&&b&&Jc.set(m,!0),y===1&&m.setAttribute(r,"true"),b||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),l.clear(),ph++,function(){i.forEach(function(f){var m=so.get(f)-1,p=o.get(f)-1;so.set(f,m),o.set(f,p),m||(Jc.has(f)||f.removeAttribute(n),Jc.delete(f)),p||f.removeAttribute(r)}),ph--,ph||(so=new WeakMap,so=new WeakMap,Jc=new WeakMap,eu={})}},of=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=kM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),EM(n,s,r,"aria-hidden")):function(){return null}},cn=function(){return cn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},cn.apply(this,arguments)};function ij(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function PM(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Nu="right-scroll-bar-position",Su="width-before-scroll-bar",TM="with-scroll-bars-hidden",RM="--removed-body-scroll-bar-size";function gh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OM(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var AM=typeof window<"u"?h.useLayoutEffect:h.useEffect,ky=new WeakMap;function MM(e,t){var r=OM(null,function(n){return e.forEach(function(s){return gh(s,n)})});return AM(function(){var n=ky.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||gh(l,null)}),o.forEach(function(l){s.has(l)||gh(l,i)})}ky.set(r,e)},[e]),r}function IM(e){return e}function DM(e,t){t===void 0&&(t=IM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function LM(e){e===void 0&&(e={});var t=DM(null);return t.options=cn({async:!0,ssr:!1},e),t}var lj=function(e){var t=e.sideCar,r=ij(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,cn({},r))};lj.isSideCarExport=!0;function $M(e,t){return e.useMedium(t),lj}var cj=LM(),vh=function(){},lf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:vh,onWheelCapture:vh,onTouchMoveCapture:vh}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,b=e.noIsolation,g=e.inert,y=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,v=e.gapMode,_=ij(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,j=MM([r,t]),S=cn(cn({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(N,{sideCar:cj,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:v}),i?h.cloneElement(h.Children.only(l),cn(cn({},S),{ref:j})):h.createElement(x,cn({},S,{className:c,ref:j}),l))});lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lf.classNames={fullWidth:Su,zeroRight:Nu};var FM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FM();return t&&e.setAttribute("nonce",t),e}function UM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zM())&&(UM(t,r),BM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},VM=function(){var e=qM();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uj=function(){var e=VM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},WM={left:0,top:0,right:0,gap:0},xh=function(e){return parseInt(e||"",10)||0},HM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[xh(r),xh(n),xh(s)]},KM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return WM;var t=HM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},GM=uj(),Bo="data-scroll-locked",QM=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(TM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Su,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Su," .").concat(Su,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bo,`] {
    `).concat(RM,": ").concat(l,`px;
  }
`)},Cy=function(){var e=parseInt(document.body.getAttribute(Bo)||"0",10);return isFinite(e)?e:0},YM=function(){h.useEffect(function(){return document.body.setAttribute(Bo,(Cy()+1).toString()),function(){var e=Cy()-1;e<=0?document.body.removeAttribute(Bo):document.body.setAttribute(Bo,e.toString())}},[])},ZM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;YM();var o=h.useMemo(function(){return KM(s)},[s]);return h.createElement(GM,{styles:QM(o,!t,s,r?"":"!important")})},Xm=!1;if(typeof window<"u")try{var tu=Object.defineProperty({},"passive",{get:function(){return Xm=!0,!0}});window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{Xm=!1}var ao=Xm?{passive:!1}:!1,XM=function(e){return e.tagName==="TEXTAREA"},dj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!XM(e)&&r[t]==="visible")},JM=function(e){return dj(e,"overflowY")},eI=function(e){return dj(e,"overflowX")},Ey=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=fj(e,n);if(s){var o=hj(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},rI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fj=function(e,t){return e==="v"?JM(t):eI(t)},hj=function(e,t){return e==="v"?tI(t):rI(t)},nI=function(e,t){return e==="h"&&t==="rtl"?-1:1},sI=function(e,t,r,n,s){var o=nI(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,m=0;do{if(!l)break;var p=hj(e,l),b=p[0],g=p[1],y=p[2],w=g-y-o*b;(b||w)&&fj(e,l)&&(f+=w,m+=b);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},ru=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Py=function(e){return[e.deltaX,e.deltaY]},Ty=function(e){return e&&"current"in e?e.current:e},aI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iI=0,oo=[];function lI(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(iI++)[0],o=h.useState(uj)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=PM([e.lockRef.current],(e.shards||[]).map(Ty),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=ru(g),x=r.current,v="deltaX"in g?g.deltaX:x[0]-w[0],_="deltaY"in g?g.deltaY:x[1]-w[1],N,j=g.target,S=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in g&&S==="h"&&j.type==="range")return!1;var k=Ey(S,j);if(!k)return!0;if(k?N=S:(N=S==="v"?"h":"v",k=Ey(S,j)),!k)return!1;if(!n.current&&"changedTouches"in g&&(v||_)&&(n.current=N),!N)return!0;var O=n.current||N;return sI(O,y,g,O==="h"?v:_)},[]),c=h.useCallback(function(g){var y=g;if(!(!oo.length||oo[oo.length-1]!==o)){var w="deltaY"in y?Py(y):ru(y),x=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&aI(N.delta,w)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var v=(i.current.shards||[]).map(Ty).filter(Boolean).filter(function(N){return N.contains(y.target)}),_=v.length>0?l(y,v[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=h.useCallback(function(g,y,w,x){var v={name:g,delta:y,target:w,should:x,shadowParent:cI(w)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=h.useCallback(function(g){r.current=ru(g),n.current=void 0},[]),f=h.useCallback(function(g){u(g.type,Py(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){u(g.type,ru(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return oo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ao),document.addEventListener("touchmove",c,ao),document.addEventListener("touchstart",d,ao),function(){oo=oo.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,ao),document.removeEventListener("touchmove",c,ao),document.removeEventListener("touchstart",d,ao)}},[]);var p=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:oI(s)}):null,p?h.createElement(ZM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uI=$M(cj,lI);var xc=h.forwardRef(function(e,t){return h.createElement(lf,cn({},e,{ref:t,sideCar:uI}))});xc.classNames=lf.classNames;var Jm=["Enter"," "],dI=["ArrowDown","PageUp","Home"],mj=["ArrowUp","PageDown","End"],fI=[...dI,...mj],hI={ltr:[...Jm,"ArrowRight"],rtl:[...Jm,"ArrowLeft"]},mI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yc="Menu",[Kl,pI,gI]=qd(yc),[Ya,pj]=sr(yc,[gI,Js,af]),cf=Js(),gj=af(),[vI,Za]=Ya(yc),[xI,wc]=Ya(yc),vj=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=cf(t),[c,u]=h.useState(null),d=h.useRef(!1),f=tt(o),m=pc(s);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(Mg,{...l,children:a.jsx(vI,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(xI,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:n})})})};vj.displayName=yc;var yI="MenuAnchor",Wg=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=cf(r);return a.jsx(mc,{...s,...n,ref:t})});Wg.displayName=yI;var Hg="MenuPortal",[wI,xj]=Ya(Hg,{forceMount:void 0}),yj=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Za(Hg,t);return a.jsx(wI,{scope:t,forceMount:r,children:a.jsx(Ct,{present:r||o.open,children:a.jsx(Si,{asChild:!0,container:s,children:n})})})};yj.displayName=Hg;var Cr="MenuContent",[bI,Kg]=Ya(Cr),wj=h.forwardRef((e,t)=>{const r=xj(Cr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Za(Cr,e.__scopeMenu),i=wc(Cr,e.__scopeMenu);return a.jsx(Kl.Provider,{scope:e.__scopeMenu,children:a.jsx(Ct,{present:n||o.open,children:a.jsx(Kl.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(_I,{...s,ref:t}):a.jsx(jI,{...s,ref:t})})})})}),_I=h.forwardRef((e,t)=>{const r=Za(Cr,e.__scopeMenu),n=h.useRef(null),s=Ne(t,n);return h.useEffect(()=>{const o=n.current;if(o)return of(o)},[]),a.jsx(Gg,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:G(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),jI=h.forwardRef((e,t)=>{const r=Za(Cr,e.__scopeMenu);return a.jsx(Gg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),NI=zs("MenuContent.ScrollLock"),Gg=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:b,...g}=e,y=Za(Cr,r),w=wc(Cr,r),x=cf(r),v=gj(r),_=pI(r),[N,j]=h.useState(null),S=h.useRef(null),k=Ne(t,S,y.onContentChange),O=h.useRef(0),E=h.useRef(""),T=h.useRef(0),D=h.useRef(null),U=h.useRef("right"),M=h.useRef(0),q=b?xc:h.Fragment,P=b?{as:NI,allowPinchZoom:!0}:void 0,z=A=>{var Q,we;const B=E.current+A,te=_().filter(J=>!J.disabled),Y=document.activeElement,ne=(Q=te.find(J=>J.ref.current===Y))==null?void 0:Q.textValue,re=te.map(J=>J.textValue),oe=DI(re,B,ne),pe=(we=te.find(J=>J.textValue===oe))==null?void 0:we.ref.current;(function J(L){E.current=L,window.clearTimeout(O.current),L!==""&&(O.current=window.setTimeout(()=>J(""),1e3))})(B),pe&&setTimeout(()=>pe.focus())};h.useEffect(()=>()=>window.clearTimeout(O.current),[]),sf();const I=h.useCallback(A=>{var te,Y;return U.current===((te=D.current)==null?void 0:te.side)&&$I(A,(Y=D.current)==null?void 0:Y.area)},[]);return a.jsx(bI,{scope:r,searchRef:E,onItemEnter:h.useCallback(A=>{I(A)&&A.preventDefault()},[I]),onItemLeave:h.useCallback(A=>{var B;I(A)||((B=S.current)==null||B.focus(),j(null))},[I]),onTriggerLeave:h.useCallback(A=>{I(A)&&A.preventDefault()},[I]),pointerGraceTimerRef:T,onPointerGraceIntentChange:h.useCallback(A=>{D.current=A},[]),children:a.jsx(q,{...P,children:a.jsx(gc,{asChild:!0,trapped:s,onMountAutoFocus:G(o,A=>{var B;A.preventDefault(),(B=S.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Ga,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:a.jsx(sj,{asChild:!0,...v,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:G(c,A=>{w.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Xd,{role:"menu","aria-orientation":"vertical","data-state":Dj(y.open),"data-radix-menu-content":"",dir:w.dir,...x,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:G(g.onKeyDown,A=>{const te=A.target.closest("[data-radix-menu-content]")===A.currentTarget,Y=A.ctrlKey||A.altKey||A.metaKey,ne=A.key.length===1;te&&(A.key==="Tab"&&A.preventDefault(),!Y&&ne&&z(A.key));const re=S.current;if(A.target!==re||!fI.includes(A.key))return;A.preventDefault();const pe=_().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);mj.includes(A.key)&&pe.reverse(),MI(pe)}),onBlur:G(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(O.current),E.current="")}),onPointerMove:G(e.onPointerMove,Gl(A=>{const B=A.target,te=M.current!==A.clientX;if(A.currentTarget.contains(B)&&te){const Y=A.clientX>M.current?"right":"left";U.current=Y,M.current=A.clientX}}))})})})})})})});wj.displayName=Cr;var SI="MenuGroup",Qg=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(de.div,{role:"group",...n,ref:t})});Qg.displayName=SI;var kI="MenuLabel",bj=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(de.div,{...n,ref:t})});bj.displayName=kI;var cd="MenuItem",Ry="menu.itemSelect",uf=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=h.useRef(null),i=wc(cd,e.__scopeMenu),l=Kg(cd,e.__scopeMenu),c=Ne(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const m=new CustomEvent(Ry,{bubbles:!0,cancelable:!0});f.addEventListener(Ry,p=>n==null?void 0:n(p),{once:!0}),vg(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(_j,{...s,ref:c,disabled:r,onClick:G(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:G(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:G(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||Jm.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});uf.displayName=cd;var _j=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=Kg(cd,r),l=gj(r),c=h.useRef(null),u=Ne(t,c),[d,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const b=c.current;b&&p((b.textContent??"").trim())},[o.children]),a.jsx(Kl.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:a.jsx(aj,{asChild:!0,...l,focusable:!n,children:a.jsx(de.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:G(e.onPointerMove,Gl(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:G(e.onPointerLeave,Gl(b=>i.onItemLeave(b))),onFocus:G(e.onFocus,()=>f(!0)),onBlur:G(e.onBlur,()=>f(!1))})})})}),CI="MenuCheckboxItem",jj=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(Ej,{scope:e.__scopeMenu,checked:r,children:a.jsx(uf,{role:"menuitemcheckbox","aria-checked":ud(r)?"mixed":r,...s,ref:t,"data-state":Zg(r),onSelect:G(s.onSelect,()=>n==null?void 0:n(ud(r)?!0:!r),{checkForDefaultPrevented:!1})})})});jj.displayName=CI;var Nj="MenuRadioGroup",[EI,PI]=Ya(Nj,{value:void 0,onValueChange:()=>{}}),Sj=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=tt(n);return a.jsx(EI,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(Qg,{...s,ref:t})})});Sj.displayName=Nj;var kj="MenuRadioItem",Cj=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=PI(kj,e.__scopeMenu),o=r===s.value;return a.jsx(Ej,{scope:e.__scopeMenu,checked:o,children:a.jsx(uf,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Zg(o),onSelect:G(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});Cj.displayName=kj;var Yg="MenuItemIndicator",[Ej,TI]=Ya(Yg,{checked:!1}),Pj=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=TI(Yg,r);return a.jsx(Ct,{present:n||ud(o.checked)||o.checked===!0,children:a.jsx(de.span,{...s,ref:t,"data-state":Zg(o.checked)})})});Pj.displayName=Yg;var RI="MenuSeparator",Tj=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(de.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Tj.displayName=RI;var OI="MenuArrow",Rj=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=cf(r);return a.jsx(Jd,{...s,...n,ref:t})});Rj.displayName=OI;var AI="MenuSub",[nz,Oj]=Ya(AI),tl="MenuSubTrigger",Aj=h.forwardRef((e,t)=>{const r=Za(tl,e.__scopeMenu),n=wc(tl,e.__scopeMenu),s=Oj(tl,e.__scopeMenu),o=Kg(tl,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Wg,{asChild:!0,...u,children:a.jsx(_j,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Dj(r.open),...e,ref:Bd(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:G(e.onPointerMove,Gl(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:G(e.onPointerLeave,Gl(f=>{var p,b;d();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(b=r.content)==null?void 0:b.dataset.side,y=g==="right",w=y?-5:5,x=m[y?"left":"right"],v=m[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x,y:m.top},{x:v,y:m.top},{x:v,y:m.bottom},{x,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:G(e.onKeyDown,f=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||hI[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});Aj.displayName=tl;var Mj="MenuSubContent",Ij=h.forwardRef((e,t)=>{const r=xj(Cr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Za(Cr,e.__scopeMenu),i=wc(Cr,e.__scopeMenu),l=Oj(Mj,e.__scopeMenu),c=h.useRef(null),u=Ne(t,c);return a.jsx(Kl.Provider,{scope:e.__scopeMenu,children:a.jsx(Ct,{present:n||o.open,children:a.jsx(Kl.Slot,{scope:e.__scopeMenu,children:a.jsx(Gg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:G(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:G(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:G(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=mI[i.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});Ij.displayName=Mj;function Dj(e){return e?"open":"closed"}function ud(e){return e==="indeterminate"}function Zg(e){return ud(e)?"indeterminate":e?"checked":"unchecked"}function MI(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function II(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function DI(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=II(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function LI(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function $I(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return LI(r,t)}function Gl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var FI=vj,zI=Wg,UI=yj,BI=wj,qI=Qg,VI=bj,WI=uf,HI=jj,KI=Sj,GI=Cj,QI=Pj,YI=Tj,ZI=Rj,XI=Aj,JI=Ij,df="DropdownMenu",[eD]=sr(df,[pj]),Wt=pj(),[tD,Lj]=eD(df),$j=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Wt(t),u=h.useRef(null),[d,f]=Us({prop:s,defaultProp:o??!1,onChange:i,caller:df});return a.jsx(tD,{scope:t,triggerId:Kr(),triggerRef:u,contentId:Kr(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(FI,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};$j.displayName=df;var Fj="DropdownMenuTrigger",zj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=Lj(Fj,r),i=Wt(r);return a.jsx(zI,{asChild:!0,...i,children:a.jsx(de.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Bd(t,o.triggerRef),onPointerDown:G(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:G(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});zj.displayName=Fj;var rD="DropdownMenuPortal",Uj=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Wt(t);return a.jsx(UI,{...n,...r})};Uj.displayName=rD;var Bj="DropdownMenuContent",qj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Lj(Bj,r),o=Wt(r),i=h.useRef(!1);return a.jsx(BI,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:G(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:G(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qj.displayName=Bj;var nD="DropdownMenuGroup",sD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(qI,{...s,...n,ref:t})});sD.displayName=nD;var aD="DropdownMenuLabel",Vj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(VI,{...s,...n,ref:t})});Vj.displayName=aD;var oD="DropdownMenuItem",Wj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(WI,{...s,...n,ref:t})});Wj.displayName=oD;var iD="DropdownMenuCheckboxItem",Hj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(HI,{...s,...n,ref:t})});Hj.displayName=iD;var lD="DropdownMenuRadioGroup",cD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(KI,{...s,...n,ref:t})});cD.displayName=lD;var uD="DropdownMenuRadioItem",Kj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(GI,{...s,...n,ref:t})});Kj.displayName=uD;var dD="DropdownMenuItemIndicator",Gj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(QI,{...s,...n,ref:t})});Gj.displayName=dD;var fD="DropdownMenuSeparator",Qj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(YI,{...s,...n,ref:t})});Qj.displayName=fD;var hD="DropdownMenuArrow",mD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(ZI,{...s,...n,ref:t})});mD.displayName=hD;var pD="DropdownMenuSubTrigger",Yj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(XI,{...s,...n,ref:t})});Yj.displayName=pD;var gD="DropdownMenuSubContent",Zj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return a.jsx(JI,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zj.displayName=gD;var vD=$j,xD=zj,yD=Uj,Xj=qj,Jj=Vj,eN=Wj,tN=Hj,rN=Kj,nN=Gj,sN=Qj,aN=Yj,oN=Zj;const iN=vD,lN=xD,wD=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(aN,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(_g,{className:"ml-auto h-4 w-4"})]}));wD.displayName=aN.displayName;const bD=h.forwardRef(({className:e,...t},r)=>a.jsx(oN,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));bD.displayName=oN.displayName;const Xg=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(yD,{children:a.jsx(Xj,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Xg.displayName=Xj.displayName;const Po=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(eN,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Po.displayName=eN.displayName;const _D=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(tN,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nN,{children:a.jsx(bg,{className:"h-4 w-4"})})}),t]}));_D.displayName=tN.displayName;const jD=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(rN,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nN,{children:a.jsx(P1,{className:"h-2 w-2 fill-current"})})}),t]}));jD.displayName=rN.displayName;const ND=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Jj,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));ND.displayName=Jj.displayName;const cN=h.forwardRef(({className:e,...t},r)=>a.jsx(sN,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));cN.displayName=sN.displayName;const yh={light:I1,dark:cT,christmas:xT,"new-year":Mn},SD={light:"Tema Claro",dark:"Tema Escuro",christmas:"Tema de Natal","new-year":"Tema de Ano Novo"},bc=()=>{const{theme:e,setTheme:t}=Z_(),r=yh[e];return a.jsxs(iN,{children:[a.jsx(lN,{asChild:!0,children:a.jsxs($,{variant:"outline",size:"icon",className:"relative",children:[a.jsx(r,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Alterar tema"})]})}),a.jsx(Xg,{align:"end",className:"w-48",children:Object.keys(yh).map(n=>{const s=yh[n],o=e===n;return a.jsxs(Po,{onClick:()=>t(n),className:`flex items-center gap-2 cursor-pointer ${o?"bg-primary/10 text-primary":""}`,children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{children:SD[n]}),o&&a.jsx("div",{className:"ml-auto w-2 h-2 bg-primary rounded-full"})]},n)})})]})},Oi="/assets/Orkadia-logo-D2C_jCoE.png",kD=()=>{const e=Et(),t=[{icon:F1,title:"Perfil",description:"Seu perfil  sua casa virtual. Personalize e receba visitantes!"},{icon:vt,title:"Clubes",description:"Junte-se a comunidades com seus interesses e hobbies."},{icon:qs,title:"Amigos",description:"Conecte-se com pessoas de verdade e construa amizades duradouras."}];return a.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-20 w-1 h-1 bg-white/40 rounded-full animate-particle-float",style:{animationDelay:"0s"}}),a.jsx("div",{className:"absolute top-32 right-32 w-1 h-1 bg-white/30 rounded-full animate-particle-float",style:{animationDelay:"3s"}}),a.jsx("div",{className:"absolute bottom-32 right-20 w-1 h-1 bg-white/35 rounded-full animate-particle-float",style:{animationDelay:"6s"}}),a.jsx("div",{className:"absolute bottom-48 left-2/3 w-1 h-1 bg-white/25 rounded-full animate-particle-float",style:{animationDelay:"9s"}}),a.jsx("div",{className:"fixed top-4 right-4 z-50",children:a.jsx(bc,{})}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 pt-16 pb-12",children:a.jsxs("div",{className:"text-center space-y-8 animate-fade-in",children:[a.jsx("div",{className:"inline-block",children:a.jsx("img",{src:Oi,alt:"Orkadia Logo",className:"mx-auto mb-6 w-72 h-auto drop-shadow-lg"})}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-3xl p-8 mx-auto max-w-4xl border border-white/20",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white max-w-2xl mx-auto leading-relaxed mb-4",children:"Onde as conexes voltam a ser humanas"}),a.jsx("p",{className:"text-lg text-gray-200 max-w-3xl mx-auto leading-relaxed",children:"Uma rede social inspirada no clssico Orkut. Construa sua casa virtual, participe de clubes e conecte-se com pessoas de verdade!"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-6",children:[a.jsx($,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 text-lg px-10 py-3 rounded-full font-semibold",onClick:()=>e("/auth"),children:"Entrar na Cidade"}),a.jsx($,{size:"lg",className:"bg-white/20 backdrop-blur-md border-2 border-white/50 text-white hover:bg-white hover:text-gray-800 text-lg px-10 py-3 rounded-full transition-all duration-300 font-semibold shadow-lg hover:shadow-xl",onClick:()=>e("/auth?mode=signup"),children:"Criar Conta"})]})]})}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16",children:[a.jsx("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-6 mx-auto max-w-md mb-16 border border-white/20",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-white",children:"Explore a Cidade"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:t.map((r,n)=>a.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-105 animate-slide-up border border-white/60 hover:bg-white/95",style:{animationDelay:`${n*.2}s`},children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-400 to-purple-500 rounded-2xl shadow-lg",children:a.jsx(r.icon,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:r.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description})]})},n))})]}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 py-16",children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-3xl p-12 text-center text-white shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/50 via-purple-600/50 to-pink-600/50"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Pronto para comear sua jornada?"}),a.jsx("p",{className:"text-xl mb-10 opacity-95 max-w-2xl mx-auto leading-relaxed",children:"Junte-se a milhares de pessoas que j fazem parte da Orkadia"}),a.jsx($,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-50 text-xl px-12 py-4 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>e("/auth?mode=signup"),children:"Criar Minha Casa Virtual"})]})]})}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 pb-8",children:a.jsxs("div",{className:"flex justify-center space-x-6",children:[a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx(Da,{className:"w-6 h-6 text-blue-200"})}),a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx(On,{className:"w-6 h-6 text-purple-200"})}),a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx($a,{className:"w-6 h-6 text-pink-200"})}),a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx($l,{className:"w-6 h-6 text-cyan-200"})}),a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx(Ll,{className:"w-6 h-6 text-indigo-200"})})]})})]})},yt=h.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));yt.displayName="Input";const H=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));H.displayName="Card";const Ye=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));Ye.displayName="CardHeader";const rt=h.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));rt.displayName="CardTitle";const Ss=h.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));Ss.displayName="CardDescription";const $e=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));$e.displayName="CardContent";const CD=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));CD.displayName="CardFooter";const ED="modulepreload",PD=function(e){return"/"+e},Oy={},_c=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=PD(c),c in Oy)return;Oy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ED,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},TD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_c(async()=>{const{default:n}=await Promise.resolve().then(()=>Ai);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Jg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ay extends Jg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class My extends Jg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Iy extends Jg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ep;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ep||(ep={}));var RD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class OD{constructor(t,{headers:r={},customFetch:n,region:s=ep.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=TD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return RD(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=i):typeof i=="string"?(c["Content-Type"]="text/plain",f=i):typeof FormData<"u"&&i instanceof FormData?f=i:(c["Content-Type"]="application/json",f=JSON.stringify(i)));const m=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new Ay(y)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new My(m);if(!m.ok)throw new Iy(m);let b=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return b==="application/json"?g=yield m.json():b==="application/octet-stream"?g=yield m.blob():b==="text/event-stream"?g=m:b==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Ay(s)}:{data:null,error:s,response:s instanceof Iy||s instanceof My?s.context:void 0}}})}}var Xt={},ev={},ff={},jc={},hf={},mf={},AD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fi=AD();const MD=fi.fetch,uN=fi.fetch.bind(fi),dN=fi.Headers,ID=fi.Request,DD=fi.Response,Ai=Object.freeze(Object.defineProperty({__proto__:null,Headers:dN,Request:ID,Response:DD,default:uN,fetch:MD},Symbol.toStringTag,{value:"Module"})),LD=jC(Ai);var pf={};Object.defineProperty(pf,"__esModule",{value:!0});let $D=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};pf.default=$D;var fN=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mf,"__esModule",{value:!0});const FD=fN(LD),zD=fN(pf);let UD=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=FD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,u;let d=null,f=null,m=null,p=o.status,b=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),w=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&w&&w.length>1&&(m=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,b="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await o.text();try{d=JSON.parse(y),Array.isArray(d)&&o.status===404&&(f=[],d=null,p=200,b="OK")}catch{o.status===404&&y===""?(p=204,b="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,b="OK"),d&&this.shouldThrowOnError)throw new zD.default(d)}return{error:d,data:f,count:m,status:p,statusText:b}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};mf.default=UD;var BD=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hf,"__esModule",{value:!0});const qD=BD(mf);let VD=class extends qD.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};hf.default=VD;var WD=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jc,"__esModule",{value:!0});const HD=WD(hf);let KD=class extends HD.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};jc.default=KD;var GD=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ff,"__esModule",{value:!0});const Ki=GD(jc);let QD=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new Ki.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const o="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ki.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ki.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Ki.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ki.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ff.default=QD;var hN=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ev,"__esModule",{value:!0});const YD=hN(ff),ZD=hN(jc);let XD=class mN{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new YD.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=r);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new ZD.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};ev.default=XD;var Mi=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.PostgrestError=Xt.PostgrestBuilder=Xt.PostgrestTransformBuilder=Xt.PostgrestFilterBuilder=Xt.PostgrestQueryBuilder=Xt.PostgrestClient=void 0;const pN=Mi(ev);Xt.PostgrestClient=pN.default;const gN=Mi(ff);Xt.PostgrestQueryBuilder=gN.default;const vN=Mi(jc);Xt.PostgrestFilterBuilder=vN.default;const xN=Mi(hf);Xt.PostgrestTransformBuilder=xN.default;const yN=Mi(mf);Xt.PostgrestBuilder=yN.default;const wN=Mi(pf);Xt.PostgrestError=wN.default;var JD=Xt.default={PostgrestClient:pN.default,PostgrestQueryBuilder:gN.default,PostgrestFilterBuilder:vN.default,PostgrestTransformBuilder:xN.default,PostgrestBuilder:yN.default,PostgrestError:wN.default};const{PostgrestClient:e5,PostgrestQueryBuilder:cz,PostgrestFilterBuilder:uz,PostgrestTransformBuilder:dz,PostgrestBuilder:fz,PostgrestError:hz}=JD;class t5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const r5="2.15.5",n5=`realtime-js/${r5}`,s5="1.0.0",tp=1e4,a5=1e3,o5=100;var vl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vl||(vl={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var qr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qr||(qr={}));var rp;(function(e){e.websocket="websocket"})(rp||(rp={}));var ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ga||(ga={}));class i5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class bN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const Dy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=l5(i,e,t,s),o),{})},l5=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?_N(o,i):np(i)},_N=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return f5(t,r)}switch(e){case ze.bool:return c5(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return u5(t);case ze.json:case ze.jsonb:return d5(t);case ze.timestamp:return h5(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return np(t);default:return np(t)}},np=e=>e,c5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},u5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},d5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},f5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>_N(t,l))}return e},h5=e=>typeof e=="string"?e.replace(" ","T"):e,jN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class wh{constructor(t,r,n={},s=tp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ly;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ly||(Ly={}));class xl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=xl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xl.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const m=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),b=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>m.indexOf(y.presence_ref)<0);b.length>0&&(l[u]=b),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $y;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($y||($y={}));var yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yl||(yl={}));var kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class tv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wh(this,qr.join,this.params,this.timeout),this.rejoinTimer=new bN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new xl(this),this.broadcastEndpointURL=jN(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[yl.PRESENCE]&&this.bindings[yl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(kn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t==null||t(kn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,w=[];for(let x=0;x<y;x++){const v=g[x],{filter:{event:_,schema:N,table:j,filter:S}}=v,k=p&&p[x];if(k&&k.event===_&&k.schema===N&&k.table===j&&k.filter===S)w.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=ft.errored,t==null||t(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(kn.SUBSCRIBED);return}}).receive("error",p=>{this.state=ft.errored,t==null||t(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ft.joined&&t===yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new wh(this,qr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wh(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>o5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=qr;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,g,y;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var b,g,y,w,x,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,N=(b=p.filter)===null||b===void 0?void 0:b.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(x=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:g,table:y,commit_timestamp:w,type:x,errors:v}=b;m=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(b))}p.callback(m,n)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&tv.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qr.close,{},t)}_onError(t){this._on(qr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Dy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Dy(t.columns,t.old_record)),r}}const bh=()=>{},nu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},m5=[1e3,2e3,5e3,1e4],p5=1e4,g5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tp,this.transport=null,this.heartbeatIntervalMs=nu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bh,this.ref=0,this.reconnectTimer=null,this.logger=bh,this.conn=null,this.sendBuffer=[],this.serializer=new i5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>_c(async()=>{const{default:l}=await Promise.resolve().then(()=>Ai);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${rp.websocket}`,this.httpEndpoint=jN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:s5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vl.connecting:return ga.Connecting;case vl.open:return ga.Open;case vl.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new tv(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(a5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},nu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([g5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:n5};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(qr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:tp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:nu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:bh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>m5[f-1]||p5,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class rv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class x5 extends rv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sp extends rv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var y5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const NN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_c(async()=>{const{default:n}=await Promise.resolve().then(()=>Ai);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},w5=()=>y5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _c(()=>Promise.resolve().then(()=>Ai),void 0)).Response:Response}),ap=e=>{if(Array.isArray(e))return e.map(r=>ap(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=ap(n)}),t},b5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Xa=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _h=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_5=(e,t,r)=>Xa(void 0,void 0,void 0,function*(){const n=yield w5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new x5(_h(s),o,i))}).catch(s=>{t(new sp(_h(s),s))}):t(new sp(_h(e),e))}),j5=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(b5(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Nc(e,t,r,n,s,o){return Xa(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,j5(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>_5(c,l,n))})})}function dd(e,t,r,n){return Xa(this,void 0,void 0,function*(){return Nc(e,"GET",t,r,n)})}function rn(e,t,r,n,s){return Xa(this,void 0,void 0,function*(){return Nc(e,"POST",t,n,s,r)})}function op(e,t,r,n,s){return Xa(this,void 0,void 0,function*(){return Nc(e,"PUT",t,n,s,r)})}function N5(e,t,r,n){return Xa(this,void 0,void 0,function*(){return Nc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function SN(e,t,r,n,s){return Xa(this,void 0,void 0,function*(){return Nc(e,"DELETE",t,n,s,r)})}var S5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class k5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return S5(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ot(t))return{data:null,error:t};throw t}})}}var C5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class E5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new k5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return C5(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ot(t))return{data:null,error:t};throw t}})}}var Kt=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const P5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T5{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=NN(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Kt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Fy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?op:rn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Kt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Fy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield op(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ot(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield rn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new rv("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}update(t,r,n){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Kt(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Kt(this,void 0,void 0,function*(){try{return{data:{path:(yield rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Kt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield rn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Kt(this,void 0,void 0,function*(){try{const s=yield rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>dd(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new E5(c,this.shouldThrowOnError)}info(t){return Kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield dd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ap(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}exists(t){return Kt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield N5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n)&&n instanceof sp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Kt(this,void 0,void 0,function*(){try{return{data:yield SN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}list(t,r,n){return Kt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},P5),r),{prefix:t||""});return{data:yield rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}listV2(t,r){return Kt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield rn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const R5="2.12.2",O5={"X-Client-Info":`storage-js/${R5}`};var io=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class A5{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},O5),r),this.fetch=NN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return io(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ot(t))return{data:null,error:t};throw t}})}getBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return io(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return io(this,void 0,void 0,function*(){try{return{data:yield op(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}emptyBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield SN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}}class M5 extends A5{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new T5(this.url,this.headers,t,this.fetch)}}const I5="2.58.0";let rl="";typeof Deno<"u"?rl="deno":typeof document<"u"?rl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rl="react-native":rl="node";const D5={"X-Client-Info":`supabase-js-${rl}/${I5}`},L5={headers:D5},$5={schema:"public"},F5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z5={};var U5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const B5=e=>{let t;return e?t=e:typeof fetch>"u"?t=uN:t=fetch,(...r)=>t(...r)},q5=()=>typeof Headers>"u"?dN:Headers,V5=(e,t,r)=>{const n=B5(r),s=q5();return(o,i)=>U5(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var W5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function H5(e){return e.endsWith("/")?e:e+"/"}function K5(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>W5(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function G5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(H5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kN="2.72.0",mo=30*1e3,ip=3,jh=ip*mo,Q5="http://localhost:9999",Y5="supabase.auth.token",Z5={"X-Client-Info":`gotrue-js/${kN}`},lp="X-Supabase-Api-Version",CN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J5=10*60*1e3;let nv=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class e3 extends nv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function t3(e){return ye(e)&&e.name==="AuthApiError"}class EN extends nv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ra extends nv{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ss extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function r3(e){return ye(e)&&e.name==="AuthSessionMissingError"}class Gi extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class su extends ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class au extends ra{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n3(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class zy extends ra{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cp extends ra{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nh(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class Uy extends ra{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class up extends ra{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),By=` 	
\r=`.split(""),s3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<By.length;t+=1)e[By[t].charCodeAt(0)]=-2;for(let t=0;t<fd.length;t+=1)e[fd[t].charCodeAt(0)]=t;return e})();function qy(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fd[n]),t.queuedBits-=6}}function PN(e,t,r){const n=s3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{i3(i,n,r)};for(let i=0;i<e.length;i+=1)PN(e.charCodeAt(i),s,o);return t.join("")}function a3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function o3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}a3(n,t)}}function i3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function l3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)PN(e.charCodeAt(s),r,n);return new Uint8Array(t)}function c3(e){const t=[];return o3(e,r=>t.push(r)),new Uint8Array(t)}function u3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>qy(s,r,n)),qy(null,r,n),t.join("")}function d3(e){return Math.round(Date.now()/1e3)+e}function f3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wr=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},TN=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function h3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const RN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_c(async()=>{const{default:n}=await Promise.resolve().then(()=>Ai);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},m3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",po=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ua=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},es=async(e,t)=>{await e.removeItem(t)};class gf{constructor(){this.promise=new gf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gf.promiseConstructor=Promise;function Sh(e){const t=e.split(".");if(t.length!==3)throw new up("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!X5.test(t[n]))throw new up("JWT not in base64url format");return{header:JSON.parse(Vy(t[0])),payload:JSON.parse(Vy(t[1])),signature:l3(t[2]),raw:{header:t[0],payload:t[1]}}}async function p3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function g3(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function v3(e){return("0"+e.toString(16)).substr(-2)}function x3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,v3).join("")}async function y3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function w3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await y3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lo(e,t,r=!1){const n=x3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await po(e,`${t}-code-verifier`,s);const o=await w3(n);return[o,n===o?"plain":"s256"]}const b3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _3(e){const t=e.headers.get(lp);if(!t||!t.match(b3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function j3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function N3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const S3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function co(e){if(!S3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wy(e){return JSON.parse(JSON.stringify(e))}var k3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),C3=[502,503,504];async function Hy(e){var t;if(!m3(e))throw new cp(ha(e),0);if(C3.includes(e.status))throw new cp(ha(e),e.status);let r;try{r=await e.json()}catch(o){throw new EN(ha(o),o)}let n;const s=_3(e);if(s&&s.getTime()>=CN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Uy(ha(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ss}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Uy(ha(r),e.status,r.weak_password.reasons);throw new e3(ha(r),e.status||500,n)}const E3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[lp]||(o[lp]=CN["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await P3(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function P3(e,t,r,n,s,o){const i=E3(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new cp(ha(c),0)}if(l.ok||await Hy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Hy(c)}}function en(e){var t;let r=null;A3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=d3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ky(e){const t=en(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function T3(e){return{data:e,error:null}}function R3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=k3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function O3(e){return e}function A3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ch=["global","local","others"];var M3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class I3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=RN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ch[0]){if(Ch.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ch.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ds})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=M3(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:R3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ds})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:O3});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ye(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){co(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ds})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){co(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ds})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){co(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ds})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){co(t.userId);try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){co(t.userId),co(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}function Gy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function D3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const uo={debug:!!(globalThis&&TN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ON extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class L3 extends ON{}async function $3(e,t,r){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new L3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function AN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function F3(e){return parseInt(e,16)}function z3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function U3(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=AN(e.address),b=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",y=`${b} wants you to sign in with your Ethereum account:
${p}

${g}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);x+=`
- ${v}`}w+=x}return`${y}
${w}`}D3();const B3={url:Q5,storageKey:Y5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qy(e,t,r){return await r()}const fo={};class Ql{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ql.nextInstanceID,Ql.nextInstanceID+=1,this.instanceID>0&&wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},B3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new I3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=RN(s.fetch),this.lock=s.lock||Qy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$3:this.lock=Qy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:TN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Gy(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=fo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=fo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=h3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),wr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),n3(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?{error:r}:{error:new EN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:en}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await lo(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},xform:en})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:en})}else throw new su("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ky})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ky})}else throw new su("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,l,c,u,d,f,m;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:g,wallet:y,statement:w,options:x}=t;let v;if(wr())if(typeof y=="object")v=y;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")v=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=y}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),N=await v.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=AN(N[0]);let S=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const O=await v.request({method:"eth_chainId"});S=F3(O)}const k={domain:_.host,address:j,statement:w,uri:_.href,version:"1",chainId:S,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=U3(k),b=await v.request({method:"personal_sign",params:[z3(p),j]})}try{const{data:g,error:y}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:en});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Gi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(ye(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,s,o,i,l,c,u,d,f,m,p;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:y,wallet:w,statement:x,options:v}=t;let _;if(wr())if(typeof w=="object")_=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const N=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:y,error:w}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:u3(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:en});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Gi}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(ye(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await ua(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:en});if(await es(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Gi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ye(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:en}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Gi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await lo(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new su("You must provide either an email or phone number.")}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:en});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await lo(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:T3})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ss;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new su("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ua(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=kh()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ds}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ss}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ds})})}catch(r){if(ye(r))return r3(r)&&(await this._removeSession(),await es(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ss;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await lo(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:ds});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ss;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Sh(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ye(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ss;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!wr())throw new au("No browser detected.");if(t.error||t.error_description||t.error_code)throw new au(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new au("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zy("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new au("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=m-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:g,error:y}=await this._getUser(o);if(y)throw y;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(ye(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ua(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(t3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await es(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=f3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await lo(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return wr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ye(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await g3(async s=>(s>0&&await p3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:en})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Nh(o)&&Date.now()+i-n<mo})}catch(n){if(this._debug(r,"error",n),ye(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ua(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await po(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:kh()}else if(s&&!s.user&&!s.user){const i=await ua(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await es(this.storage,this.storageKey+"-user"),await po(this.storage,this.storageKey,s)):s.user=kh()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jh;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${jh}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Nh(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ss;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gf;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ss;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ye(o)){const i={session:null,error:o};return Nh(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await po(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Wy(s);await po(this.storage,this.storageKey,o)}else{const s=Wy(r);await po(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await es(this.storage,this.storageKey),await es(this.storage,this.storageKey+"-code-verifier"),await es(this.storage,this.storageKey+"-user"),this.userStorage&&await es(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mo}ms, refresh threshold is ${ip} ticks`),s<=ip&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ON)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await lo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Sh(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+J5>s)return n;const{data:o,error:i}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Sh(n);r!=null&&r.allowExpired||j3(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=N3(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,c3(`${l}.${c}`)))throw new up("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}Ql.nextInstanceID=0;const q3=Ql;class V3 extends q3{constructor(t){super(t)}}var W3=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class H3{constructor(t,r,n){var s,o,i;this.supabaseUrl=t,this.supabaseKey=r;const l=G5(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:$5,realtime:z5,auth:Object.assign(Object.assign({},F5),{storageKey:c}),global:L5},d=K5(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=V5(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new e5(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new M5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new OD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return W3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V3({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new v5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const K3=(e,t,r)=>new H3(e,t,r);function G3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}G3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Q3="https://fwwqduljnrsbsidxejqa.supabase.co",Y3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ3d3FkdWxqbnJzYnNpZHhlanFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NzEzMjUsImV4cCI6MjA3NzE0NzMyNX0.CA1GhsWBXII9BeNbt_8fyI8rPmh7pejl5XT8KD7zxyA",R=K3(Q3,Y3,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}}),It=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(null),[s,o]=h.useState(!0),i=Et();return h.useEffect(()=>{const{data:{subscription:f}}=R.auth.onAuthStateChange((m,p)=>{n(p),t((p==null?void 0:p.user)??null),o(!1)});return R.auth.getSession().then(({data:{session:m}})=>{n(m),t((m==null?void 0:m.user)??null),o(!1)}),()=>f.unsubscribe()},[]),{user:e,session:r,loading:s,signUp:async(f,m,p,b)=>{const g=`${window.location.origin}/`,{error:y}=await R.auth.signUp({email:f,password:m,options:{emailRedirectTo:g,data:{username:p,display_name:b}}});return{error:y}},signIn:async(f,m)=>{const{error:p}=await R.auth.signInWithPassword({email:f,password:m});return p||i("/dashboard"),{error:p}},signInWithGoogle:async()=>{const{error:f}=await R.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});return{error:f}},signOut:async()=>{await R.auth.signOut(),i("/")}}};var Oe;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of o)i[l]=s[l];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Oe||(Oe={}));var Yy;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Yy||(Yy={}));const ce=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=e=>{switch(typeof e){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(e)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(e)?ce.array:e===null?ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ce.promise:typeof Map<"u"&&e instanceof Map?ce.map:typeof Set<"u"&&e instanceof Set?ce.set:typeof Date<"u"&&e instanceof Date?ce.date:ce.object;default:return ce.unknown}},K=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Zr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Zr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Zr.create=e=>new Zr(e);const dp=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===ce.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Oe.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${Oe.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Oe.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${Oe.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Oe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,Oe.assertNever(e)}return{message:r}};let Z3=dp;function X3(){return Z3}const J3=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...s,path:o,message:l}};function ae(e,t){const r=X3(),n=J3({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===dp?void 0:dp].filter(s=>!!s)});e.common.issues.push(n)}class hr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ge;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return hr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return ge;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const ge=Object.freeze({status:"aborted"}),nl=e=>({status:"dirty",value:e}),Rr=e=>({status:"valid",value:e}),Zy=e=>e.status==="aborted",Xy=e=>e.status==="dirty",hi=e=>e.status==="valid",hd=e=>typeof Promise<"u"&&e instanceof Promise;var ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ue||(ue={}));class Hs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Jy=(e,t)=>{if(hi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zr(e.common.issues);return this._error=r,this._error}}};function Ce(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Re{get description(){return this._def.description}_getType(t){return ls(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hr,ctx:{common:t.parent.common,data:t.data,parsedType:ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(hd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Jy(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:r});return hi(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(s=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(o=>hi(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(hd(s)?s:Promise.resolve(s));return Jy(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=t(s),l=()=>o.addIssue({code:K.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new pi({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ls.create(this,this._def)}nullable(){return gi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vn.create(this)}promise(){return vd.create(this,this._def)}or(t){return pd.create([this,t],this._def)}and(t){return gd.create(this,t,this._def)}transform(t){return new pi({...Ce(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new hp({...Ce(this._def),innerType:this,defaultValue:r,typeName:ve.ZodDefault})}brand(){return new _L({typeName:ve.ZodBranded,type:this,...Ce(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new mp({...Ce(this._def),innerType:this,catchValue:r,typeName:ve.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return sv.create(this,t)}readonly(){return pp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eL=/^c[^\s-]{8,}$/i,tL=/^[0-9a-z]+$/,rL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sL=/^[a-z0-9_-]{21}$/i,aL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Eh;const cL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pL=new RegExp(`^${MN}$`);function IN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function gL(e){return new RegExp(`^${IN(e)}$`)}function vL(e){let t=`${MN}T${IN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function xL(e,t){return!!((t==="v4"||!t)&&cL.test(e)||(t==="v6"||!t)&&dL.test(e))}function yL(e,t){if(!aL.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function wL(e,t){return!!((t==="v4"||!t)&&uL.test(e)||(t==="v6"||!t)&&fL.test(e))}class ks extends Re{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const o=this._getOrReturnCtx(t);return ae(o,{code:K.invalid_type,expected:ce.string,received:o.parsedType}),ge}const n=new hr;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,l=t.data.length<o.value;(i||l)&&(s=this._getOrReturnCtx(t,s),i?ae(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&ae(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")iL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"email",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Eh||(Eh=new RegExp(lL,"u")),Eh.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"emoji",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")nL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"uuid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")sL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"nanoid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")eL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cuid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")tL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cuid2",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")rL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"ulid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ae(s,{validation:"url",code:K.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"regex",code:K.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?vL(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?pL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?gL(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?oL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"duration",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?xL(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"ip",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?yL(t.data,o.alg)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"jwt",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?wL(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cidr",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?hL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"base64",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?mL.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"base64url",code:K.invalid_string,message:o.message}),n.dirty()):Oe.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:K.invalid_string,...ue.errToObj(n)})}_addCheck(t){return new ks({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ue.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ue.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ue.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ue.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ue.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ue.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ue.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ue.errToObj(r)})}nonempty(t){return this.min(1,ue.errToObj(t))}trim(){return new ks({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ks({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ks({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ks.create=e=>new ks({checks:[],typeName:ve.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ce(e)});function bL(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return o%i/10**s}class Yl extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const o=this._getOrReturnCtx(t);return ae(o,{code:K.invalid_type,expected:ce.number,received:o.parsedType}),ge}let n;const s=new hr;for(const o of this._def.checks)o.kind==="int"?Oe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ae(n,{code:K.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?bL(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_finite,message:o.message}),s.dirty()):Oe.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ue.toString(r))}setLimit(t,r,n,s){return new Yl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ue.toString(s)}]})}_addCheck(t){return new Yl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ue.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Oe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Yl.create=e=>new Yl({checks:[],typeName:ve.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ce(e)});class Zl extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ce.bigint)return this._getInvalidInput(t);let n;const s=new hr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Oe.assertNever(o);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ae(r,{code:K.invalid_type,expected:ce.bigint,received:r.parsedType}),ge}gte(t,r){return this.setLimit("min",t,!0,ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ue.toString(r))}setLimit(t,r,n,s){return new Zl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ue.toString(s)}]})}_addCheck(t){return new Zl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ue.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zl.create=e=>new Zl({checks:[],typeName:ve.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ce(e)});class e0 extends Re{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.boolean,received:n.parsedType}),ge}return Rr(t.data)}}e0.create=e=>new e0({typeName:ve.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ce(e)});class md extends Re{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const o=this._getOrReturnCtx(t);return ae(o,{code:K.invalid_type,expected:ce.date,received:o.parsedType}),ge}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return ae(o,{code:K.invalid_date}),ge}const n=new hr;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Oe.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new md({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ue.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ue.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}md.create=e=>new md({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ve.ZodDate,...Ce(e)});class t0 extends Re{_parse(t){if(this._getType(t)!==ce.symbol){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.symbol,received:n.parsedType}),ge}return Rr(t.data)}}t0.create=e=>new t0({typeName:ve.ZodSymbol,...Ce(e)});class r0 extends Re{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.undefined,received:n.parsedType}),ge}return Rr(t.data)}}r0.create=e=>new r0({typeName:ve.ZodUndefined,...Ce(e)});class n0 extends Re{_parse(t){if(this._getType(t)!==ce.null){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.null,received:n.parsedType}),ge}return Rr(t.data)}}n0.create=e=>new n0({typeName:ve.ZodNull,...Ce(e)});class s0 extends Re{constructor(){super(...arguments),this._any=!0}_parse(t){return Rr(t.data)}}s0.create=e=>new s0({typeName:ve.ZodAny,...Ce(e)});class a0 extends Re{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rr(t.data)}}a0.create=e=>new a0({typeName:ve.ZodUnknown,...Ce(e)});class Ks extends Re{_parse(t){const r=this._getOrReturnCtx(t);return ae(r,{code:K.invalid_type,expected:ce.never,received:r.parsedType}),ge}}Ks.create=e=>new Ks({typeName:ve.ZodNever,...Ce(e)});class o0 extends Re{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.void,received:n.parsedType}),ge}return Rr(t.data)}}o0.create=e=>new o0({typeName:ve.ZodVoid,...Ce(e)});class vn extends Re{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ce.array)return ae(r,{code:K.invalid_type,expected:ce.array,received:r.parsedType}),ge;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(i||l)&&(ae(r,{code:i?K.too_big:K.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ae(r,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ae(r,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>s.type._parseAsync(new Hs(r,i,r.path,l)))).then(i=>hr.mergeArray(n,i));const o=[...r.data].map((i,l)=>s.type._parseSync(new Hs(r,i,r.path,l)));return hr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new vn({...this._def,minLength:{value:t,message:ue.toString(r)}})}max(t,r){return new vn({...this._def,maxLength:{value:t,message:ue.toString(r)}})}length(t,r){return new vn({...this._def,exactLength:{value:t,message:ue.toString(r)}})}nonempty(t){return this.min(1,t)}}vn.create=(e,t)=>new vn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...Ce(t)});function go(e){if(e instanceof it){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ls.create(go(n))}return new it({...e._def,shape:()=>t})}else return e instanceof vn?new vn({...e._def,type:go(e.element)}):e instanceof Ls?Ls.create(go(e.unwrap())):e instanceof gi?gi.create(go(e.unwrap())):e instanceof Ba?Ba.create(e.items.map(t=>go(t))):e}class it extends Re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Oe.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ce.object){const u=this._getOrReturnCtx(t);return ae(u,{code:K.invalid_type,expected:ce.object,received:u.parsedType}),ge}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ks&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=o[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Hs(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ks){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ae(s,{code:K.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Hs(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>hr.mergeObjectSync(n,u)):hr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ue.errToObj,new it({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,i;const s=((i=(o=this._def).errorMap)==null?void 0:i.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ue.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new it({...this._def,unknownKeys:"strip"})}passthrough(){return new it({...this._def,unknownKeys:"passthrough"})}extend(t){return new it({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new it({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ve.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new it({...this._def,catchall:t})}pick(t){const r={};for(const n of Oe.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new it({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Oe.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new it({...this._def,shape:()=>r})}deepPartial(){return go(this)}partial(t){const r={};for(const n of Oe.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new it({...this._def,shape:()=>r})}required(t){const r={};for(const n of Oe.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Ls;)o=o._def.innerType;r[n]=o}return new it({...this._def,shape:()=>r})}keyof(){return DN(Oe.objectKeys(this.shape))}}it.create=(e,t)=>new it({shape:()=>e,unknownKeys:"strip",catchall:Ks.create(),typeName:ve.ZodObject,...Ce(t)});it.strictCreate=(e,t)=>new it({shape:()=>e,unknownKeys:"strict",catchall:Ks.create(),typeName:ve.ZodObject,...Ce(t)});it.lazycreate=(e,t)=>new it({shape:e,unknownKeys:"strip",catchall:Ks.create(),typeName:ve.ZodObject,...Ce(t)});class pd extends Re{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new Zr(l.ctx.common.issues));return ae(r,{code:K.invalid_union,unionErrors:i}),ge}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(c=>new Zr(c));return ae(r,{code:K.invalid_union,unionErrors:l}),ge}}get options(){return this._def.options}}pd.create=(e,t)=>new pd({options:e,typeName:ve.ZodUnion,...Ce(t)});function fp(e,t){const r=ls(e),n=ls(t);if(e===t)return{valid:!0,data:e};if(r===ce.object&&n===ce.object){const s=Oe.objectKeys(t),o=Oe.objectKeys(e).filter(l=>s.indexOf(l)!==-1),i={...e,...t};for(const l of o){const c=fp(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===ce.array&&n===ce.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],l=t[o],c=fp(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ce.date&&n===ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class gd extends Re{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(Zy(o)||Zy(i))return ge;const l=fp(o.value,i.value);return l.valid?((Xy(o)||Xy(i))&&r.dirty(),{status:r.value,value:l.data}):(ae(n,{code:K.invalid_intersection_types}),ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}gd.create=(e,t,r)=>new gd({left:e,right:t,typeName:ve.ZodIntersection,...Ce(r)});class Ba extends Re{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.array)return ae(n,{code:K.invalid_type,expected:ce.array,received:n.parsedType}),ge;if(n.data.length<this._def.items.length)return ae(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&n.data.length>this._def.items.length&&(ae(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Hs(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>hr.mergeArray(r,i)):hr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new Ba({...this._def,rest:t})}}Ba.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ba({items:e,typeName:ve.ZodTuple,rest:null,...Ce(t)})};class i0 extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.map)return ae(n,{code:K.invalid_type,expected:ce.map,received:n.parsedType}),ge;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Hs(n,l,n.path,[u,"key"])),value:o._parse(new Hs(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}i0.create=(e,t,r)=>new i0({valueType:t,keyType:e,typeName:ve.ZodMap,...Ce(r)});class Xl extends Re{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.set)return ae(n,{code:K.invalid_type,expected:ce.set,received:n.parsedType}),ge;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ae(n,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ae(n,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ge;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>o._parse(new Hs(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new Xl({...this._def,minSize:{value:t,message:ue.toString(r)}})}max(t,r){return new Xl({...this._def,maxSize:{value:t,message:ue.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Xl.create=(e,t)=>new Xl({valueType:e,minSize:null,maxSize:null,typeName:ve.ZodSet,...Ce(t)});class l0 extends Re{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}l0.create=(e,t)=>new l0({getter:e,typeName:ve.ZodLazy,...Ce(t)});class c0 extends Re{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ae(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:t.data}}get value(){return this._def.value}}c0.create=(e,t)=>new c0({value:e,typeName:ve.ZodLiteral,...Ce(t)});function DN(e,t){return new mi({values:e,typeName:ve.ZodEnum,...Ce(t)})}class mi extends Re{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ae(r,{expected:Oe.joinValues(n),received:r.parsedType,code:K.invalid_type}),ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ae(r,{received:r.data,code:K.invalid_enum_value,options:n}),ge}return Rr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return mi.create(t,{...this._def,...r})}exclude(t,r=this._def){return mi.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}mi.create=DN;class u0 extends Re{_parse(t){const r=Oe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ce.string&&n.parsedType!==ce.number){const s=Oe.objectValues(r);return ae(n,{expected:Oe.joinValues(s),received:n.parsedType,code:K.invalid_type}),ge}if(this._cache||(this._cache=new Set(Oe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Oe.objectValues(r);return ae(n,{received:n.data,code:K.invalid_enum_value,options:s}),ge}return Rr(t.data)}get enum(){return this._def.values}}u0.create=(e,t)=>new u0({values:e,typeName:ve.ZodNativeEnum,...Ce(t)});class vd extends Re{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ce.promise&&r.common.async===!1)return ae(r,{code:K.invalid_type,expected:ce.promise,received:r.parsedType}),ge;const n=r.parsedType===ce.promise?r.data:Promise.resolve(r.data);return Rr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}vd.create=(e,t)=>new vd({type:e,typeName:ve.ZodPromise,...Ce(t)});class pi extends Re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{ae(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return ge;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ge:c.status==="dirty"||r.value==="dirty"?nl(c.value):c});{if(r.value==="aborted")return ge;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?ge:l.status==="dirty"||r.value==="dirty"?nl(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ge:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ge:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hi(i))return ge;const l=s.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>hi(i)?Promise.resolve(s.transform(i.value,o)).then(l=>({status:r.value,value:l})):ge);Oe.assertNever(s)}}pi.create=(e,t,r)=>new pi({schema:e,typeName:ve.ZodEffects,effect:t,...Ce(r)});pi.createWithPreprocess=(e,t,r)=>new pi({schema:t,effect:{type:"preprocess",transform:e},typeName:ve.ZodEffects,...Ce(r)});class Ls extends Re{_parse(t){return this._getType(t)===ce.undefined?Rr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ls.create=(e,t)=>new Ls({innerType:e,typeName:ve.ZodOptional,...Ce(t)});class gi extends Re{_parse(t){return this._getType(t)===ce.null?Rr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gi.create=(e,t)=>new gi({innerType:e,typeName:ve.ZodNullable,...Ce(t)});class hp extends Re{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}hp.create=(e,t)=>new hp({innerType:e,typeName:ve.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ce(t)});class mp extends Re{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return hd(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Zr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}mp.create=(e,t)=>new mp({innerType:e,typeName:ve.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ce(t)});class d0 extends Re{_parse(t){if(this._getType(t)!==ce.nan){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.nan,received:n.parsedType}),ge}return{status:"valid",value:t.data}}}d0.create=e=>new d0({typeName:ve.ZodNaN,...Ce(e)});class _L extends Re{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sv extends Re{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ge:o.status==="dirty"?(r.dirty(),nl(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ge:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new sv({in:t,out:r,typeName:ve.ZodPipeline})}}class pp extends Re{_parse(t){const r=this._def.innerType._parse(t),n=s=>(hi(s)&&(s.value=Object.freeze(s.value)),s);return hd(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}pp.create=(e,t)=>new pp({innerType:e,typeName:ve.ZodReadonly,...Ce(t)});var ve;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ve||(ve={}));const To=ks.create;Ks.create;vn.create;const LN=it.create;pd.create;gd.create;Ba.create;mi.create;vd.create;Ls.create;gi.create;const jL=LN({email:To().email("Email invlido"),password:To().min(8,"Senha deve ter no mnimo 8 caracteres").regex(/[A-Z]/,"Senha deve conter pelo menos uma letra maiscula").regex(/[0-9]/,"Senha deve conter pelo menos um nmero"),username:To().min(3,"Nome de usurio deve ter no mnimo 3 caracteres").max(20,"Nome de usurio deve ter no mximo 20 caracteres").regex(/^[a-zA-Z0-9_]+$/,"Nome de usurio s pode conter letras, nmeros e _"),displayName:To().min(2,"Nome de exibio deve ter no mnimo 2 caracteres").max(50,"Nome de exibio deve ter no mximo 50 caracteres")}),NL=LN({email:To().email("Email invlido"),password:To().min(1,"Senha  obrigatria")}),SL=()=>{const[e]=Vg(),t=e.get("mode")==="signup"?"signup":"login",[r,n]=h.useState(t),[s,o]=h.useState(!1),[i,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState(""),[m,p]=h.useState(!1),[b,g]=h.useState(""),[y,w]=h.useState(""),[x,v]=h.useState(""),[_,N]=h.useState(""),[j,S]=h.useState(!1),[k,O]=h.useState({}),{signIn:E,signUp:T,user:D}=It(),U=Et();h.useEffect(()=>{D&&U("/dashboard")},[D,U]);const M=async P=>{P.preventDefault(),O({});try{NL.parse({email:c,password:d})}catch(z){if(z instanceof Zr){const I={};z.errors.forEach(A=>{A.path[0]&&(I[`login_${A.path[0]}`]=A.message)}),O(I);return}}p(!0);try{const{error:z}=await E(c,d);z?z.message.includes("Invalid login credentials")?F.error("Email ou senha incorretos"):F.error(z.message):F.success("Login realizado com sucesso!")}catch{F.error("Ocorreu um erro. Tente novamente.")}finally{p(!1)}},q=async P=>{if(P.preventDefault(),O({}),x!==_){O({confirm_password:"As senhas no coincidem"});return}try{jL.parse({email:y,password:x,username:b,displayName:b})}catch(z){if(z instanceof Zr){const I={};z.errors.forEach(A=>{A.path[0]&&(I[`signup_${A.path[0]}`]=A.message)}),O(I);return}}S(!0);try{const{error:z}=await T(y,x,b,b);z?z.message.includes("already registered")?F.error("Este email j est cadastrado"):F.error(z.message):(F.success("Conta criada! Redirecionando..."),U("/dashboard"))}catch{F.error("Ocorreu um erro. Tente novamente.")}finally{S(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5 flex items-center justify-center p-4",children:[a.jsx("div",{className:"fixed top-4 right-4 z-50",children:a.jsx(bc,{})}),a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:Oi,alt:"Orkadia Logo",className:"w-48 h-auto"})}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-1 flex",children:[a.jsx("button",{onClick:()=>n("login"),className:`px-6 py-2 rounded-md font-medium transition-all ${r==="login"?"bg-blue-500 text-white shadow-lg":"text-muted-foreground hover:text-foreground"}`,children:"Entrar"}),a.jsx("button",{onClick:()=>n("signup"),className:`px-6 py-2 rounded-md font-medium transition-all ${r==="signup"?"bg-blue-500 text-white shadow-lg":"text-muted-foreground hover:text-foreground"}`,children:"Registrar"})]})})]}),r==="login"&&a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm shadow-elevated",children:[a.jsx(Ye,{className:"text-center pb-4",children:a.jsx(rt,{className:"text-3xl bg-gradient-orkut bg-clip-text text-transparent",children:"Entrar na Orkadia"})}),a.jsx($e,{children:a.jsxs("form",{onSubmit:M,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Cm,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(yt,{type:"email",placeholder:"E-mail",value:c,onChange:P=>u(P.target.value),className:"pl-10 h-12"}),k.login_email&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:k.login_email})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bu,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(yt,{type:s?"text":"password",placeholder:"Senha",value:d,onChange:P=>f(P.target.value),className:"pl-10 pr-10 h-12"}),a.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:s?a.jsx(sh,{className:"h-5 w-5"}):a.jsx(Lo,{className:"h-5 w-5"})}),k.login_password&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:k.login_password})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",className:"text-sm text-muted-foreground hover:text-foreground",children:"Esqueceu sua senha?"})}),a.jsx($,{type:"submit",disabled:m,className:"w-full h-12 bg-gradient-orkut hover:opacity-90 text-white font-semibold",children:m?"Entrando...":"Entrar"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"No tem uma conta? "}),a.jsx("button",{type:"button",onClick:()=>n("signup"),className:"text-sm text-primary hover:underline font-medium",children:"Registrar"})]})]})})]}),r==="signup"&&a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm shadow-elevated",children:[a.jsx(Ye,{className:"text-center pb-4",children:a.jsx(rt,{className:"text-3xl bg-gradient-orkut bg-clip-text text-transparent",children:"Registrar na Orkadia"})}),a.jsx($e,{children:a.jsxs("form",{onSubmit:q,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(F1,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(yt,{type:"text",placeholder:"Nome de Usurio",value:b,onChange:P=>g(P.target.value),className:"pl-10 h-12"}),k.signup_username&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:k.signup_username})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Cm,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(yt,{type:"email",placeholder:"E-mail",value:y,onChange:P=>w(P.target.value),className:"pl-10 h-12"}),k.signup_email&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:k.signup_email})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bu,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(yt,{type:s?"text":"password",placeholder:"Senha",value:x,onChange:P=>v(P.target.value),className:"pl-10 pr-10 h-12"}),a.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:s?a.jsx(sh,{className:"h-5 w-5"}):a.jsx(Lo,{className:"h-5 w-5"})}),k.signup_password&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:k.signup_password})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bu,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(yt,{type:i?"text":"password",placeholder:"Confirmar Senha",value:_,onChange:P=>N(P.target.value),className:"pl-10 pr-10 h-12"}),a.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:i?a.jsx(sh,{className:"h-5 w-5"}):a.jsx(Lo,{className:"h-5 w-5"})}),k.confirm_password&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:k.confirm_password})]}),a.jsx($,{type:"submit",disabled:j,className:"w-full h-12 bg-gradient-orkut hover:opacity-90 text-white font-semibold",children:j?"Criando Conta...":"Criar Conta"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"J tem uma conta? "}),a.jsx("button",{type:"button",onClick:()=>n("login"),className:"text-sm text-primary hover:underline font-medium",children:"Entrar"})]})]})})]}),a.jsxs("div",{className:"text-center mt-8",children:[a.jsx("button",{onClick:()=>U("/"),className:"text-muted-foreground hover:text-foreground text-sm",children:"Voltar para o incio"}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Ao criar uma conta, voc concorda com nossos"," ",a.jsx(Ie,{to:"/terms",className:"text-primary hover:underline",children:"Termos de Uso"})," ","e"," ",a.jsx(Ie,{to:"/privacy",className:"text-primary hover:underline",children:"Poltica de Privacidade"})]})]})]})]})};function kL(){const[e]=Vg(),t=Et(),[r,n]=h.useState(!1);e.get("error");const s=e.get("error_code"),o=e.get("error_description");h.useEffect(()=>{s==="unexpected_failure"&&(o!=null&&o.includes("Database error"))&&i()},[s,o]);const i=async()=>{var u,d,f,m;n(!0);try{const{data:{user:p}}=await R.auth.getUser();if(p){const{data:b}=await R.from("profiles").select("id").eq("id",p.id).single();if(b){t("/dashboard");return}else{const g=((u=p.email)==null?void 0:u.split("@")[0])||"user",y=Math.floor(Math.random()*1e4),w=`${g}${y}`,{error:x}=await R.from("profiles").insert({id:p.id,username:w,display_name:((d=p.user_metadata)==null?void 0:d.full_name)||((f=p.email)==null?void 0:f.split("@")[0])||"Usurio",avatar_url:((m=p.user_metadata)==null?void 0:m.avatar_url)||null,email:p.email});if(x)console.error("Erro ao criar perfil:",x),F.error("Erro ao criar perfil. Tente novamente.");else{F.success("Perfil criado com sucesso!"),t("/dashboard");return}}}}catch(p){console.error("Erro ao corrigir problema:",p),F.error("Erro ao corrigir problema.")}finally{n(!1)}},c=s==="unexpected_failure"&&(o!=null&&o.includes("Database error"))?{title:"Erro na Criao do Perfil",description:"Houve um problema ao criar seu perfil. Estamos tentando corrigir automaticamente.",canFix:!0}:{title:"Erro de Autenticao",description:o||"Ocorreu um erro durante o login.",canFix:!1};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(H,{className:"w-full max-w-md",children:[a.jsxs(Ye,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:a.jsx(D1,{className:"w-6 h-6 text-destructive"})}),a.jsx(rt,{className:"text-xl",children:c.title})]}),a.jsxs($e,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground text-center",children:c.description}),r&&a.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary",children:[a.jsx(hT,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Corrigindo problema..."})]}),a.jsxs("div",{className:"space-y-2",children:[c.canFix&&!r&&a.jsx($,{onClick:i,className:"w-full",children:"Tentar Corrigir"}),a.jsx($,{variant:"outline",onClick:()=>t("/auth"),className:"w-full",children:"Voltar ao Login"})]}),!1]})]})})}const zt=({icon:e,label:t,active:r,onClick:n,className:s})=>a.jsxs("button",{onClick:n,className:le("flex flex-col items-center gap-2 p-4 rounded-lg transition-all duration-300 group","hover:scale-105 hover:shadow-elevated",r?"bg-gradient-orkut text-primary-foreground shadow-glow":"bg-card hover:bg-muted",s),children:[a.jsx("div",{className:le("p-3 rounded-full transition-all duration-300",r?"bg-white/20":"bg-primary/10 group-hover:bg-primary/20"),children:a.jsx(e,{className:le("w-6 h-6",r?"text-white":"text-primary")})}),a.jsx("span",{className:le("text-sm font-medium",r?"text-white":"text-foreground"),children:t})]}),Bt=h.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Bt.displayName="Textarea";var vf="Dialog",[$N]=sr(vf),[CL,Xr]=$N(vf),FN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Us({prop:n,defaultProp:s??!1,onChange:o,caller:vf});return a.jsx(CL,{scope:t,triggerRef:l,contentRef:c,contentId:Kr(),titleId:Kr(),descriptionId:Kr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};FN.displayName=vf;var zN="DialogTrigger",UN=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Xr(zN,r),o=Ne(t,s.triggerRef);return a.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":iv(s.open),...n,ref:o,onClick:G(e.onClick,s.onOpenToggle)})});UN.displayName=zN;var av="DialogPortal",[EL,BN]=$N(av,{forceMount:void 0}),qN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Xr(av,t);return a.jsx(EL,{scope:t,forceMount:r,children:h.Children.map(n,i=>a.jsx(Ct,{present:r||o.open,children:a.jsx(Si,{asChild:!0,container:s,children:i})}))})};qN.displayName=av;var xd="DialogOverlay",VN=h.forwardRef((e,t)=>{const r=BN(xd,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Xr(xd,e.__scopeDialog);return o.modal?a.jsx(Ct,{present:n||o.open,children:a.jsx(TL,{...s,ref:t})}):null});VN.displayName=xd;var PL=zs("DialogOverlay.RemoveScroll"),TL=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Xr(xd,r);return a.jsx(xc,{as:PL,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(de.div,{"data-state":iv(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),qa="DialogContent",WN=h.forwardRef((e,t)=>{const r=BN(qa,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Xr(qa,e.__scopeDialog);return a.jsx(Ct,{present:n||o.open,children:o.modal?a.jsx(RL,{...s,ref:t}):a.jsx(OL,{...s,ref:t})})});WN.displayName=qa;var RL=h.forwardRef((e,t)=>{const r=Xr(qa,e.__scopeDialog),n=h.useRef(null),s=Ne(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return of(o)},[]),a.jsx(HN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:G(e.onFocusOutside,o=>o.preventDefault())})}),OL=h.forwardRef((e,t)=>{const r=Xr(qa,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(HN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),HN=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Xr(qa,r),c=h.useRef(null),u=Ne(t,c);return sf(),a.jsxs(a.Fragment,{children:[a.jsx(gc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Ga,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(AL,{titleId:l.titleId}),a.jsx(IL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ov="DialogTitle",KN=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Xr(ov,r);return a.jsx(de.h2,{id:s.titleId,...n,ref:t})});KN.displayName=ov;var GN="DialogDescription",QN=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Xr(GN,r);return a.jsx(de.p,{id:s.descriptionId,...n,ref:t})});QN.displayName=GN;var YN="DialogClose",ZN=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Xr(YN,r);return a.jsx(de.button,{type:"button",...n,ref:t,onClick:G(e.onClick,()=>s.onOpenChange(!1))})});ZN.displayName=YN;function iv(e){return e?"open":"closed"}var XN="DialogTitleWarning",[pz,JN]=tP(XN,{contentName:qa,titleName:ov,docsSlug:"dialog"}),AL=({titleId:e})=>{const t=JN(XN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ML="DialogDescriptionWarning",IL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JN(ML).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},DL=FN,LL=UN,$L=qN,eS=VN,tS=WN,rS=KN,nS=QN,FL=ZN;const mr=DL,f0=LL,zL=$L,sS=h.forwardRef(({className:e,...t},r)=>a.jsx(eS,{ref:r,className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sS.displayName=eS.displayName;const nr=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(zL,{children:[a.jsx(sS,{}),a.jsxs(tS,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(FL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Wn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nr.displayName=tS.displayName;const pr=({className:e,...t})=>a.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pr.displayName="DialogHeader";const gr=h.forwardRef(({className:e,...t},r)=>a.jsx(rS,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));gr.displayName=rS.displayName;const na=h.forwardRef(({className:e,...t},r)=>a.jsx(nS,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));na.displayName=nS.displayName;function gp(e,[t,r]){return Math.min(r,Math.max(t,e))}function UL(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var lv="ScrollArea",[aS]=sr(lv),[BL,Or]=aS(lv),oS=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[u,d]=h.useState(null),[f,m]=h.useState(null),[p,b]=h.useState(null),[g,y]=h.useState(null),[w,x]=h.useState(0),[v,_]=h.useState(0),[N,j]=h.useState(!1),[S,k]=h.useState(!1),O=Ne(t,T=>c(T)),E=pc(s);return a.jsx(BL,{scope:r,type:n,dir:E,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:_,children:a.jsx(de.div,{dir:E,...i,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});oS.displayName=lv;var iS="ScrollAreaViewport",lS=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=e,i=Or(iS,r),l=h.useRef(null),c=Ne(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(de.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});lS.displayName=iS;var wn="ScrollAreaScrollbar",cv=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Or(wn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(qL,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(VL,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(cS,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(uv,{...n,ref:t}):null});cv.displayName=wn;var qL=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Or(wn,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Ct,{present:r||o,children:a.jsx(cS,{"data-state":o?"visible":"hidden",...n,ref:t})})}),VL=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Or(wn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=yf(()=>c("SCROLL_END"),100),[l,c]=UL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,o,c,i]),a.jsx(Ct,{present:r||l!=="hidden",children:a.jsx(uv,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:G(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:G(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),cS=h.forwardRef((e,t)=>{const r=Or(wn,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=yf(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return vi(r.viewport,c),vi(r.content,c),a.jsx(Ct,{present:n||o,children:a.jsx(uv,{"data-state":o?"visible":"hidden",...s,ref:t})})}),uv=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Or(wn,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mS(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return YL(m,i.current,l,p)}return r==="horizontal"?a.jsx(WL,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,p=h0(m,l,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?a.jsx(HL,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,p=h0(m,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),WL=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Or(wn,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=Ne(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(dS,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),gS(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wd(i.paddingLeft),paddingEnd:wd(i.paddingRight)}})}})}),HL=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Or(wn,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=Ne(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(dS,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),gS(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wd(i.paddingTop),paddingEnd:wd(i.paddingBottom)}})}})}),[KL,uS]=aS(wn),dS=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,p=Or(wn,r),[b,g]=h.useState(null),y=Ne(t,O=>g(O)),w=h.useRef(null),x=h.useRef(""),v=p.viewport,_=n.content-n.viewport,N=tt(d),j=tt(c),S=yf(f,10);function k(O){if(w.current){const E=O.clientX-w.current.left,T=O.clientY-w.current.top;u({x:E,y:T})}}return h.useEffect(()=>{const O=E=>{const T=E.target;(b==null?void 0:b.contains(T))&&N(E,_)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[v,b,_,N]),h.useEffect(j,[n,j]),vi(b,S),vi(p.content,S),a.jsx(KL,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:tt(o),onThumbPointerUp:tt(i),onThumbPositionChange:j,onThumbPointerDown:tt(l),children:a.jsx(de.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:G(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),w.current=b.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(O))}),onPointerMove:G(e.onPointerMove,k),onPointerUp:G(e.onPointerUp,O=>{const E=O.target;E.hasPointerCapture(O.pointerId)&&E.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),yd="ScrollAreaThumb",fS=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=uS(yd,e.__scopeScrollArea);return a.jsx(Ct,{present:r||s.hasThumb,children:a.jsx(GL,{ref:t,...n})})}),GL=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=Or(yd,r),i=uS(yd,r),{onThumbPositionChange:l}=i,c=Ne(t,f=>i.onThumbChange(f)),u=h.useRef(void 0),d=yf(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const m=()=>{if(d(),!u.current){const p=ZL(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,d,l]),a.jsx(de.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:G(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),b=f.clientX-p.left,g=f.clientY-p.top;i.onThumbPointerDown({x:b,y:g})}),onPointerUp:G(e.onPointerUp,i.onThumbPointerUp)})});fS.displayName=yd;var dv="ScrollAreaCorner",hS=h.forwardRef((e,t)=>{const r=Or(dv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(QL,{...e,ref:t}):null});hS.displayName=dv;var QL=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Or(dv,r),[o,i]=h.useState(0),[l,c]=h.useState(0),u=!!(o&&l);return vi(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),vi(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?a.jsx(de.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wd(e){return e?parseInt(e,10):0}function mS(e,t){const r=e/t;return isNaN(r)?0:r}function xf(e){const t=mS(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function YL(e,t,r,n="ltr"){const s=xf(r),o=s/2,i=t||o,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return pS([c,u],f)(e)}function h0(e,t,r="ltr"){const n=xf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=gp(e,c);return pS([0,i],[0,l])(u)}function pS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function gS(e,t){return e>0&&e<t}var ZL=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function yf(e,t){const r=tt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function vi(e,t){const r=tt(t);at(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var vS=oS,XL=lS,JL=hS;const Ii=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(vS,{ref:n,className:le("relative overflow-hidden",e),...r,children:[a.jsx(XL,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(xS,{}),a.jsx(JL,{})]}));Ii.displayName=vS.displayName;const xS=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(cv,{ref:n,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(fS,{className:"relative flex-1 rounded-full bg-border"})}));xS.displayName=cv.displayName;const e$=({postId:e,isOpen:t,onClose:r})=>{const[n,s]=h.useState([]),[o,i]=h.useState(""),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[f,m]=h.useState({}),[p,b]=h.useState({}),[g,y]=h.useState({});h.useEffect(()=>{t&&w()},[t,e]);const w=async()=>{c(!0);try{const{data:_,error:N}=await R.from("comments").select(`
          *,
          profiles:author_id (*)
        `).eq("post_id",e).order("created_at",{ascending:!0});if(N)throw N;s(_||[]);const j=(_||[]).map(S=>S.id);if(j.length>0)try{const{data:S,error:k}=await R.from("comment_replies").select(`
              *,
              profiles:author_id (*)
            `).in("comment_id",j).order("created_at",{ascending:!0});if(k)m({});else{const O={};(S||[]).forEach(E=>{const T=E.comment_id;O[T]||(O[T]=[]),O[T].push(E)}),m(O)}}catch{m({})}else m({})}catch(_){console.error("Erro ao carregar comentrios:",_),F.error("Erro ao carregar comentrios")}finally{c(!1)}},x=async()=>{if(o.trim()){d(!0);try{const{data:{user:_}}=await R.auth.getUser();if(!_)throw new Error("Usurio no autenticado");const{error:N}=await R.from("comments").insert({post_id:e,user_id:_.id,author_id:_.id,content:o.trim()});if(N)throw N;i(""),F.success("Comentrio adicionado!"),w()}catch(_){console.error("Erro ao criar comentrio:",_),F.error("Erro ao adicionar comentrio")}finally{d(!1)}}},v=async _=>{const N=(p[_]||"").trim();if(N){y(j=>({...j,[_]:!0}));try{const{data:{user:j}}=await R.auth.getUser();if(!j)throw new Error("Usurio no autenticado");const{error:S}=await R.from("comment_replies").insert({comment_id:_,user_id:j.id,author_id:j.id,content:N});if(S)throw S;b(E=>({...E,[_]:""})),F.success("Resposta adicionada!");const{data:k,error:O}=await R.from("comment_replies").select(`
          *,
          profiles:author_id (*)
        `).eq("comment_id",_).order("created_at",{ascending:!0});O||m(E=>({...E,[_]:k||[]}))}catch(j){console.error("Erro ao responder comentrio:",j),F.error("Respostas indisponveis: configure a tabela comment_replies ou polticas")}finally{y(j=>({...j,[_]:!1}))}}};return a.jsx(mr,{open:t,onOpenChange:r,children:a.jsxs(nr,{className:"max-w-2xl max-h-[80vh]","aria-describedby":void 0,children:[a.jsxs(pr,{children:[a.jsx(gr,{children:"Comentrios"}),a.jsx(na,{children:"Converse com outros cidados. Seja gentil e respeitoso."})]}),a.jsx(Ii,{className:"h-[400px] pr-4",children:l?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):n.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum comentrio ainda. Seja o primeiro!"}):a.jsx("div",{className:"space-y-4",children:n.map(_=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold flex-shrink-0",children:_.profiles.display_name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 bg-muted rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-semibold text-sm",children:_.profiles.display_name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(_.created_at).toLocaleDateString("pt-BR")})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content}),a.jsxs("div",{className:"mt-3 space-y-2",children:[(f[_.id]||[]).map(N=>{var j,S,k,O;return a.jsxs("div",{className:"flex gap-2 ml-8",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-orkut flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:(k=(S=(j=N.profiles)==null?void 0:j.display_name)==null?void 0:S.charAt(0))==null?void 0:k.toUpperCase()}),a.jsxs("div",{className:"flex-1 bg-background/60 rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-semibold text-xs",children:(O=N.profiles)==null?void 0:O.display_name}),a.jsx("span",{className:"text-[10px] text-muted-foreground",children:N.created_at?new Date(N.created_at).toLocaleDateString("pt-BR"):""})]}),a.jsx("p",{className:"text-xs whitespace-pre-wrap",children:N.content})]})]},N.id)}),a.jsxs("div",{className:"flex gap-2 ml-8 pt-2",children:[a.jsx(Bt,{placeholder:"Responder...",value:p[_.id]||"",onChange:N=>b(j=>({...j,[_.id]:N.target.value})),className:"min-h-[40px] text-xs",onKeyDown:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),v(_.id))}}),a.jsx($,{onClick:()=>v(_.id),disabled:!(p[_.id]||"").trim()||!!g[_.id],size:"icon",className:"h-8 w-8",children:a.jsx(La,{className:"w-3 h-3"})})]})]})]})]},_.id))})}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsx(Bt,{placeholder:"Escreva um comentrio...",value:o,onChange:_=>i(_.target.value),className:"min-h-[80px]",onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),x())}}),a.jsx($,{onClick:x,disabled:!o.trim()||u,size:"icon",className:"h-10 w-10",children:a.jsx(La,{className:"w-4 h-4"})})]})]})})};var yS={exports:{}},wS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=h;function t$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var r$=typeof Object.is=="function"?Object.is:t$,n$=xi.useState,s$=xi.useEffect,a$=xi.useLayoutEffect,o$=xi.useDebugValue;function i$(e,t){var r=t(),n=n$({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return a$(function(){s.value=r,s.getSnapshot=t,Ph(s)&&o({inst:s})},[e,r,t]),s$(function(){return Ph(s)&&o({inst:s}),e(function(){Ph(s)&&o({inst:s})})},[e]),o$(r),r}function Ph(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!r$(e,r)}catch{return!0}}function l$(e,t){return t()}var c$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l$:i$;wS.useSyncExternalStore=xi.useSyncExternalStore!==void 0?xi.useSyncExternalStore:c$;yS.exports=wS;var u$=yS.exports;function d$(){return u$.useSyncExternalStore(f$,()=>!0,()=>!1)}function f$(){return()=>{}}var fv="Avatar",[h$]=sr(fv),[m$,bS]=h$(fv),_S=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=h.useState("idle");return a.jsx(m$,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(de.span,{...n,ref:t})})});_S.displayName=fv;var jS="AvatarImage",NS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=bS(jS,r),l=p$(n,o),c=tt(u=>{s(u),i.onImageLoadingStatusChange(u)});return at(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(de.img,{...o,ref:t,src:n}):null});NS.displayName=jS;var SS="AvatarFallback",kS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=bS(SS,r),[i,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(de.span,{...s,ref:t}):null});kS.displayName=SS;function m0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function p$(e,{referrerPolicy:t,crossOrigin:r}){const n=d$(),s=h.useRef(null),o=n?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>m0(o,e));return at(()=>{l(m0(o,e))},[o,e]),at(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,r,t]),i}var CS=_S,ES=NS,PS=kS;const bt=h.forwardRef(({className:e,...t},r)=>a.jsx(CS,{ref:r,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));bt.displayName=CS.displayName;const _t=h.forwardRef(({className:e,...t},r)=>a.jsx(ES,{ref:r,className:le("aspect-square h-full w-full",e),...t}));_t.displayName=ES.displayName;const jt=h.forwardRef(({className:e,...t},r)=>a.jsx(PS,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));jt.displayName=PS.displayName;function g$({storyGroup:e,onClose:t}){const{user:r}=It(),[n,s]=h.useState(0),[o,i]=h.useState(!1),[l,c]=h.useState(0),u=h.useRef(null),d=e.stories[n],f=5e3;h.useEffect(()=>(o?p():m(),()=>p()),[n,o]),h.useEffect(()=>{r&&d&&d.user_id!==r.id&&b(d.id)},[n,r]);const m=()=>{c(0);const x=Date.now();u.current=setInterval(()=>{const _=(Date.now()-x)/f*100;_>=100?y():c(_)},50)},p=()=>{u.current&&(clearInterval(u.current),u.current=null)},b=async x=>{r&&await R.from("story_views").insert({story_id:x,viewer_id:r.id}).select().single()},g=()=>{n>0&&s(n-1)},y=()=>{n<e.stories.length-1?s(n+1):t()},w=()=>{i(!o)};return Xs.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden shadow-2xl max-w-md w-full aspect-[9/16] max-h-[90vh]",onClick:x=>x.stopPropagation(),children:[a.jsx("div",{className:"absolute top-3 left-3 right-3 flex gap-1 z-10",children:e.stories.map((x,v)=>a.jsx("div",{className:"flex-1 h-0.5 bg-white/30 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-white transition-all duration-100",style:{width:v<n?"100%":v===n?`${l}%`:"0%"}})},v))}),a.jsxs("div",{className:"absolute top-6 left-3 right-3 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(bt,{className:"h-8 w-8 border-2 border-white",children:[a.jsx(_t,{src:e.avatar_url||void 0}),a.jsx(jt,{children:e.display_name[0]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-sm",children:e.display_name}),a.jsx("p",{className:"text-white/80 text-xs",children:new Date(d.created_at).toLocaleDateString("pt-BR")})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx($,{size:"icon",variant:"ghost",onClick:w,className:"h-8 w-8 text-white hover:bg-white/20",children:o?a.jsx(fT,{className:"h-4 w-4"}):a.jsx(dT,{className:"h-4 w-4"})}),a.jsx($,{size:"icon",variant:"ghost",onClick:t,className:"h-8 w-8 text-white hover:bg-white/20",children:a.jsx(Wn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[d.media_type==="image"?a.jsx("img",{src:d.media_url,alt:"Story",className:"w-full h-full object-cover"}):a.jsx("video",{src:d.media_url,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0}),a.jsxs("div",{className:"absolute inset-0 flex",children:[a.jsx("div",{className:"w-1/3 h-full cursor-pointer",onClick:g}),a.jsx("div",{className:"w-1/3 h-full cursor-pointer",onClick:w}),a.jsx("div",{className:"w-1/3 h-full cursor-pointer",onClick:y})]})]}),n>0&&a.jsx($,{size:"icon",variant:"ghost",onClick:g,className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 text-white hover:bg-white/20 opacity-70 hover:opacity-100",children:a.jsx(E1,{className:"h-6 w-6"})}),n<e.stories.length-1&&a.jsx($,{size:"icon",variant:"ghost",onClick:y,className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 text-white hover:bg-white/20 opacity-70 hover:opacity-100",children:a.jsx(_g,{className:"h-6 w-6"})})]})}),document.body)}var v$="Label",TS=h.forwardRef((e,t)=>a.jsx(de.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));TS.displayName=v$;var RS=TS;const x$=Hd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pt=h.forwardRef(({className:e,...t},r)=>a.jsx(RS,{ref:r,className:le(x$(),e),...t}));pt.displayName=RS.displayName;function y$({onClose:e,onSuccess:t}){const{user:r}=It(),[n,s]=h.useState(!1),[o,i]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState("image"),f=p=>{var w;const b=(w=p.target.files)==null?void 0:w[0];if(!b)return;if(b.size>10*1024*1024){F.error("Arquivo muito grande! Mximo 10MB");return}const g=b.type.startsWith("video/");d(g?"video":"image"),c(b);const y=new FileReader;y.onloadend=()=>{i(y.result)},y.readAsDataURL(b)},m=async()=>{if(!(!r||!l)){s(!0);try{const p=l.name.split(".").pop(),g=`${`${r.id}-${Date.now()}.${p}`}`,{error:y,data:w}=await R.storage.from("post-images").upload(g,l);if(y)throw y;const{data:{publicUrl:x}}=R.storage.from("post-images").getPublicUrl(g),{error:v}=await R.from("stories").insert({user_id:r.id,media_url:x,media_type:u});if(v)throw v;t()}catch(p){console.error("Error uploading story:",p),F.error("Erro ao publicar story")}finally{s(!1)}}};return a.jsx(mr,{open:!0,onOpenChange:e,children:a.jsxs(nr,{className:"sm:max-w-md",children:[a.jsx(pr,{children:a.jsx(gr,{children:"Adicionar Story"})}),a.jsxs("div",{className:"space-y-4",children:[o?a.jsxs("div",{className:"relative",children:[u==="image"?a.jsx("img",{src:o,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}):a.jsx("video",{src:o,className:"w-full h-64 object-cover rounded-lg",controls:!0}),a.jsx($,{size:"icon",variant:"ghost",onClick:()=>{i(null),c(null)},className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white",children:a.jsx(Wn,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[a.jsx(pt,{htmlFor:"story-upload",className:"cursor-pointer",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(Ul,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique para selecionar uma foto ou vdeo"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Mximo 10MB"})]})}),a.jsx(yt,{id:"story-upload",type:"file",accept:"image/*,video/*",onChange:f,className:"hidden"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:e,children:"Cancelar"}),a.jsx($,{onClick:m,disabled:!l||n,children:n?"Publicando...":"Publicar Story"})]})]})]})})}function w$(){const{user:e}=It(),[t,r]=h.useState([]),[n,s]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState([]),[u,d]=h.useState(null);h.useEffect(()=>{e&&(m(),f())},[e]);const f=async()=>{if(!e)return;const{data:g}=await R.from("profiles").select("avatar_url").eq("id",e.id).single();d(g)},m=async()=>{if(!e)return;const{data:g,error:y}=await R.from("stories").select(`
        *,
        profiles!stories_user_id_fkey (
          username,
          display_name,
          avatar_url
        )
      `).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(y){console.error("Error loading stories:",y);return}const{data:w}=await R.from("story_views").select("story_id").eq("viewer_id",e.id),x=new Set((w==null?void 0:w.map(j=>j.story_id))||[]),v=(g||[]).reduce((j,S)=>{const k=x.has(S.id),O={...S,profile:S.profiles,hasViewed:k},E=j.find(T=>T.user_id===S.user_id);return E?(E.stories.push(O),E.hasViewed=E.hasViewed&&k):j.push({user_id:S.user_id,username:S.profiles.username,display_name:S.profiles.display_name,avatar_url:S.profiles.avatar_url,stories:[O],hasViewed:k}),j},[]),_=v.filter(j=>j.user_id===e.id),N=v.filter(j=>j.user_id!==e.id);_.length>0?c(_[0].stories):c([]),N.sort((j,S)=>j.hasViewed!==S.hasViewed?j.hasViewed?1:-1:new Date(S.stories[0].created_at).getTime()-new Date(j.stories[0].created_at).getTime()),r(N)},p=g=>{s(g)},b=()=>{i(!1),m(),F.success("Story publicado!")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 px-4 sm:px-0 scrollbar-hide",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0",children:[a.jsxs("div",{onClick:()=>l.length>0?p({user_id:e.id,username:"",display_name:"Seu Story",avatar_url:null,stories:l,hasViewed:!1}):i(!0),className:"relative cursor-pointer",children:[a.jsx("div",{className:`p-1 rounded-full ${l.length>0?"bg-gradient-to-tr from-yellow-400 via-orange-500 to-pink-500":"bg-muted"}`,children:a.jsxs(bt,{className:"h-16 w-16 border-2 border-background",children:[a.jsx(_t,{src:u==null?void 0:u.avatar_url}),a.jsx(jt,{children:"Voc"})]})}),l.length===0&&a.jsx("div",{className:"absolute bottom-0 right-0 bg-primary rounded-full p-1",children:a.jsx(jg,{className:"h-4 w-4 text-primary-foreground"})})]}),a.jsx("span",{className:"text-xs text-center max-w-[70px] truncate",children:l.length>0?"Seu Story":"Adicionar"})]}),t.map(g=>a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer",onClick:()=>p(g),children:[a.jsx("div",{className:`p-1 rounded-full ${g.hasViewed?"bg-muted":"bg-gradient-to-tr from-yellow-400 via-orange-500 to-pink-500"}`,children:a.jsxs(bt,{className:"h-16 w-16 border-2 border-background",children:[a.jsx(_t,{src:g.avatar_url||void 0}),a.jsx(jt,{children:g.display_name[0]})]})}),a.jsx("span",{className:"text-xs text-center max-w-[70px] truncate",children:g.display_name})]},g.user_id))]}),n&&a.jsx(g$,{storyGroup:n,onClose:()=>{s(null),m()}}),o&&a.jsx(y$,{onClose:()=>i(!1),onSuccess:b})]})}const b$=[{type:"arretado",emoji:"",label:"Arretado!",color:"text-accent"},{type:"oxente",emoji:"",label:"Oxente!",color:"text-secondary"},{type:"saudade",emoji:"",label:"Saudade",color:"text-primary"},{type:"conversa",emoji:"",label:"Boa conversa!",color:"text-muted-foreground"}],_$=({postId:e,onReact:t,selectedReaction:r})=>{const[n,s]=h.useState(!1),o=i=>{t==null||t(i)};return a.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:b$.map(i=>{const l=r===i.type;return a.jsxs($,{variant:l?"default":"ghost",size:"sm",onClick:()=>o(i.type),className:le("gap-1 transition-all hover:scale-110",l&&"shadow-glow"),children:[a.jsx("span",{className:"text-lg",children:i.emoji}),a.jsx("span",{className:le("text-xs font-medium",l&&"text-primary-foreground"),children:i.label})]},i.type)})})},j$={poet:{type:"poet",icon:O1,label:"Cidado Potico",color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-950"},chronicler:{type:"chronicler",icon:Mn,label:"Cronista da Praa",color:"text-secondary",bgColor:"bg-secondary/20"},humorist:{type:"humorist",icon:gT,label:"Humorista da Vila",color:"text-accent",bgColor:"bg-accent/20"},star:{type:"star",icon:fc,label:"Estrela da Cidade",color:"text-primary",bgColor:"bg-primary/20"}},N$=({type:e,size:t="md",showLabel:r=!0})=>{const n=j$[e],s=n.icon,o={sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"},i={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return a.jsxs("div",{className:le("inline-flex items-center gap-1.5 rounded-full font-medium transition-all hover:scale-105",n.color,n.bgColor,o[t]),children:[a.jsx(s,{className:i[t]}),r&&a.jsx("span",{children:n.label})]})},S$=()=>{const e=["poet","chronicler","humorist","star"];return e[Math.floor(Math.random()*e.length)]},k$=e=>{const t=new Date,r=new Date(e),n=Math.floor((t.getTime()-r.getTime())/6e4);if(n<1)return"agora";if(n<60)return`h ${n}m`;const s=Math.floor(n/60);if(s<24)return`h ${s}h`;const o=Math.floor(s/24);return o===1?"ontem":o<7?`h ${o} dias`:r.toLocaleDateString("pt-BR")},C$=()=>{const e=new Date().getHours();return e<12?{text:"Bom dia, Orkadianos!",icon:vT,message:"O sol nasceu na Praa Central  compartilhe sua histria de hoje."}:e<18?{text:"Boa tarde, Orkadianos!",icon:zl,message:"A cidade est animada  veja o que est acontecendo!"}:{text:"Boa noite, Orkadianos!",icon:fc,message:"As estrelas brilham na Praa  conte como foi seu dia."}},E$=({setActiveSection:e})=>{var J;const{user:t,loading:r}=It(),[n,s]=h.useState([]),[o,i]=h.useState([]),[l,c]=h.useState({}),[u,d]=h.useState([]),[f,m]=h.useState(null),[p,b]=h.useState([]),[g,y]=h.useState(""),[w,x]=h.useState(null),[v,_]=h.useState(null),[N,j]=h.useState(!0),[S,k]=h.useState(!0),[O,E]=h.useState(!0),[T,D]=h.useState(!1),[U,M]=h.useState(!1),[q,P]=h.useState(null),z=h.useRef(null),[I,A]=h.useState(0),B=async()=>{try{const{data:L,error:W}=await R.rpc("calculate_weekly_ranking");if(W)throw W;if(i(L||[]),L&&L.length>0){const X=L.map(_e=>_e.user_id),{data:me,error:Se}=await R.from("profiles").select("*").in("id",X);if(!Se&&me){const _e=me.reduce((he,We)=>(he[We.id]=We,he),{});c(_e)}}}catch(L){console.error("Erro ao carregar ranking:",L)}finally{k(!1)}},te=async()=>{try{const{data:L,error:W}=await R.from("announcements").select("*").order("created_at",{ascending:!1});if(W)throw W;b(L||[])}catch(L){console.error("Erro ao carregar anncios:",L),F.error("Erro ao carregar anncios")}finally{E(!1)}};h.useEffect(()=>{if(t){Y(),B(),te();const L=R.channel("praa-central",{config:{presence:{key:t.id}}});return L.on("presence",{event:"sync"},()=>{const W=L.presenceState(),me=Object.values(W).flat().reduce((Se,_e)=>(Se.find(he=>he.user_id===_e.user_id)||Se.push(_e),Se),[]);d(me)}).on("presence",{event:"join"},({key:W,newPresences:X})=>{console.log("join",W,X)}).on("presence",{event:"leave"},({key:W,leftPresences:X})=>{console.log("leave",W,X)}).subscribe(async W=>{if(W==="SUBSCRIBED"){const{data:X}=await R.from("profiles").select("*").eq("id",t.id).single();await L.track({user_id:t.id,display_name:X==null?void 0:X.display_name,username:X==null?void 0:X.username,avatar_url:X==null?void 0:X.avatar_url}),X&&m(X)}}),()=>{R.removeChannel(L)}}},[t]),h.useEffect(()=>{(async()=>{if(t)try{const{count:W,error:X}=await R.from("posts").select("id",{count:"exact",head:!0}).eq("user_id",t.id);A(!X&&W!==null?W:0)}catch(W){console.error("Erro ao contar posts do usurio:",W),A(0)}})()},[t]);const Y=async()=>{j(!0);try{const{data:L,error:W}=await R.from("posts").select(`
          *,
          profiles:user_id (*)
        `).order("created_at",{ascending:!1}).limit(20);if(W)throw W;if(L)if(t){const X=L.map(he=>he.id);let me=new Set,Se=new Map;if(X.length>0){try{const{data:he}=await R.from("post_likes").select("post_id").eq("user_id",t.id).in("post_id",X);he&&(me=new Set(he.map(We=>We.post_id)))}catch{console.log("Could not fetch likes")}try{const{data:he}=await R.from("post_reactions").select("post_id, type").eq("user_id",t.id).in("post_id",X);he&&(Se=new Map(he.map(We=>[We.post_id,We.type])))}catch{console.log("Could not fetch reactions")}}const _e=L.map(he=>({...he,user_liked:me.has(he.id),user_reaction:Se.get(he.id)||null}));s(_e)}else s(L)}catch(L){console.error("Erro ao carregar posts:",L),F.error("Erro ao carregar posts")}finally{j(!1)}},ne=async(L,W)=>{try{const{data:X}=await R.auth.getUser(),me=X==null?void 0:X.user;if(!me){F.error("Voc precisa estar autenticado para reagir.");return}try{const{data:Se}=await R.from("post_reactions").select("id, type").eq("post_id",L).eq("user_id",me.id).limit(1),_e=Se==null?void 0:Se[0];if(_e&&_e.type===W){const{error:he}=await R.from("post_reactions").delete().eq("id",_e.id);if(he)throw he;s(We=>We.map(ut=>ut.id===L?{...ut,user_reaction:null}:ut)),F.success("Reao removida")}else if(_e){const{error:he}=await R.from("post_reactions").update({type:W}).eq("id",_e.id);if(he)throw he;s(We=>We.map(ut=>ut.id===L?{...ut,user_reaction:W}:ut)),F.success("Reao atualizada!")}else{const{error:he}=await R.from("post_reactions").insert({post_id:L,user_id:me.id,type:W});if(he)throw he;s(We=>We.map(ut=>ut.id===L?{...ut,user_reaction:W}:ut)),F.success(`Reagiu com ${W}!`)}}catch(Se){console.error("post_reactions table not available:",Se),F.error("Sistema de reaes temporariamente indisponvel")}}catch(X){console.error("Erro ao reagir:",X),F.error("No foi possvel registrar a reao")}},re=L=>{var X;const W=(X=L.target.files)==null?void 0:X[0];if(W){if(W.size>5*1024*1024){F.error("Imagem muito grande. Mximo 5MB.");return}x(W);const me=new FileReader;me.onloadend=()=>{_(me.result)},me.readAsDataURL(W)}},oe=()=>{x(null),_(null),z.current&&(z.current.value="")},pe=async()=>{if(!(!g.trim()&&!w||!t)){D(!0);try{let L=null;if(w){M(!0);const me=w.name.split(".").pop(),Se=`${t.id}/${Date.now()}.${me}`;try{const{error:_e}=await R.storage.from("post-images").upload(Se,w);if(_e)throw _e;const{data:{publicUrl:he}}=R.storage.from("post-images").getPublicUrl(Se);L=he}catch(_e){console.error("Erro ao enviar imagem para Storage:",_e);const he=(_e==null?void 0:_e.status)??(_e==null?void 0:_e.code);he===404?F.error("Bucket 'post-images' no existe no projeto Supabase."):he===401||he===403?F.error("Sem permisso para enviar imagem. Verifique polticas do Storage."):F.error("Erro ao enviar imagem. Tente novamente."),M(!1),D(!1);return}finally{M(!1)}}const W={content:g.trim()||"",image_url:L,user_id:t.id,author_id:t.id},{error:X}=await R.from("posts").insert(W);if(X){const me=X.message||"Erro ao criar post";throw console.error("Erro ao criar post:",X),F.error(me),X}y(""),x(null),_(null),z.current&&(z.current.value=""),F.success(" Post criado! +2 pontos de cidadania"),Y()}catch(L){if(L){const W=(L==null?void 0:L.message)||(L==null?void 0:L.error_description)||"Erro ao criar post";console.error("Erro ao criar post (geral):",L),F.error(W)}else F.error("Erro ao criar post")}finally{D(!1),M(!1)}}},Q=L=>{const W=`${window.location.origin}/feed?post=${L}`;navigator.clipboard.writeText(W),F.success("Link copiado para a rea de transferncia!")};if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!t)return a.jsx(Qa,{to:"/auth",replace:!0});const we=C$();return a.jsxs("div",{className:"min-h-screen py-4 sm:py-8",children:[a.jsxs("div",{className:"container mx-auto",children:[a.jsx(H,{className:"mb-6 bg-gradient-to-r from-primary/10 via-accent/10 to-secondary/10 border-primary/30",children:a.jsxs($e,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(we.icon,{className:"w-6 h-6 text-primary"}),a.jsx("h2",{className:"text-xl font-bold",children:we.text})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:we.message}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-background/50 rounded-lg p-3",children:[a.jsx(vt,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{children:[a.jsx("strong",{children:u.length})," cidados online agora"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-background/50 rounded-lg p-3",children:[a.jsx(ed,{className:"w-4 h-4 text-blue-500"}),a.jsxs("span",{children:[a.jsx("strong",{children:n.length})," conversas na praa"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-background/50 rounded-lg p-3",children:[a.jsx(ir,{className:"w-4 h-4 text-amber-500"}),a.jsx("span",{children:"Ranking atualizado hoje"})]})]})]})}),a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm border-primary/20 mb-6 overflow-hidden",children:[a.jsx(Ye,{className:"pb-2",children:a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"w-5 h-5"}),"Luzes da Cidade"]})}),a.jsx($e,{className:"px-0 sm:px-6",children:a.jsx(w$,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-8",children:[a.jsx("aside",{className:"hidden lg:block",children:a.jsxs("div",{className:"sticky top-24 space-y-6",children:[a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm border-primary/20",children:[a.jsx(Ye,{children:a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(vt,{className:"w-5 h-5"}),"Cidados Online"]})}),a.jsx($e,{children:u.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ningum online no momento."}):a.jsx("ul",{className:"space-y-2",children:u.map(L=>a.jsx("li",{children:a.jsxs(Ie,{to:`/profile/${L.username}`,className:"flex items-center gap-3 hover:bg-primary/10 p-2 rounded-lg transition-all hover:scale-105",children:[a.jsxs("div",{className:"relative",children:[L.avatar_url?a.jsx("img",{src:L.avatar_url,alt:L.display_name,className:"w-10 h-10 rounded-full object-cover shadow-md"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold shadow-md",children:L.display_name.charAt(0).toUpperCase()}),a.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 block h-3 w-3 rounded-full bg-green-500 ring-2 ring-background animate-pulse"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:L.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",L.username]})]})]})},`${L.user_id}-${L.presence_ref||""}`))})})]}),a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm border-primary/20 overflow-hidden shadow-elevated",children:[a.jsx("div",{className:"relative h-20 bg-gradient-to-r from-primary/10 via-accent/10 to-secondary/10"}),a.jsxs("div",{className:"flex flex-col items-center -mt-10 pb-4 px-4",children:[a.jsx("div",{onClick:()=>e("profile"),className:"relative cursor-pointer",children:f!=null&&f.avatar_url?a.jsx("img",{src:f.avatar_url,alt:f.display_name||"",className:"w-20 h-20 rounded-full object-cover border-4 border-background shadow-lg"}):a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold border-4 border-background shadow-lg",children:a.jsx("span",{className:"text-3xl",children:(J=f==null?void 0:f.display_name)==null?void 0:J.charAt(0).toUpperCase()})})}),a.jsxs("div",{onClick:()=>e("profile"),className:"text-center mt-2 hover:underline cursor-pointer",children:[a.jsx("p",{className:"font-semibold text-lg",children:f==null?void 0:f.display_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",f==null?void 0:f.username]})]})]}),a.jsxs("div",{className:"border-t border-border/50 px-4 py-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center text-muted-foreground hover:bg-muted/50 p-2 rounded-md -mx-2",children:[a.jsx("span",{children:"Visualizaes do perfil"}),a.jsx("span",{className:"font-bold text-primary",children:"123"})]}),a.jsxs("div",{className:"flex justify-between items-center text-muted-foreground hover:bg-muted/50 p-2 rounded-md -mx-2",children:[a.jsx("span",{children:"Posts na Praa"}),a.jsx("span",{className:"font-bold text-primary",children:I})]})]}),a.jsx("div",{className:"border-t border-border/50 px-4 py-3",children:a.jsx($,{variant:"outline",className:"w-full",onClick:()=>e("profile"),children:"Ver meu perfil"})})]}),a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm border-primary/20 shadow-elevated",children:[a.jsx(Ye,{children:a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"w-5 h-5 text-secondary"}),"Acesso Rpido"]})}),a.jsx($e,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(Ie,{to:"/dashboard",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Praa Central"})}),a.jsx(Ie,{to:"/explore",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Explorar"})}),a.jsx(Ie,{to:"/city-hall",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Prefeitura"})}),a.jsx(Ie,{to:"/clubs",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Clubes"})}),a.jsx(Ie,{to:"/cinema",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Cinema"})}),a.jsx(Ie,{to:"/messages",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Mensagens"})}),a.jsx(Ie,{to:"/profile",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Meu Perfil"})}),a.jsx(Ie,{to:"/privacy-settings",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Privacidade"})}),a.jsx(Ie,{to:"/moderation",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Moderao"})}),a.jsx(Ie,{to:"/terms",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Termos"})}),a.jsx(Ie,{to:"/privacy",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Privacidade"})}),a.jsx(Ie,{to:"/",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Incio"})})]})})]})]})}),a.jsxs("main",{className:"lg:col-span-2",children:[a.jsxs(H,{className:"p-6 mb-8 shadow-elevated border-2 border-primary/30 bg-gradient-to-br from-card/95 to-secondary/5 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-orkut rounded-full flex items-center justify-center shadow-glow",children:a.jsx(zl,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Coreto Digital"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"O pulso da cidade em tempo real"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-pink-500/10 to-pink-600/5 rounded-lg p-4 hover:from-pink-500/20 hover:to-pink-600/10 transition-all border border-pink-500/20 hover:border-pink-500/40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(YP,{className:"w-5 h-5 text-pink-500"}),a.jsx("p",{className:"font-semibold text-sm",children:"Aniversariantes"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0 pessoas fazendo aniversrio hoje "})]}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-amber-600/5 rounded-lg p-4 hover:from-amber-500/20 hover:to-amber-600/10 transition-all border border-amber-500/20 hover:border-amber-500/40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ir,{className:"w-5 h-5 text-amber-500"}),a.jsx("p",{className:"font-semibold text-sm",children:"Conquistas"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Nenhuma conquista recente "})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 rounded-lg p-4 hover:from-blue-500/20 hover:to-blue-600/10 transition-all border border-blue-500/20 hover:border-blue-500/40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(sT,{className:"w-5 h-5 text-orange-500"}),a.jsx("p",{className:"font-semibold text-sm",children:"Em Alta"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Seja o primeiro a postar! "})]})]})]}),a.jsxs(H,{className:"p-6 mb-8 shadow-elevated bg-gradient-to-br from-card/95 to-primary/5 backdrop-blur-sm rounded-xl border-2 border-primary/20 hover:border-primary/40 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Mn,{className:"w-5 h-5 text-primary"}),a.jsx("h3",{className:"font-semibold text-lg bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"O que est acontecendo na praa?"})]}),a.jsx(Bt,{placeholder:"Compartilhe algo com a comunidade... ",value:g,onChange:L=>y(L.target.value),className:"mb-4 min-h-[100px] border-primary/30 focus:border-primary/60"}),v&&a.jsxs("div",{className:"relative mb-4 bg-muted rounded-lg",children:[a.jsx("img",{src:v,alt:"Preview",className:"max-h-96 rounded-lg object-contain w-full"}),a.jsx($,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:oe,children:a.jsx(Wn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:z,type:"file",accept:"image/*",className:"hidden",onChange:re}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>{var L;return(L=z.current)==null?void 0:L.click()},disabled:U,children:[U?a.jsx(Fl,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx($o,{className:"w-4 h-4 mr-2"}),"Foto"]})]}),a.jsxs($,{onClick:pe,disabled:!g.trim()&&!w||T||U,className:"bg-gradient-orkut hover:opacity-90 shadow-md hover:shadow-glow transition-all",children:[T?a.jsx(Fl,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(La,{className:"w-4 h-4 mr-2"}),"Publicar na Praa"]})]})]}),a.jsx("div",{className:"space-y-6",children:N?a.jsxs(H,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando posts..."})]}):n.length===0?a.jsx(H,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Nenhum post ainda. Seja o primeiro a compartilhar algo!"})}):n.map(L=>{var W;return a.jsx(H,{className:"p-6 shadow-card hover:shadow-elevated transition-all bg-card/95 backdrop-blur-sm rounded-xl border-l-4 border-l-primary/30",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Ie,{to:`/profile/${L.profiles.username}`,className:"flex-shrink-0",children:L.profiles.avatar_url?a.jsx("img",{src:L.profiles.avatar_url,alt:L.profiles.display_name||"",className:"w-12 h-12 rounded-full object-cover hover:scale-110 transition-transform shadow-md"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold hover:scale-110 transition-transform shadow-md",children:(W=L.profiles.display_name)==null?void 0:W.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsx(Ie,{to:`/profile/${L.profiles.username}`,className:"hover:underline",children:a.jsx("h4",{className:"font-semibold",children:L.profiles.display_name})}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",L.profiles.username]}),a.jsx(N$,{type:L.badge||S$(),size:"sm"})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs text-muted-foreground",children:[a.jsx("span",{children:k$(L.created_at)}),a.jsx("span",{children:""}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(zl,{className:"w-3 h-3"}),"na Praa Central"]})]}),L.content&&a.jsx("p",{className:"text-foreground mb-4 whitespace-pre-wrap break-words",children:L.content}),L.image_url&&a.jsx("div",{className:"bg-muted rounded-lg mb-4",children:a.jsx("img",{src:L.image_url,alt:"Post image",className:"rounded-lg max-h-[500px] w-full object-contain"})}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx(_$,{postId:L.id,selectedReaction:L.user_reaction,onReact:X=>ne(L.id,X)}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2 hover:scale-110 transition-transform",onClick:()=>P(L.id),children:[a.jsx(ed,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:[L.comments_count||0," conversas"]})]}),a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2 hover:scale-110 transition-transform",onClick:()=>Q(L.id),children:[a.jsx(M1,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Compartilhar"})]})]})]})]})]})},L.id)})})]}),a.jsx("aside",{className:"hidden lg:block",children:a.jsxs("div",{className:"sticky top-24 space-y-6",children:[a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm border-primary/20 shadow-elevated",children:[a.jsxs(Ye,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"w-5 h-5 text-amber-500"}),"Ranking da Semana"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" Os mais ativos da Cidade Orkadia"})]}),a.jsx($e,{children:S?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):o.length===0?a.jsxs("div",{className:"text-center py-4",children:[a.jsx(ir,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ningum no ranking ainda."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Seja o primeiro a ganhar pontos!"})]}):a.jsx("ul",{className:"space-y-3",children:o.map((L,W)=>{const X=l[L.user_id];if(!X)return null;const me=["from-amber-400 to-amber-600","from-slate-300 to-slate-500","from-amber-600 to-amber-800"];return a.jsxs("li",{className:`flex items-center gap-3 p-2 rounded-lg transition-all hover:bg-primary/5 ${W<3?"bg-gradient-to-r "+me[W]+" bg-opacity-10":""}`,children:[a.jsx("span",{className:`font-bold text-lg flex items-center justify-center w-8 h-8 rounded-full ${W===0?"bg-gradient-to-br from-amber-400 to-amber-600 text-white shadow-glow":W===1?"bg-gradient-to-br from-slate-300 to-slate-500 text-white":W===2?"bg-gradient-to-br from-amber-600 to-amber-800 text-white":"bg-muted text-muted-foreground"}`,children:W<3?a.jsx(ir,{className:"w-4 h-4"}):W+1}),a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold text-sm shadow-md",children:X.display_name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:X.display_name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.score," pontos"]}),W===0&&a.jsx("span",{className:"text-xs",children:" Estrela da Semana"})]})]})]},L.user_id)})})})]}),a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm border-primary/20 shadow-elevated",children:[a.jsxs(Ye,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(gl,{className:"w-5 h-5 text-primary"}),"Mural da Cidade"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" Avisos e novidades oficiais"})]}),a.jsx($e,{children:O?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):p.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum anncio no momento."}):a.jsx("ul",{className:"space-y-4",children:p.map(L=>a.jsxs("li",{className:"border-l-4 border-primary pl-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(gl,{className:"w-4 h-4 text-primary"}),a.jsx("h4",{className:"font-semibold text-sm",children:L.title})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:L.content})]},L.id))})})]})]})})]})]}),a.jsx(e$,{postId:q||"",isOpen:!!q,onClose:()=>P(null)})]})},P$=Hd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ct({className:e,variant:t,...r}){return a.jsx("div",{className:le(P$({variant:t}),e),...r})}var T$="Separator",p0="horizontal",R$=["horizontal","vertical"],OS=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=p0,...s}=e,o=O$(n)?n:p0,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(de.div,{"data-orientation":o,...l,...s,ref:t})});OS.displayName=T$;function O$(e){return R$.includes(e)}var AS=OS;const ku=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(AS,{ref:s,decorative:r,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ku.displayName=AS.displayName;function A$(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var M$=[" ","Enter","ArrowUp","ArrowDown"],I$=[" ","Enter"],Va="Select",[wf,bf,D$]=qd(Va),[Di]=sr(Va,[D$,Js]),_f=Js(),[L$,sa]=Di(Va),[$$,F$]=Di(Va),MS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:b}=e,g=_f(t),[y,w]=h.useState(null),[x,v]=h.useState(null),[_,N]=h.useState(!1),j=pc(u),[S,k]=Us({prop:n,defaultProp:s??!1,onChange:o,caller:Va}),[O,E]=Us({prop:i,defaultProp:l,onChange:c,caller:Va}),T=h.useRef(null),D=y?b||!!y.closest("form"):!0,[U,M]=h.useState(new Set),q=Array.from(U).map(P=>P.props.value).join(";");return a.jsx(Mg,{...g,children:a.jsxs(L$,{required:p,scope:t,trigger:y,onTriggerChange:w,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:Kr(),value:O,onValueChange:E,open:S,onOpenChange:k,dir:j,triggerPointerDownPosRef:T,disabled:m,children:[a.jsx(wf.Provider,{scope:t,children:a.jsx($$,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(P=>{M(z=>new Set(z).add(P))},[]),onNativeOptionRemove:h.useCallback(P=>{M(z=>{const I=new Set(z);return I.delete(P),I})},[]),children:r})}),D?a.jsxs(sk,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:P=>E(P.target.value),disabled:m,form:b,children:[O===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},q):null]})})};MS.displayName=Va;var IS="SelectTrigger",DS=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=_f(r),i=sa(IS,r),l=i.disabled||n,c=Ne(t,i.onTriggerChange),u=bf(r),d=h.useRef("touch"),[f,m,p]=ok(g=>{const y=u().filter(v=>!v.disabled),w=y.find(v=>v.value===i.value),x=ik(y,g,w);x!==void 0&&i.onValueChange(x.value)}),b=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(mc,{asChild:!0,...o,children:a.jsx(de.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ak(i.value)?"":void 0,...s,ref:c,onClick:G(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:G(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:G(s.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(y&&g.key===" ")&&M$.includes(g.key)&&(b(),g.preventDefault())})})})});DS.displayName=IS;var LS="SelectValue",$S=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=sa(LS,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Ne(t,c.onValueNodeChange);return at(()=>{u(d)},[u,d]),a.jsx(de.span,{...l,ref:f,style:{pointerEvents:"none"},children:ak(c.value)?a.jsx(a.Fragment,{children:i}):o})});$S.displayName=LS;var z$="SelectIcon",FS=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(de.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});FS.displayName=z$;var U$="SelectPortal",zS=e=>a.jsx(Si,{asChild:!0,...e});zS.displayName=U$;var Wa="SelectContent",US=h.forwardRef((e,t)=>{const r=sa(Wa,e.__scopeSelect),[n,s]=h.useState();if(at(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Xs.createPortal(a.jsx(BS,{scope:e.__scopeSelect,children:a.jsx(wf.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(qS,{...e,ref:t})});US.displayName=Wa;var $r=10,[BS,aa]=Di(Wa),B$="SelectContentImpl",q$=zs("SelectContent.RemoveScroll"),qS=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:g,avoidCollisions:y,...w}=e,x=sa(Wa,r),[v,_]=h.useState(null),[N,j]=h.useState(null),S=Ne(t,Q=>_(Q)),[k,O]=h.useState(null),[E,T]=h.useState(null),D=bf(r),[U,M]=h.useState(!1),q=h.useRef(!1);h.useEffect(()=>{if(v)return of(v)},[v]),sf();const P=h.useCallback(Q=>{const[we,...J]=D().map(X=>X.ref.current),[L]=J.slice(-1),W=document.activeElement;for(const X of Q)if(X===W||(X==null||X.scrollIntoView({block:"nearest"}),X===we&&N&&(N.scrollTop=0),X===L&&N&&(N.scrollTop=N.scrollHeight),X==null||X.focus(),document.activeElement!==W))return},[D,N]),z=h.useCallback(()=>P([k,v]),[P,k,v]);h.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:I,triggerPointerDownPosRef:A}=x;h.useEffect(()=>{if(v){let Q={x:0,y:0};const we=L=>{var W,X;Q={x:Math.abs(Math.round(L.pageX)-(((W=A.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(L.pageY)-(((X=A.current)==null?void 0:X.y)??0))}},J=L=>{Q.x<=10&&Q.y<=10?L.preventDefault():v.contains(L.target)||I(!1),document.removeEventListener("pointermove",we),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",J,{capture:!0})}}},[v,I,A]),h.useEffect(()=>{const Q=()=>I(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[I]);const[B,te]=ok(Q=>{const we=D().filter(W=>!W.disabled),J=we.find(W=>W.ref.current===document.activeElement),L=ik(we,Q,J);L&&setTimeout(()=>L.ref.current.focus())}),Y=h.useCallback((Q,we,J)=>{const L=!q.current&&!J;(x.value!==void 0&&x.value===we||L)&&(O(Q),L&&(q.current=!0))},[x.value]),ne=h.useCallback(()=>v==null?void 0:v.focus(),[v]),re=h.useCallback((Q,we,J)=>{const L=!q.current&&!J;(x.value!==void 0&&x.value===we||L)&&T(Q)},[x.value]),oe=n==="popper"?vp:VS,pe=oe===vp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:g,avoidCollisions:y}:{};return a.jsx(BS,{scope:r,content:v,viewport:N,onViewportChange:j,itemRefCallback:Y,selectedItem:k,onItemLeave:ne,itemTextRefCallback:re,focusSelectedItem:z,selectedItemText:E,position:n,isPositioned:U,searchRef:B,children:a.jsx(xc,{as:q$,allowPinchZoom:!0,children:a.jsx(gc,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:G(s,Q=>{var we;(we=x.trigger)==null||we.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx(Ga,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...w,...pe,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:G(w.onKeyDown,Q=>{const we=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!we&&Q.key.length===1&&te(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let L=D().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const W=Q.target,X=L.indexOf(W);L=L.slice(X+1)}setTimeout(()=>P(L)),Q.preventDefault()}})})})})})})});qS.displayName=B$;var V$="SelectItemAlignedPosition",VS=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=sa(Wa,r),i=aa(Wa,r),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Ne(t,S=>d(S)),m=bf(r),p=h.useRef(!1),b=h.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:w,focusSelectedItem:x}=i,v=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&y&&w){const S=o.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),E=w.getBoundingClientRect();if(o.dir!=="rtl"){const W=E.left-k.left,X=O.left-W,me=S.left-X,Se=S.width+me,_e=Math.max(Se,k.width),he=window.innerWidth-$r,We=gp(X,[$r,Math.max($r,he-_e)]);l.style.minWidth=Se+"px",l.style.left=We+"px"}else{const W=k.right-E.right,X=window.innerWidth-O.right-W,me=window.innerWidth-S.right-X,Se=S.width+me,_e=Math.max(Se,k.width),he=window.innerWidth-$r,We=gp(X,[$r,Math.max($r,he-_e)]);l.style.minWidth=Se+"px",l.style.right=We+"px"}const T=m(),D=window.innerHeight-$r*2,U=g.scrollHeight,M=window.getComputedStyle(u),q=parseInt(M.borderTopWidth,10),P=parseInt(M.paddingTop,10),z=parseInt(M.borderBottomWidth,10),I=parseInt(M.paddingBottom,10),A=q+P+U+I+z,B=Math.min(y.offsetHeight*5,A),te=window.getComputedStyle(g),Y=parseInt(te.paddingTop,10),ne=parseInt(te.paddingBottom,10),re=S.top+S.height/2-$r,oe=D-re,pe=y.offsetHeight/2,Q=y.offsetTop+pe,we=q+P+Q,J=A-we;if(we<=re){const W=T.length>0&&y===T[T.length-1].ref.current;l.style.bottom="0px";const X=u.clientHeight-g.offsetTop-g.offsetHeight,me=Math.max(oe,pe+(W?ne:0)+X+z),Se=we+me;l.style.height=Se+"px"}else{const W=T.length>0&&y===T[0].ref.current;l.style.top="0px";const me=Math.max(re,q+g.offsetTop+(W?Y:0)+pe)+J;l.style.height=me+"px",g.scrollTop=we-re+g.offsetTop}l.style.margin=`${$r}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,u,g,y,w,o.dir,n]);at(()=>v(),[v]);const[_,N]=h.useState();at(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=h.useCallback(S=>{S&&b.current===!0&&(v(),x==null||x(),b.current=!1)},[v,x]);return a.jsx(H$,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(de.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VS.displayName=V$;var W$="SelectPopperPosition",vp=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=$r,...o}=e,i=_f(r);return a.jsx(Xd,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vp.displayName=W$;var[H$,hv]=Di(Wa,{}),xp="SelectViewport",WS=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=aa(xp,r),i=hv(xp,r),l=Ne(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(wf.Slot,{scope:r,children:a.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:G(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-$r*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),w=Math.max(g,y);if(w<b){const x=w+p,v=Math.min(b,x),_=x-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});WS.displayName=xp;var HS="SelectGroup",[K$,G$]=Di(HS),Q$=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Kr();return a.jsx(K$,{scope:r,id:s,children:a.jsx(de.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Q$.displayName=HS;var KS="SelectLabel",GS=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=G$(KS,r);return a.jsx(de.div,{id:s.id,...n,ref:t})});GS.displayName=KS;var bd="SelectItem",[Y$,QS]=Di(bd),YS=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=sa(bd,r),c=aa(bd,r),u=l.value===n,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),b=Ne(t,x=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,x,n,s)}),g=Kr(),y=h.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Y$,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:h.useCallback(x=>{f(v=>v||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(wf.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(de.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:G(i.onFocus,()=>p(!0)),onBlur:G(i.onBlur,()=>p(!1)),onClick:G(i.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:G(i.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:G(i.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:G(i.onPointerMove,x=>{var v;y.current=x.pointerType,s?(v=c.onItemLeave)==null||v.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(i.onPointerLeave,x=>{var v;x.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:G(i.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(I$.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});YS.displayName=bd;var sl="SelectItemText",ZS=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=sa(sl,r),l=aa(sl,r),c=QS(sl,r),u=F$(sl,r),[d,f]=h.useState(null),m=Ne(t,w=>f(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,b=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return at(()=>(g(b),()=>y(b)),[g,y,b]),a.jsxs(a.Fragment,{children:[a.jsx(de.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Xs.createPortal(o.children,i.valueNode):null]})});ZS.displayName=sl;var XS="SelectItemIndicator",JS=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return QS(XS,r).isSelected?a.jsx(de.span,{"aria-hidden":!0,...n,ref:t}):null});JS.displayName=XS;var yp="SelectScrollUpButton",ek=h.forwardRef((e,t)=>{const r=aa(yp,e.__scopeSelect),n=hv(yp,e.__scopeSelect),[s,o]=h.useState(!1),i=Ne(t,n.onScrollButtonChange);return at(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(rk,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ek.displayName=yp;var wp="SelectScrollDownButton",tk=h.forwardRef((e,t)=>{const r=aa(wp,e.__scopeSelect),n=hv(wp,e.__scopeSelect),[s,o]=h.useState(!1),i=Ne(t,n.onScrollButtonChange);return at(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(rk,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});tk.displayName=wp;var rk=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=aa("SelectScrollButton",r),i=h.useRef(null),l=bf(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),at(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(de.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:G(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:G(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:G(s.onPointerLeave,()=>{c()})})}),Z$="SelectSeparator",nk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(de.div,{"aria-hidden":!0,...n,ref:t})});nk.displayName=Z$;var bp="SelectArrow",X$=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=_f(r),o=sa(bp,r),i=aa(bp,r);return o.open&&i.position==="popper"?a.jsx(Jd,{...s,...n,ref:t}):null});X$.displayName=bp;var J$="SelectBubbleInput",sk=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=Ne(n,s),i=A$(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(de.select,{...r,style:{...r1,...r.style},ref:o,defaultValue:t})});sk.displayName=J$;function ak(e){return e===""||e===void 0}function ok(e){const t=tt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function ik(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=e6(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function e6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var t6=MS,lk=DS,r6=$S,n6=FS,s6=zS,ck=US,a6=WS,uk=GS,dk=YS,o6=ZS,i6=JS,fk=ek,hk=tk,mk=nk;const Jl=t6,ec=r6,yi=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(lk,{ref:n,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(n6,{asChild:!0,children:a.jsx(C1,{className:"h-4 w-4 opacity-50"})})]}));yi.displayName=lk.displayName;const pk=h.forwardRef(({className:e,...t},r)=>a.jsx(fk,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(ZP,{className:"h-4 w-4"})}));pk.displayName=fk.displayName;const gk=h.forwardRef(({className:e,...t},r)=>a.jsx(hk,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(C1,{className:"h-4 w-4"})}));gk.displayName=hk.displayName;const wi=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(s6,{children:a.jsxs(ck,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(pk,{}),a.jsx(a6,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(gk,{})]})}));wi.displayName=ck.displayName;const l6=h.forwardRef(({className:e,...t},r)=>a.jsx(uk,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));l6.displayName=uk.displayName;const hn=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(dk,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i6,{children:a.jsx(bg,{className:"h-4 w-4"})})}),a.jsx(o6,{children:t})]}));hn.displayName=dk.displayName;const c6=h.forwardRef(({className:e,...t},r)=>a.jsx(mk,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));c6.displayName=mk.displayName;const u6={welcome:"Bem-vindo(a)  Orkadia!",first_scrap:"Primeiro Recado",photographer:"Fotgrafo",decorator:"Decorador",musician:"Msico",writer:"Escritor",social:"Socialite",friendly:"Amigvel",commentator:"Comentarista",collector:"Colecionador",popular:"Popular",influencer:"Influencer",engaged:"Engajado",explorer:"Explorador",cinephile:"Cinfilo"},mv=()=>{const e=async(l,c)=>{try{const{data:u,error:d}=await R.from("achievements").select("*").eq("name",u6[c]).single();if(d||!u){console.error("Achievement not found:",c);return}const{data:f}=await R.from("user_achievements").select("*").eq("user_id",l).eq("achievement_id",u.id).single();if(f)return;const{error:m}=await R.from("user_achievements").insert({user_id:l,achievement_id:u.id});if(m)throw m;const{data:p}=await R.from("profiles").select("points").eq("id",l).single();if(p){const{error:b}=await R.from("profiles").update({points:(p.points||0)+u.points}).eq("id",l);if(b)throw b}if(F.success(" Novo Trofu Desbloqueado!",{description:`${u.name} (+${u.points} pontos)`,duration:5e3}),c!=="collector"){const{data:b}=await R.from("user_achievements").select("*").eq("user_id",l);b&&b.length>=5&&await e(l,"collector")}}catch(u){console.error("Error granting achievement:",u)}};return{grantAchievement:e,checkFirstScrap:async l=>{const{data:c}=await R.from("scraps").select("id").eq("from_user_id",l).limit(1);c&&c.length===1&&await e(l,"first_scrap")},checkPhotographer:async l=>{const{data:c}=await R.from("profiles").select("avatar_url").eq("id",l).single();c!=null&&c.avatar_url&&await e(l,"photographer")},checkDecorator:async l=>{const{data:c}=await R.from("profiles").select("house_background").eq("id",l).single();c!=null&&c.house_background&&await e(l,"decorator")},checkMusician:async l=>{const{data:c}=await R.from("profiles").select("house_music").eq("id",l).single();c!=null&&c.house_music&&await e(l,"musician")},checkWriter:async l=>{const{data:c}=await R.from("profiles").select("bio").eq("id",l).single();c!=null&&c.bio&&c.bio.length>=20&&await e(l,"writer")},checkFirstPost:async l=>{const{data:c}=await R.from("posts").select("id").eq("user_id",l).limit(1);c&&c.length===1&&await e(l,"social")}}},d6=[{value:"default",label:"Padro"},{value:"sunset",label:"Pr do Sol"},{value:"ocean",label:"Oceano"},{value:"forest",label:"Floresta"},{value:"desert",label:"Deserto"},{value:"nordeste",label:"Nordestino"}],f6=({open:e,onOpenChange:t,profile:r,onProfileUpdate:n})=>{const{checkWriter:s}=mv(),[o,i]=h.useState((r==null?void 0:r.display_name)||""),[l,c]=h.useState((r==null?void 0:r.username)||""),[u,d]=h.useState((r==null?void 0:r.bio)||""),[f,m]=h.useState((r==null?void 0:r.house_theme)||"default"),[p,b]=h.useState((r==null?void 0:r.city)||""),[g,y]=h.useState((r==null?void 0:r.country)||""),[w,x]=h.useState(!1),v=async()=>{var _;if(r){if(!o.trim()||!l.trim()){F.error("Nome e usurio so obrigatrios");return}x(!0);try{const{error:N}=await R.from("profiles").update({display_name:o.trim(),username:l.trim(),bio:u.trim(),house_theme:f,city:p.trim(),country:g.trim()}).eq("id",r.id);if(N)throw N;F.success("Perfil atualizado com sucesso!"),u.trim().length>=20&&await s(r.id),n(),t(!1)}catch(N){console.error("Erro ao atualizar perfil:",N),(_=N.message)!=null&&_.includes("duplicate key")?F.error("Este nome de usurio j est em uso"):F.error("Erro ao atualizar perfil")}finally{x(!1)}}};return a.jsx(mr,{open:e,onOpenChange:t,children:a.jsxs(nr,{className:"sm:max-w-[500px]",children:[a.jsxs(pr,{children:[a.jsx(gr,{children:"Editar Perfil"}),a.jsx(na,{children:"Personalize suas informaes e a aparncia da sua casa virtual"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"displayName",children:"Nome de Exibio"}),a.jsx(yt,{id:"displayName",value:o,onChange:_=>i(_.target.value),placeholder:"Seu nome completo",maxLength:100})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"username",children:"Nome de Usurio"}),a.jsx(yt,{id:"username",value:l,onChange:_=>c(_.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"seunome",maxLength:50}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apenas letras minsculas, nmeros e underline"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"bio",children:"Biografia"}),a.jsx(Bt,{id:"bio",value:u,onChange:_=>d(_.target.value),placeholder:"Conte um pouco sobre voc...",maxLength:500,rows:4}),a.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[u.length,"/500 caracteres"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"city",children:"Cidade"}),a.jsx(yt,{id:"city",value:p,onChange:_=>b(_.target.value),placeholder:"Sua cidade",maxLength:100})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"country",children:"Pas"}),a.jsx(yt,{id:"country",value:g,onChange:_=>y(_.target.value),placeholder:"Seu pas",maxLength:100})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"theme",children:"Tema da Casa"}),a.jsxs(Jl,{value:f,onValueChange:m,children:[a.jsx(yi,{id:"theme",children:a.jsx(ec,{})}),a.jsx(wi,{children:d6.map(_=>a.jsx(hn,{value:_.value,children:_.label},_.value))})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),disabled:w,children:"Cancelar"}),a.jsx($,{onClick:v,disabled:w,className:"bg-gradient-orkut",children:w?"Salvando...":"Salvar Alteraes"})]})]})})},h6=[{name:"Asa Branca - Luiz Gonzaga",url:"https://www.youtube.com/watch?v=lPO1fduUT5Y"},{name:"Feira de Mangaio - Sivuca",url:"https://www.youtube.com/watch?v=r3ygB7pPqQo"},{name:"Xote das Meninas - Luiz Gonzaga",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{name:"Vermelho - Fbio Jr.",url:"https://www.youtube.com/watch?v=J9tFZEWfH3s"}],m6=({open:e,onOpenChange:t,userId:r,currentMusic:n,onMusicUpdate:s})=>{const{checkMusician:o}=mv(),[i,l]=h.useState(n||""),[c,u]=h.useState(!1),d=async()=>{if(r){if(i&&!i.includes("youtube.com")&&!i.includes("youtu.be")){F.error("Por favor, insira uma URL vlida do YouTube");return}u(!0);try{const{error:f}=await R.from("profiles").update({house_music:i.trim()||null}).eq("id",r);if(f)throw f;F.success(i?"Msica da casa atualizada!":"Msica removida"),i&&r&&await o(r),s(),t(!1)}catch(f){console.error("Erro ao atualizar msica:",f),F.error("Erro ao atualizar msica")}finally{u(!1)}}};return a.jsx(mr,{open:e,onOpenChange:t,children:a.jsxs(nr,{className:"sm:max-w-[600px]",children:[a.jsxs(pr,{children:[a.jsxs(gr,{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"w-5 h-5 text-primary"}),"Msica da Casa"]}),a.jsx(na,{children:"Adicione uma msica de fundo para sua casa virtual (YouTube)"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"musicUrl",children:"URL do YouTube"}),a.jsx(yt,{id:"musicUrl",value:i,onChange:f=>l(f.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cole o link de um vdeo do YouTube que voc quer como msica de fundo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{children:"Sugestes Populares"}),a.jsx("div",{className:"grid gap-2",children:h6.map((f,m)=>a.jsx(H,{className:"p-3 hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>l(f.url),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z1,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm",children:f.name})]}),a.jsx(tT,{className:"w-4 h-4 text-muted-foreground"})]})},m))})]}),n&&a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Msica atual:"}),a.jsx("p",{className:"text-sm truncate",children:n})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancelar"}),a.jsx($,{variant:"secondary",onClick:()=>l(""),disabled:c||!i,children:"Remover Msica"}),a.jsx($,{onClick:d,disabled:c,className:"bg-gradient-orkut",children:c?"Salvando...":"Salvar"})]})]})})},p6=({open:e,onOpenChange:t,userId:r,onUploadComplete:n})=>{const[s,o]=h.useState(!1),[i,l]=h.useState([]),[c,u]=h.useState([]),d=h.useRef(null),f=b=>{const g=Array.from(b.target.files||[]);if(g.length+i.length>10){F.error("Mximo de 10 fotos por vez");return}l([...i,...g]);const y=g.map(w=>URL.createObjectURL(w));u([...c,...y])},m=b=>{const g=i.filter((w,x)=>x!==b),y=c.filter((w,x)=>x!==b);URL.revokeObjectURL(c[b]),l(g),u(y)},p=async()=>{if(!(!r||i.length===0)){o(!0);try{const b=i.map(async g=>{const y=g.name.split(".").pop(),w=`${r}-${Date.now()}-${Math.random()}.${y}`,x=`${r}/${w}`,{error:v}=await R.storage.from("post-images").upload(x,g);if(v)throw v;const{data:{publicUrl:_}}=R.storage.from("post-images").getPublicUrl(x);return _});await Promise.all(b),F.success(`${i.length} foto(s) enviada(s) com sucesso!`),c.forEach(g=>URL.revokeObjectURL(g)),l([]),u([]),n(),t(!1)}catch(b){console.error("Erro ao fazer upload:",b),F.error("Erro ao enviar fotos")}finally{o(!1)}}};return a.jsx(mr,{open:e,onOpenChange:t,children:a.jsxs(nr,{className:"sm:max-w-[600px]",children:[a.jsxs(pr,{children:[a.jsxs(gr,{className:"flex items-center gap-2",children:[a.jsx($o,{className:"w-5 h-5 text-accent"}),"Adicionar Fotos ao Quarto"]}),a.jsx(na,{children:"Envie at 10 fotos de uma vez para sua galeria pessoal"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{children:"Selecionar Fotos"}),a.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>{var b;return(b=d.current)==null?void 0:b.click()},children:[a.jsx(Ul,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Clique para selecionar ou arraste arquivos aqui"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP (mx. 5MB por arquivo)"})]}),a.jsx("input",{ref:d,type:"file",accept:"image/*",multiple:!0,onChange:f,className:"hidden"})]}),c.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(pt,{children:["Fotos Selecionadas (",c.length,")"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:c.map((b,g)=>a.jsxs(H,{className:"relative aspect-square overflow-hidden group",children:[a.jsx("img",{src:b,alt:`Preview ${g+1}`,className:"w-full h-full object-cover"}),a.jsx($,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 w-6 h-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>m(g),children:a.jsx(Wn,{className:"w-4 h-4"})})]},g))})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>{c.forEach(b=>URL.revokeObjectURL(b)),l([]),u([]),t(!1)},disabled:s,children:"Cancelar"}),a.jsx($,{onClick:p,disabled:s||i.length===0,className:"bg-gradient-orkut",children:s?"Enviando...":`Enviar ${i.length} Foto(s)`})]})]})})},vk=({open:e,onOpenChange:t})=>{const{user:r}=It(),[n,s]=h.useState([]),[o,i]=h.useState(!0),[l,c]=h.useState(null);h.useEffect(()=>{e&&r&&u()},[e,r]);const u=async()=>{if(r){i(!0);try{const{data:f,error:m}=await R.from("user_blocks").select(`
          id,
          blocked_id,
          created_at,
          reason,
          blocked_profile:profiles!user_blocks_blocked_id_fkey(
            id,
            display_name,
            username,
            avatar_url
          )
        `).eq("blocker_id",r.id).order("created_at",{ascending:!1});if(m)throw m;s(f||[])}catch(f){console.error("Erro ao carregar usurios bloqueados:",f),F.error("Erro ao carregar lista de bloqueados")}finally{i(!1)}}},d=async(f,m)=>{c(f);try{const{error:p}=await R.from("user_blocks").delete().eq("id",f);if(p)throw p;F.success(`${m} foi desbloqueado(a)`),s(b=>b.filter(g=>g.id!==f))}catch(p){console.error("Erro ao desbloquear:",p),F.error("Erro ao desbloquear usurio")}finally{c(null)}};return a.jsx(mr,{open:e,onOpenChange:t,children:a.jsxs(nr,{className:"sm:max-w-lg",children:[a.jsxs(pr,{children:[a.jsxs(gr,{className:"flex items-center gap-2",children:[a.jsx(td,{className:"w-5 h-5 text-muted-foreground"}),"Usurios Bloqueados"]}),a.jsx(na,{children:"Gerencie os usurios que voc bloqueou. Desbloqueie para voltar a ver o perfil e interagir."})]}),a.jsx(Ii,{className:"max-h-[400px]",children:o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Fl,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx($1,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhum usurio bloqueado"})]}):a.jsx("div",{className:"space-y-3",children:n.map(f=>{var m,p,b,g,y;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(bt,{className:"w-10 h-10",children:[a.jsx(_t,{src:((m=f.blocked_profile)==null?void 0:m.avatar_url)||void 0}),a.jsx(jt,{className:"bg-gradient-orkut text-primary-foreground",children:((b=(p=f.blocked_profile)==null?void 0:p.display_name)==null?void 0:b.charAt(0).toUpperCase())||"?"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:(g=f.blocked_profile)==null?void 0:g.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",(y=f.blocked_profile)==null?void 0:y.username]}),f.reason&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:["Motivo: ",f.reason]})]})]}),a.jsx($,{variant:"outline",size:"sm",onClick:()=>{var w;return d(f.id,(w=f.blocked_profile)==null?void 0:w.display_name)},disabled:l===f.id,children:l===f.id?a.jsx(Fl,{className:"w-4 h-4 animate-spin"}):"Desbloquear"})]},f.id)})})})]})})};var jf="Tabs",[g6]=sr(jf,[af]),xk=af(),[v6,pv]=g6(jf),yk=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=pc(l),[f,m]=Us({prop:n,onChange:s,defaultProp:o??"",caller:jf});return a.jsx(v6,{scope:r,baseId:Kr(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:a.jsx(de.div,{dir:d,"data-orientation":i,...u,ref:t})})});yk.displayName=jf;var wk="TabsList",bk=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=pv(wk,r),i=xk(r);return a.jsx(sj,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(de.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});bk.displayName=wk;var _k="TabsTrigger",jk=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=pv(_k,r),l=xk(r),c=kk(i.baseId,n),u=Ck(i.baseId,n),d=n===i.value;return a.jsx(aj,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:G(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:G(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:G(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});jk.displayName=_k;var Nk="TabsContent",Sk=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=pv(Nk,r),c=kk(l.baseId,n),u=Ck(l.baseId,n),d=n===l.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Ct,{present:s||d,children:({present:m})=>a.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});Sk.displayName=Nk;function kk(e,t){return`${e}-trigger-${t}`}function Ck(e,t){return`${e}-content-${t}`}var x6=yk,Ek=bk,Pk=jk,Tk=Sk;const Ja=x6,Bn=h.forwardRef(({className:e,...t},r)=>a.jsx(Ek,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bn.displayName=Ek.displayName;const Ge=h.forwardRef(({className:e,...t},r)=>a.jsx(Pk,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ge.displayName=Pk.displayName;const At=h.forwardRef(({className:e,...t},r)=>a.jsx(Tk,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));At.displayName=Tk.displayName;const y6=({photos:e,initialIndex:t,open:r,onOpenChange:n,onDelete:s,canDelete:o=!1})=>{const[i,l]=h.useState(t);h.useEffect(()=>{l(t)},[t]);const c=()=>{l(m=>m===0?e.length-1:m-1)},u=()=>{l(m=>m===e.length-1?0:m+1)},d=m=>{m.key==="ArrowLeft"&&c(),m.key==="ArrowRight"&&u(),m.key==="Escape"&&n(!1)};if(h.useEffect(()=>{if(r)return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[r,i]),e.length===0)return null;const f=e[i];return a.jsx(mr,{open:r,onOpenChange:n,children:a.jsx(nr,{className:"max-w-[95vw] max-h-[95vh] p-0 bg-black/95 border-none",children:a.jsxs("div",{className:"relative flex items-center justify-center min-h-[80vh]",children:[a.jsx($,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-white hover:bg-white/20",onClick:()=>n(!1),children:a.jsx(Wn,{className:"w-6 h-6"})}),o&&s&&a.jsx($,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-50 text-red-400 hover:bg-red-500/20 hover:text-red-300",onClick:()=>s(f.id),children:a.jsx(Gd,{className:"w-6 h-6"})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx($,{variant:"ghost",size:"icon",className:"absolute left-4 z-50 text-white hover:bg-white/20 h-12 w-12",onClick:c,children:a.jsx(E1,{className:"w-8 h-8"})}),a.jsx($,{variant:"ghost",size:"icon",className:"absolute right-4 z-50 text-white hover:bg-white/20 h-12 w-12",onClick:u,children:a.jsx(_g,{className:"w-8 h-8"})})]}),a.jsx("img",{src:f.photo_url,alt:f.caption||"Foto",className:"max-w-full max-h-[85vh] object-contain"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("p",{className:"text-white text-lg",children:f.caption||""}),a.jsxs("span",{className:"text-white/70 text-sm",children:[i+1," / ",e.length]})]})})]})})})},w6=({open:e,onOpenChange:t,userId:r,onAlbumCreated:n})=>{const[s,o]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(!1),d=async()=>{if(!r||!s.trim()){F.error("Nome do lbum  obrigatrio");return}u(!0);try{const{error:f}=await R.from("albums").insert({user_id:r,name:s.trim(),description:i.trim()||null});if(f)throw f;F.success("lbum criado com sucesso!"),o(""),l(""),n(),t(!1)}catch(f){console.error("Erro ao criar lbum:",f),F.error("Erro ao criar lbum")}finally{u(!1)}};return a.jsx(mr,{open:e,onOpenChange:t,children:a.jsxs(nr,{className:"sm:max-w-[425px]",children:[a.jsxs(pr,{children:[a.jsxs(gr,{className:"flex items-center gap-2",children:[a.jsx(Ji,{className:"w-5 h-5 text-primary"}),"Criar Novo lbum"]}),a.jsx(na,{children:"Organize suas fotos em lbuns temticos"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"album-name",children:"Nome do lbum *"}),a.jsx(yt,{id:"album-name",value:s,onChange:f=>o(f.target.value),placeholder:"Ex: Viagem ao Serto",maxLength:50})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"album-description",children:"Descrio (opcional)"}),a.jsx(Bt,{id:"album-description",value:i,onChange:f=>l(f.target.value),placeholder:"Descreva seu lbum...",rows:3,maxLength:200})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancelar"}),a.jsx($,{onClick:d,disabled:c||!s.trim(),children:c?"Criando...":"Criar lbum"})]})]})})},b6=({userId:e,isOwner:t})=>{const[r,n]=h.useState([]),[s,o]=h.useState([]),[i,l]=h.useState(null),[c,u]=h.useState(!0),[d,f]=h.useState(!1),[m,p]=h.useState(!1),[b,g]=h.useState(0),[y,w]=h.useState(!1),[x,v]=h.useState("none"),_=h.useRef(null);h.useEffect(()=>{N(),j()},[e]);const N=async()=>{const{data:M,error:q}=await R.from("albums").select("*").eq("user_id",e).order("created_at",{ascending:!1});q?console.error("Erro ao buscar lbuns:",q):n(M||[])},j=async()=>{u(!0);const{data:M,error:q}=await R.from("gallery_photos").select("*").eq("user_id",e).order("created_at",{ascending:!1});q?console.error("Erro ao buscar fotos:",q):o(M||[]),u(!1)},S=async M=>{const q=Array.from(M.target.files||[]);if(q.length!==0){if(q.length>20){F.error("Mximo de 20 fotos por vez");return}f(!0);try{const P=q.map(async z=>{const I=z.name.split(".").pop(),A=`${e}-${Date.now()}-${Math.random().toString(36).substring(7)}.${I}`,B=`${e}/${A}`,{error:te}=await R.storage.from("gallery").upload(B,z);if(te)throw te;const{data:{publicUrl:Y}}=R.storage.from("gallery").getPublicUrl(B),{error:ne}=await R.from("gallery_photos").insert({user_id:e,photo_url:Y,album_id:x==="none"?null:x});if(ne)throw ne;return Y});if(await Promise.all(P),F.success(`${q.length} foto(s) enviada(s) com sucesso!`),j(),x!=="none"){const z=r.find(I=>I.id===x);z&&!z.cover_photo_url&&N()}}catch(P){console.error("Erro ao fazer upload:",P),F.error("Erro ao enviar fotos")}finally{f(!1),_.current&&(_.current.value="")}}},k=async M=>{try{const q=s.find(I=>I.id===M);if(!q)return;const P=q.photo_url.split("/gallery/")[1];P&&await R.storage.from("gallery").remove([P]);const{error:z}=await R.from("gallery_photos").delete().eq("id",M);if(z)throw z;F.success("Foto excluda"),o(s.filter(I=>I.id!==M)),p(!1)}catch(q){console.error("Erro ao excluir foto:",q),F.error("Erro ao excluir foto")}},O=async M=>{try{await R.from("gallery_photos").update({album_id:null}).eq("album_id",M);const{error:q}=await R.from("albums").delete().eq("id",M);if(q)throw q;F.success("lbum excludo"),N(),j(),l(null)}catch(q){console.error("Erro ao excluir lbum:",q),F.error("Erro ao excluir lbum")}},E=M=>{g(M),p(!0)},T=i?s.filter(M=>M.album_id===i):s,D=M=>s.filter(q=>q.album_id===M).length,U=M=>{if(M.cover_photo_url)return M.cover_photo_url;const q=s.find(P=>P.album_id===M.id);return q==null?void 0:q.photo_url};return a.jsxs(H,{children:[a.jsxs(Ye,{className:"flex flex-row items-center justify-between",children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(km,{className:"w-5 h-5"}),"Galeria de Fotos",a.jsx(ct,{variant:"secondary",children:s.length})]}),t&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"outline",size:"sm",onClick:()=>w(!0),children:[a.jsx(Ji,{className:"w-4 h-4 mr-2"}),"Novo lbum"]}),a.jsxs($,{size:"sm",onClick:()=>{var M;return(M=_.current)==null?void 0:M.click()},disabled:d,children:[a.jsx(Ul,{className:"w-4 h-4 mr-2"}),d?"Enviando...":"Enviar Fotos"]}),a.jsx("input",{ref:_,type:"file",accept:"image/*",multiple:!0,onChange:S,className:"hidden"})]})]}),a.jsxs($e,{children:[t&&a.jsx("div",{className:"mb-4",children:a.jsxs(Jl,{value:x,onValueChange:v,children:[a.jsx(yi,{className:"w-[250px]",children:a.jsx(ec,{placeholder:"lbum de destino"})}),a.jsxs(wi,{children:[a.jsx(hn,{value:"none",children:"Sem lbum"}),r.map(M=>a.jsx(hn,{value:M.id,children:M.name},M.id))]})]})}),a.jsxs(Ja,{defaultValue:"all",className:"w-full",children:[a.jsxs(Bn,{className:"mb-4",children:[a.jsxs(Ge,{value:"all",onClick:()=>l(null),children:[a.jsx(T1,{className:"w-4 h-4 mr-2"}),"Todas (",s.length,")"]}),a.jsxs(Ge,{value:"albums",children:[a.jsx(Ji,{className:"w-4 h-4 mr-2"}),"lbuns (",r.length,")"]})]}),a.jsx(At,{value:"all",children:c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):T.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx($o,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Nenhuma foto ainda"}),t&&a.jsx("p",{className:"text-sm mt-1",children:"Envie suas primeiras fotos!"})]}):a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:T.map((M,q)=>a.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden cursor-pointer group relative",onClick:()=>E(q),children:[a.jsx("img",{src:M.photo_url,alt:M.caption||"Foto",className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors"})]},M.id))})}),a.jsx(At,{value:"albums",children:r.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Ji,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Nenhum lbum ainda"}),t&&a.jsx("p",{className:"text-sm mt-1",children:"Crie seu primeiro lbum!"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(M=>a.jsx(H,{className:"cursor-pointer group overflow-hidden",onClick:()=>{l(M.id);const q=document.querySelector('[value="all"]');q==null||q.click()},children:a.jsxs("div",{className:"aspect-square relative bg-muted",children:[U(M)?a.jsx("img",{src:U(M),alt:M.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Ji,{className:"w-12 h-12 text-muted-foreground"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[a.jsx("h3",{className:"font-semibold text-white truncate",children:M.name}),a.jsxs("p",{className:"text-white/70 text-sm",children:[D(M.id)," fotos"]})]}),t&&a.jsx($,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-white hover:bg-red-500/50 opacity-0 group-hover:opacity-100 transition-opacity",onClick:q=>{q.stopPropagation(),O(M.id)},children:a.jsx(Gd,{className:"w-4 h-4"})})]})},M.id))})})]}),i&&a.jsx($,{variant:"link",className:"mt-4",onClick:()=>l(null),children:" Ver todas as fotos"})]}),a.jsx(y6,{photos:T.map(M=>({id:M.id,photo_url:M.photo_url,caption:M.caption||void 0})),initialIndex:b,open:m,onOpenChange:p,onDelete:t?k:void 0,canDelete:t}),a.jsx(w6,{open:y,onOpenChange:w,userId:e,onAlbumCreated:N})]})},Rk=({userId:e})=>{const[t,r]=h.useState([]),[n,s]=h.useState(!0);h.useEffect(()=>{o()},[e]);const o=async()=>{try{const{data:u,error:d}=await R.from("friendships").select(`
          *,
          friend_profile:friend_id (
            id,
            username,
            display_name,
            avatar_url
          )
        `).eq("user_id",e).order("created_at",{ascending:!1});if(d)throw d;r(u||[])}catch(u){console.error("Erro ao buscar amizades:",u)}finally{s(!1)}},i=()=>{const u={conhecido:[],vizinho:[],amigo_varanda:[]};return t.forEach(d=>{const f=d.level;u[f].push(d)}),u};if(n)return a.jsx(H,{className:"bg-card/95 backdrop-blur-sm",children:a.jsx($e,{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})})});const l=i(),c=t.length;return a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsxs(Ye,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(vt,{className:"w-5 h-5"}),"Crculo de Convivncia"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[c," ",c===1?"vnculo":"vnculos"," na cidade"]})]}),a.jsxs($e,{className:"space-y-6",children:[l.amigo_varanda.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(fc,{className:"w-4 h-4 text-primary"}),a.jsxs("h4",{className:"font-semibold text-sm",children:["Amigos da Varanda (",l.amigo_varanda.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:l.amigo_varanda.map(u=>a.jsxs(Ie,{to:`/profile/${u.friend_profile.username}`,className:"flex flex-col items-center gap-2 p-2 rounded-lg hover:bg-primary/10 transition-colors",children:[a.jsxs(bt,{className:"h-12 w-12 border-2 border-primary",children:[a.jsx(_t,{src:u.friend_profile.avatar_url||void 0}),a.jsx(jt,{children:u.friend_profile.display_name.charAt(0).toUpperCase()})]}),a.jsx("span",{className:"text-xs text-center truncate w-full",children:u.friend_profile.display_name})]},u.id))})]}),l.vizinho.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(vt,{className:"w-4 h-4 text-accent"}),a.jsxs("h4",{className:"font-semibold text-sm",children:["Vizinhos Prximos (",l.vizinho.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.vizinho.map(u=>a.jsxs(Ie,{to:`/profile/${u.friend_profile.username}`,className:"flex flex-col items-center gap-1 p-1 rounded-lg hover:bg-accent/10 transition-colors",children:[a.jsxs(bt,{className:"h-10 w-10 border border-accent",children:[a.jsx(_t,{src:u.friend_profile.avatar_url||void 0}),a.jsx(jt,{className:"text-xs",children:u.friend_profile.display_name.charAt(0).toUpperCase()})]}),a.jsx("span",{className:"text-xs text-center truncate w-full",children:u.friend_profile.display_name.split(" ")[0]})]},u.id))})]}),l.conhecido.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Da,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("h4",{className:"font-semibold text-sm",children:["Conhecidos da Praa (",l.conhecido.length,")"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.conhecido.map(u=>a.jsxs(Ie,{to:`/profile/${u.friend_profile.username}`,className:"flex items-center gap-1 px-2 py-1 bg-muted rounded-full hover:bg-muted/80 transition-colors",children:[a.jsxs(bt,{className:"h-6 w-6",children:[a.jsx(_t,{src:u.friend_profile.avatar_url||void 0}),a.jsx(jt,{className:"text-xs",children:u.friend_profile.display_name.charAt(0).toUpperCase()})]}),a.jsx("span",{className:"text-xs",children:u.friend_profile.display_name.split(" ")[0]})]},u.id))})]}),c===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(vt,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum vnculo ainda. Explore a cidade!"})]})]})]})},Ok=({userId:e,isOwner:t})=>{const[r,n]=h.useState([]),[s,o]=h.useState(""),[i,l]=h.useState(!0),[c,u]=h.useState(!1);h.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:p,error:b}=await R.from("wall_messages").select(`
          *,
          sender:from_user_id (
            id,
            username,
            display_name,
            avatar_url
          )
        `).eq("to_user_id",e).eq("is_public",!0).order("created_at",{ascending:!1}).limit(10);if(b)throw b;n(p||[])}catch(p){console.error("Erro ao buscar recados:",p)}finally{l(!1)}},f=async()=>{if(s.trim()){u(!0);try{const{data:{user:p}}=await R.auth.getUser();if(!p)throw new Error("Usurio no autenticado");const{error:b}=await R.from("wall_messages").insert({from_user_id:p.id,to_user_id:e,message:s.trim(),is_public:!0});if(b)throw b;F.success("Recado enviado! "),o(""),d()}catch(p){console.error("Erro ao enviar recado:",p),F.error("No foi possvel enviar o recado")}finally{u(!1)}}},m=async p=>{try{const{error:b}=await R.from("wall_messages").delete().eq("id",p);if(b)throw b;F.success("Recado removido"),d()}catch(b){console.error("Erro ao deletar recado:",b),F.error("No foi possvel remover o recado")}};return a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsx(Ye,{children:a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(ur,{className:"w-5 h-5"}),"Recados no Muro"]})}),a.jsxs($e,{className:"space-y-4",children:[!t&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Bt,{placeholder:"Deixe um recado na varanda...",value:s,onChange:p=>o(p.target.value),maxLength:500,className:"min-h-[80px]"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.length,"/500 caracteres"]}),a.jsxs($,{onClick:f,disabled:!s.trim()||c,size:"sm",className:"bg-gradient-orkut",children:[a.jsx(La,{className:"w-4 h-4 mr-2"}),c?"Enviando...":"Enviar Recado"]})]})]}),a.jsx("div",{className:"space-y-3",children:i?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Carregando recados..."}):r.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:t?"Ningum deixou recados ainda":"Seja o primeiro a deixar um recado!"}):r.map(p=>a.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-br from-primary/5 to-accent/5 border border-primary/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-orkut flex items-center justify-center text-white text-sm font-bold",children:p.sender.display_name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:p.sender.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",p.sender.username]})]})]}),t&&a.jsx($,{variant:"ghost",size:"sm",onClick:()=>m(p.id),className:"h-8 w-8 p-0",children:a.jsx(Gd,{className:"w-4 h-4 text-destructive"})})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:p.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(p.created_at).toLocaleDateString("pt-BR")})]},p.id))})]})]})},_6={coffee:"",flowers:"",heart:"",sparkle:"",sun:"",music:""},Ak=({userId:e,isOwner:t})=>{const[r,n]=h.useState([]),[s,o]=h.useState(!0);h.useEffect(()=>{i()},[e]);const i=async()=>{try{const{data:c,error:u}=await R.from("gifts").select(`
          *,
          sender:from_user_id (
            id,
            username,
            display_name,
            avatar_url
          )
        `).eq("to_user_id",e).order("created_at",{ascending:!1}).limit(20);if(u)throw u;n(c||[])}catch(c){console.error("Erro ao buscar presentes:",c)}finally{o(!1)}},l=async c=>{try{const{error:u}=await R.from("gifts").delete().eq("id",c);if(u)throw u;F.success("Presente removido"),i()}catch(u){console.error("Erro ao deletar presente:",u),F.error("No foi possvel remover o presente")}};return s?a.jsx(H,{className:"bg-card/95 backdrop-blur-sm",children:a.jsx($e,{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})})}):a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsxs(Ye,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Bs,{className:"w-5 h-5 text-pink-500"}),"Presentes Recebidos"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.length," ",r.length===1?"presente":"presentes"]})]}),a.jsx($e,{children:r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Bs,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t?"Voc ainda no recebeu presentes":"Nenhum presente ainda"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.map(c=>a.jsxs("div",{className:"relative p-4 rounded-lg border bg-gradient-to-br from-pink-500/10 to-purple-500/10 border-pink-200/20 hover:border-pink-300/40 transition-all",children:[t&&a.jsx($,{variant:"ghost",size:"sm",onClick:()=>l(c.id),className:"absolute top-1 right-1 h-6 w-6 p-0 hover:bg-destructive/20",children:a.jsx(Gd,{className:"w-3 h-3 text-destructive"})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"text-4xl mb-2",children:_6[c.gift_type]||""}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold",children:c.sender.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",c.sender.username]})]}),c.message&&a.jsxs("p",{className:"text-xs italic text-muted-foreground line-clamp-2 mt-1",children:['"',c.message,'"']}),a.jsx("p",{className:"text-xs text-muted-foreground/70",children:new Date(c.created_at).toLocaleDateString("pt-BR")})]})]},c.id))})})]})},Mk=()=>{var Q,we;const{user:e,loading:t}=It(),{checkPhotographer:r,checkDecorator:n}=mv(),[s,o]=h.useState(null),[i,l]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState([]),[m,p]=h.useState(0),[b,g]=h.useState(""),[y,w]=h.useState(!0),[x,v]=h.useState(!1),[_,N]=h.useState(!1),[j,S]=h.useState(!1),[k,O]=h.useState(!1),[E,T]=h.useState(!1),[D,U]=h.useState(!1),[M,q]=h.useState([]),[P,z]=h.useState([]),[I,A]=h.useState([]),[B,te]=h.useState("posts"),Y=h.useRef(null),ne=h.useRef(null);h.useEffect(()=>{e&&re()},[e]);const re=async()=>{if(e)try{const{data:J,error:L}=await R.from("profiles").select("*").eq("id",e.id).single();if(L)throw L;o(J);const{count:W}=await R.from("friendships").select("*",{count:"exact",head:!0}).eq("user_id",e.id);p(W||0);const{data:X,error:me}=await R.from("scraps").select("*, from_profile:profiles!scraps_from_user_id_fkey(*)").eq("to_user_id",e.id).order("created_at",{ascending:!1});if(me)throw me;l(X||[]);try{const{data:ia,error:Ht}=await R.from("testimonials").select("*, from_profile:profiles!testimonials_from_user_id_fkey(*)").eq("to_user_id",e.id).order("created_at",{ascending:!1});Ht&&console.warn("Aviso:",Ht),u(ia||[])}catch{u([])}const{data:Se,error:_e}=await R.from("user_achievements").select("*, achievement:achievements(*)").eq("user_id",e.id);if(_e)throw _e;f(Se||[]);const{data:he,error:We}=await R.from("posts").select("id, image_url").eq("user_id",e.id).not("image_url","is",null).order("created_at",{ascending:!1}).limit(6);We?console.warn("Aviso ao carregar fotos:",We):q(he||[]);const{data:ut,error:bn}=await R.from("friendships").select("friend_id").eq("user_id",e.id).limit(6);if(bn)console.warn("Aviso ao carregar amigos:",bn);else{const ia=ut.map(Ht=>Ht.friend_id);if(ia.length>0){const{data:Ht,error:Ec}=await R.from("profiles").select("id, display_name, avatar_url, username").in("id",ia);Ec?console.warn("Aviso ao carregar perfis de amigos:",Ec):z(Ht||[])}}const{data:Cc,error:Kn}=await R.from("posts").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});Kn?console.warn("Aviso ao carregar posts:",Kn):A(Cc||[])}catch(J){console.error("Erro ao carregar dados:",J),F.error("Erro ao carregar perfil")}finally{w(!1)}},oe=async J=>{try{if(!J.target.files||J.target.files.length===0)return;v(!0);const L=J.target.files[0],W=L.name.split(".").pop(),X=`${e==null?void 0:e.id}-${Math.random()}.${W}`,me=`${e==null?void 0:e.id}/${X}`,{error:Se}=await R.storage.from("avatars").upload(me,L,{upsert:!0});if(Se)throw Se;const{data:{publicUrl:_e}}=R.storage.from("avatars").getPublicUrl(me),{error:he}=await R.from("profiles").update({avatar_url:_e}).eq("id",e==null?void 0:e.id);if(he)throw he;F.success(" Avatar atualizado!"),e!=null&&e.id&&await r(e.id),re()}catch(L){console.error("Erro ao fazer upload do avatar:",L),F.error("Erro ao atualizar avatar")}finally{v(!1)}},pe=async J=>{try{if(!J.target.files||J.target.files.length===0)return;N(!0);const L=J.target.files[0],W=L.name.split(".").pop(),X=`${e==null?void 0:e.id}-${Math.random()}.${W}`,me=`${e==null?void 0:e.id}/${X}`,{error:Se}=await R.storage.from("house-covers").upload(me,L,{upsert:!0});if(Se)throw Se;const{data:{publicUrl:_e}}=R.storage.from("house-covers").getPublicUrl(me),{error:he}=await R.from("profiles").update({house_background:_e}).eq("id",e==null?void 0:e.id);if(he)throw he;F.success(" Foto de capa atualizada!"),e!=null&&e.id&&await n(e.id),re()}catch(L){console.error("Erro ao fazer upload da capa:",L),F.error("Erro ao atualizar foto de capa")}finally{N(!1)}};return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"fixed top-4 right-4 z-50",children:a.jsx(bc,{})}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"h-[200px] sm:h-[280px] md:h-[350px] bg-gradient-to-r from-primary/20 via-secondary/20 to-accent/20 relative",children:[a.jsx("img",{src:(s==null?void 0:s.house_background)||"https://images.unsplash.com/photo-1528459801416-a9e53bbf4e17?q=80&w=1912&auto=format&fit=crop",alt:"Capa",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-transparent"}),a.jsxs($,{onClick:()=>{var J;return(J=ne.current)==null?void 0:J.click()},disabled:_,variant:"secondary",size:"sm",className:"absolute bottom-4 right-4 gap-2 bg-card/90 hover:bg-card shadow-lg",children:[a.jsx(km,{className:"w-4 h-4"}),_?"Enviando...":"Editar capa"]}),a.jsx("input",{ref:ne,type:"file",accept:"image/*",onChange:pe,className:"hidden"})]}),a.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[a.jsx("div",{className:"relative -mt-[80px] sm:-mt-[100px] pb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4",children:[a.jsxs("div",{className:"relative group self-center sm:self-auto",children:[a.jsxs("div",{className:"w-[140px] h-[140px] sm:w-[168px] sm:h-[168px] rounded-full border-4 border-background shadow-xl bg-card overflow-hidden cursor-pointer",onClick:()=>{var J;return(J=Y.current)==null?void 0:J.click()},children:[s!=null&&s.avatar_url?a.jsx("img",{src:s.avatar_url,alt:s.display_name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gradient-orkut flex items-center justify-center text-primary-foreground text-5xl font-bold",children:s==null?void 0:s.display_name.charAt(0).toUpperCase()}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-full",children:a.jsx(km,{className:"w-8 h-8 text-white"})})]}),a.jsx("input",{ref:Y,type:"file",accept:"image/*",onChange:oe,className:"hidden"}),x&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full",children:a.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),a.jsxs("div",{className:"flex-1 text-center sm:text-left sm:pb-2",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:s==null?void 0:s.display_name}),a.jsxs("p",{className:"text-muted-foreground font-medium",children:["@",s==null?void 0:s.username]}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-semibold text-foreground",children:m}),a.jsx("span",{children:"amigos"}),a.jsx("span",{children:""}),a.jsx("span",{className:"font-semibold text-foreground",children:d.length}),a.jsx("span",{children:"conquistas"}),a.jsx("span",{children:""}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(fc,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{className:"font-semibold text-foreground",children:(s==null?void 0:s.points)||0}),a.jsx("span",{children:"pontos"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 self-center sm:self-end sm:pb-2",children:[a.jsxs($,{onClick:()=>S(!0),className:"gap-2 bg-primary hover:bg-primary/90",children:[a.jsx(O1,{className:"w-4 h-4"}),"Editar perfil"]}),a.jsxs(iN,{children:[a.jsx(lN,{asChild:!0,children:a.jsx($,{variant:"outline",size:"icon",children:a.jsx(eT,{className:"w-4 h-4"})})}),a.jsxs(Xg,{align:"end",className:"w-56",children:[a.jsxs(Po,{onClick:()=>O(!0),children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Configurar msica"]}),a.jsxs(Po,{onClick:()=>T(!0),children:[a.jsx($o,{className:"w-4 h-4 mr-2"}),"Adicionar fotos"]}),a.jsx(cN,{}),a.jsx(Po,{asChild:!0,children:a.jsxs(Ie,{to:"/privacy-settings",children:[a.jsx(bu,{className:"w-4 h-4 mr-2"}),"Configuraes de privacidade"]})}),a.jsxs(Po,{onClick:()=>U(!0),children:[a.jsx(td,{className:"w-4 h-4 mr-2"}),"Usurios bloqueados"]})]})]})]})]})}),a.jsx(ku,{className:"my-2"}),a.jsx("div",{className:"flex overflow-x-auto scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:a.jsx("nav",{className:"flex gap-1 border-b border-transparent",children:[{id:"posts",label:"Publicaes",icon:T1},{id:"about",label:"Sobre",icon:Da},{id:"photos",label:"Fotos",icon:$o},{id:"friends",label:"Amigos",icon:vt},{id:"gifts",label:"Presentes",icon:Bs},{id:"trophies",label:"Trofus",icon:ir},{id:"music",label:"Msica",icon:ln},{id:"scraps",label:"Recados",icon:ur}].map(J=>a.jsxs("button",{onClick:()=>te(J.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium rounded-t-lg transition-colors whitespace-nowrap ${B===J.id?"text-primary border-b-2 border-primary bg-primary/5":"text-muted-foreground hover:bg-muted/50"}`,children:[a.jsx(J.icon,{className:"w-4 h-4"}),J.label]},J.id))})})]})]}),a.jsx("div",{className:"max-w-5xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(H,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Sobre"}),s!=null&&s.bio?a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:s.bio}):a.jsx("p",{className:"text-muted-foreground text-sm italic mb-4",children:"Adicione uma bio para contar mais sobre voc"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(Da,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("span",{children:["Mora em ",a.jsx("strong",{children:(s==null?void 0:s.city)||"No informado"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(lT,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("span",{children:["De ",a.jsx("strong",{children:(s==null?void 0:s.country)||"No informado"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(k1,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("span",{children:["Entrou em ",a.jsx("strong",{children:s!=null&&s.created_at?new Date(s.created_at).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}):"data desconhecida"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(iT,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("span",{children:["Nvel ",a.jsx("strong",{children:(s==null?void 0:s.level)||1})]})]})]}),a.jsx($,{variant:"outline",className:"w-full mt-4",onClick:()=>S(!0),children:"Editar detalhes"})]}),a.jsxs(H,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Fotos"}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>T(!0),children:"Ver todas"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-1 rounded-lg overflow-hidden",children:M.length>0?M.map(J=>a.jsx("div",{className:"aspect-square bg-muted",children:a.jsx("img",{src:J.image_url,alt:"Foto do usurio",className:"w-full h-full object-cover"})},J.id)):a.jsx("div",{className:"col-span-3 text-center text-sm text-muted-foreground p-4",children:"Nenhuma foto para mostrar ainda."})})]}),a.jsxs(H,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Amigos"}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>te("friends"),children:"Ver todos"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[m," amigos"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:P.length>0?P.map(J=>{var L;return a.jsxs(Ie,{to:`/profile/${J.username}`,className:"text-center",children:[a.jsxs(bt,{className:"w-full h-auto aspect-square rounded-lg mb-1",children:[a.jsx(_t,{src:J.avatar_url||void 0,alt:J.display_name||""}),a.jsx(jt,{className:"rounded-lg",children:(L=J.display_name)==null?void 0:L.charAt(0).toUpperCase()})]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:J.display_name})]},J.id)}):a.jsx("div",{className:"col-span-3 text-center text-sm text-muted-foreground p-4",children:"Voc ainda no adicionou amigos."})})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[B==="posts"&&a.jsxs(a.Fragment,{children:[a.jsxs(H,{className:"p-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(bt,{className:"w-10 h-10",children:[a.jsx(_t,{src:(s==null?void 0:s.avatar_url)||void 0}),a.jsx(jt,{children:(Q=s==null?void 0:s.display_name)==null?void 0:Q.charAt(0)})]}),a.jsx(Bt,{placeholder:"O que voc est pensando?",className:"flex-1 bg-muted border-none focus-visible:ring-1 focus-visible:ring-primary",rows:2})]}),a.jsxs("div",{className:"flex justify-between items-center mt-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground",children:[a.jsx($o,{className:"w-4 h-4"})," Foto"]}),a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground",children:[a.jsx(Mn,{className:"w-4 h-4"})," Momento"]})]}),a.jsxs($,{className:"gap-2",children:[a.jsx(La,{className:"w-4 h-4"})," Publicar"]})]})]}),a.jsx("div",{className:"space-y-4 mt-4",children:I.map(J=>a.jsxs(H,{className:"p-4",children:[a.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:J.content}),J.image_url&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:a.jsx("img",{src:J.image_url,alt:"Post",className:"w-full h-auto object-cover"})}),a.jsxs("div",{className:"flex justify-end gap-4 text-xs text-muted-foreground mt-3",children:[a.jsxs("span",{children:[J.likes_count||0," curtidas"]}),a.jsxs("span",{children:[J.comments_count||0," comentrios"]})]})]},J.id))})]}),B==="about"&&a.jsxs(H,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Sobre ",s==null?void 0:s.display_name]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Bio"}),a.jsx("p",{className:"text-foreground",children:(s==null?void 0:s.bio)||"Nenhuma bio adicionada ainda."})]}),a.jsx(ku,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Estatsticas"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-primary",children:(s==null?void 0:s.points)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Pontos"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary",children:(s==null?void 0:s.level)||1}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Nvel"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-accent",children:d.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Conquistas"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-primary",children:m}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Amigos"})]})]})]}),(s==null?void 0:s.house_theme)&&s.house_theme!=="default"&&a.jsxs(a.Fragment,{children:[a.jsx(ku,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Tema da Casa"}),a.jsx(ct,{variant:"secondary",children:s.house_theme})]})]})]})]}),B==="photos"&&e&&a.jsx(b6,{userId:e.id,isOwner:!0}),B==="friends"&&a.jsxs(H,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Amigos"}),e&&a.jsx(Rk,{userId:e.id})]}),B==="gifts"&&a.jsxs(H,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Bs,{className:"w-5 h-5 text-primary"}),"Presentes Recebidos"]}),e&&a.jsx(Ak,{userId:e.id,isOwner:!0})]}),B==="trophies"&&a.jsxs(H,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ir,{className:"w-5 h-5 text-secondary"}),"Sala de Trofus"]}),d.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ir,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma conquista ainda. Continue interagindo!"})]}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:d.map(J=>a.jsxs(H,{className:"p-4 text-center hover:shadow-lg transition-shadow border-2 border-transparent hover:border-secondary/50",children:[a.jsx("div",{className:"text-4xl mb-2",children:J.achievement.icon||""}),a.jsx("h4",{className:"font-semibold text-sm",children:J.achievement.name}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:J.achievement.description}),a.jsxs(ct,{variant:"secondary",className:"mt-2 text-xs",children:["+",J.achievement.points," pts"]})]},J.id))})]}),B==="scraps"&&a.jsxs(H,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ur,{className:"w-5 h-5 text-primary"}),"Mural de Recados"]}),a.jsx(Ok,{userId:e.id,isOwner:!0})]}),B==="music"&&a.jsxs(H,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ln,{className:"w-5 h-5 text-accent"}),"Msica do Perfil"]}),s!=null&&s.music_url?a.jsx("div",{className:"aspect-video",children:a.jsx("iframe",{className:"w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${((we=s.music_url.split("v=")[1])==null?void 0:we.split("&")[0])||s.music_url.split("/").pop()}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ln,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma msica foi adicionada ao perfil ainda."}),a.jsxs($,{onClick:()=>O(!0),children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Adicionar msica"]})]})]})]})]})}),a.jsx(f6,{open:j,onOpenChange:S,profile:s,onProfileUpdate:re}),a.jsx(m6,{open:k,onOpenChange:O,userId:e==null?void 0:e.id,currentMusic:s==null?void 0:s.house_music,onMusicUpdate:re}),a.jsx(p6,{open:E,onOpenChange:T,userId:e==null?void 0:e.id,onUploadComplete:re}),a.jsx(vk,{open:D,onOpenChange:U})]}):a.jsx(Qa,{to:"/auth",replace:!0})},j6=()=>{const[e,t]=h.useState(()=>g0());return h.useEffect(()=>{const r=setInterval(()=>{t(g0())},6e4);return()=>clearInterval(r)},[]),e};function g0(){const e=new Date().getHours();return e>=5&&e<12?{timeOfDay:"morning",gradient:"var(--gradient-morning)",greeting:"Bom dia, cidado!",emoji:""}:e>=12&&e<18?{timeOfDay:"afternoon",gradient:"var(--gradient-afternoon)",greeting:"Boa tarde!",emoji:""}:e>=18&&e<22?{timeOfDay:"evening",gradient:"var(--gradient-evening)",greeting:"Boa noite!",emoji:""}:{timeOfDay:"night",gradient:"var(--gradient-night)",greeting:"Madrugada na praa",emoji:""}}var Nf="Popover",[Ik]=sr(Nf,[Js]),Sc=Js(),[N6,oa]=Ik(Nf),Dk=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=Sc(t),c=h.useRef(null),[u,d]=h.useState(!1),[f,m]=Us({prop:n,defaultProp:s??!1,onChange:o,caller:Nf});return a.jsx(Mg,{...l,children:a.jsx(N6,{scope:t,contentId:Kr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:r})})};Dk.displayName=Nf;var Lk="PopoverAnchor",S6=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=oa(Lk,r),o=Sc(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(mc,{...o,...n,ref:t})});S6.displayName=Lk;var $k="PopoverTrigger",Fk=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=oa($k,r),o=Sc(r),i=Ne(t,s.triggerRef),l=a.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Vk(s.open),...n,ref:i,onClick:G(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(mc,{asChild:!0,...o,children:l})});Fk.displayName=$k;var gv="PopoverPortal",[k6,C6]=Ik(gv,{forceMount:void 0}),zk=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=oa(gv,t);return a.jsx(k6,{scope:t,forceMount:r,children:a.jsx(Ct,{present:r||o.open,children:a.jsx(Si,{asChild:!0,container:s,children:n})})})};zk.displayName=gv;var bi="PopoverContent",Uk=h.forwardRef((e,t)=>{const r=C6(bi,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=oa(bi,e.__scopePopover);return a.jsx(Ct,{present:n||o.open,children:o.modal?a.jsx(P6,{...s,ref:t}):a.jsx(T6,{...s,ref:t})})});Uk.displayName=bi;var E6=zs("PopoverContent.RemoveScroll"),P6=h.forwardRef((e,t)=>{const r=oa(bi,e.__scopePopover),n=h.useRef(null),s=Ne(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return of(i)},[]),a.jsx(xc,{as:E6,allowPinchZoom:!0,children:a.jsx(Bk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:G(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),T6=h.forwardRef((e,t)=>{const r=oa(bi,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(Bk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Bk=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=oa(bi,r),p=Sc(r);return sf(),a.jsx(gc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Ga,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(Xd,{"data-state":Vk(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qk="PopoverClose",R6=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=oa(qk,r);return a.jsx(de.button,{type:"button",...n,ref:t,onClick:G(e.onClick,()=>s.onOpenChange(!1))})});R6.displayName=qk;var O6="PopoverArrow",A6=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Sc(r);return a.jsx(Jd,{...s,...n,ref:t})});A6.displayName=O6;function Vk(e){return e?"open":"closed"}var M6=Dk,I6=Fk,D6=zk,Wk=Uk;const L6=M6,$6=I6,Hk=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(D6,{children:a.jsx(Wk,{ref:s,align:t,sideOffset:r,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Hk.displayName=Wk.displayName;function Fe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Gs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Kk=6048e5,F6=864e5,ou=43200,v0=1440;let z6={};function kc(){return z6}function tc(e,t){var l,c,u,d;const r=kc(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Fe(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function _d(e){return tc(e,{weekStartsOn:1})}function Gk(e){const t=Fe(e),r=t.getFullYear(),n=Gs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=_d(n),o=Gs(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=_d(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function x0(e){const t=Fe(e);return t.setHours(0,0,0,0),t}function jd(e){const t=Fe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function U6(e,t){const r=x0(e),n=x0(t),s=+r-jd(r),o=+n-jd(n);return Math.round((s-o)/F6)}function B6(e){const t=Gk(e),r=Gs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),_d(r)}function Cu(e,t){const r=Fe(e),n=Fe(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function q6(e){return Gs(e,Date.now())}function V6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function W6(e){if(!V6(e)&&typeof e!="number")return!1;const t=Fe(e);return!isNaN(Number(t))}function H6(e,t){const r=Fe(e),n=Fe(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function K6(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function G6(e,t){return+Fe(e)-+Fe(t)}function Q6(e){const t=Fe(e);return t.setHours(23,59,59,999),t}function Y6(e){const t=Fe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Z6(e){const t=Fe(e);return+Q6(t)==+Y6(t)}function X6(e,t){const r=Fe(e),n=Fe(t),s=Cu(r,n),o=Math.abs(H6(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let l=Cu(r,n)===-s;Z6(Fe(e))&&o===1&&Cu(e,n)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function J6(e,t,r){const n=G6(e,t)/1e3;return K6(r==null?void 0:r.roundingMethod)(n)}function eF(e){const t=Fe(e),r=Gs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const tF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rF=(e,t,r)=>{let n;const s=tF[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oF={date:qo({formats:nF,defaultWidth:"full"}),time:qo({formats:sF,defaultWidth:"full"}),dateTime:qo({formats:aF,defaultWidth:"full"})},iF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lF=(e,t,r,n)=>iF[e];function un(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const cF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pF=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gF={ordinalNumber:pF,era:un({values:cF,defaultWidth:"wide"}),quarter:un({values:uF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:un({values:dF,defaultWidth:"wide"}),day:un({values:fF,defaultWidth:"wide"}),dayPeriod:un({values:hF,defaultWidth:"wide",formattingValues:mF,defaultFormattingWidth:"wide"})};function dn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?xF(l,f=>f.test(i)):vF(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function vF(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function xF(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Qk(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const yF=/^(\d+)(th|st|nd|rd)?/i,wF=/\d+/i,bF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_F={any:[/^b/i,/^(a|c)/i]},jF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NF={any:[/1/i,/2/i,/3/i,/4/i]},SF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RF={ordinalNumber:Qk({matchPattern:yF,parsePattern:wF,valueCallback:e=>parseInt(e,10)}),era:dn({matchPatterns:bF,defaultMatchWidth:"wide",parsePatterns:_F,defaultParseWidth:"any"}),quarter:dn({matchPatterns:jF,defaultMatchWidth:"wide",parsePatterns:NF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dn({matchPatterns:SF,defaultMatchWidth:"wide",parsePatterns:kF,defaultParseWidth:"any"}),day:dn({matchPatterns:CF,defaultMatchWidth:"wide",parsePatterns:EF,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:PF,defaultMatchWidth:"any",parsePatterns:TF,defaultParseWidth:"any"})},Yk={code:"en-US",formatDistance:rF,formatLong:oF,formatRelative:lF,localize:gF,match:RF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OF(e){const t=Fe(e);return U6(t,eF(t))+1}function AF(e){const t=Fe(e),r=+_d(t)-+B6(t);return Math.round(r/Kk)+1}function Zk(e,t){var d,f,m,p;const r=Fe(e),n=r.getFullYear(),s=kc(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Gs(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=tc(i,t),c=Gs(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=tc(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function MF(e,t){var l,c,u,d;const r=kc(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Zk(e,t),o=Gs(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),tc(o,t)}function IF(e,t){const r=Fe(e),n=+tc(r,t)-+MF(r,t);return Math.round(n/Kk)+1}function Me(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ts={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Me(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Me(r+1,2)},d(e,t){return Me(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Me(e.getHours()%12||12,t.length)},H(e,t){return Me(e.getHours(),t.length)},m(e,t){return Me(e.getMinutes(),t.length)},s(e,t){return Me(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Me(s,t.length)}},ho={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},y0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ts.y(e,t)},Y:function(e,t,r,n){const s=Zk(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Me(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Me(o,t.length)},R:function(e,t){const r=Gk(e);return Me(r,t.length)},u:function(e,t){const r=e.getFullYear();return Me(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Me(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Me(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ts.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Me(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=IF(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Me(s,t.length)},I:function(e,t,r){const n=AF(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Me(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ts.d(e,t)},D:function(e,t,r){const n=OF(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Me(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Me(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Me(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Me(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ho.noon:n===0?s=ho.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ho.evening:n>=12?s=ho.afternoon:n>=4?s=ho.morning:s=ho.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ts.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ts.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Me(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Me(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ts.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ts.s(e,t)},S:function(e,t){return ts.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return b0(n);case"XXXX":case"XX":return ma(n);case"XXXXX":case"XXX":default:return ma(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return b0(n);case"xxxx":case"xx":return ma(n);case"xxxxx":case"xxx":default:return ma(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+w0(n,":");case"OOOO":default:return"GMT"+ma(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+w0(n,":");case"zzzz":default:return"GMT"+ma(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Me(n,t.length)},T:function(e,t,r){const n=e.getTime();return Me(n,t.length)}};function w0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Me(o,2)}function b0(e,t){return e%60===0?(e>0?"-":"+")+Me(Math.abs(e)/60,2):ma(e,t)}function ma(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Me(Math.trunc(n/60),2),o=Me(n%60,2);return r+s+t+o}const _0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Xk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},DF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return _0(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",_0(n,t)).replace("{{time}}",Xk(s,t))},LF={p:Xk,P:DF},$F=/^D+$/,FF=/^Y+$/,zF=["D","DD","YY","YYYY"];function UF(e){return $F.test(e)}function BF(e){return FF.test(e)}function qF(e,t,r){const n=VF(e,t,r);if(console.warn(n),zF.includes(e))throw new RangeError(n)}function VF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KF=/^'([^]*?)'?$/,GF=/''/g,QF=/[a-zA-Z]/;function al(e,t,r){var d,f,m,p;const n=kc(),s=n.locale??Yk,o=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=Fe(e);if(!W6(l))throw new RangeError("Invalid time value");let c=t.match(HF).map(b=>{const g=b[0];if(g==="p"||g==="P"){const y=LF[g];return y(b,s.formatLong)}return b}).join("").match(WF).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const g=b[0];if(g==="'")return{isToken:!1,value:YF(b)};if(y0[g])return{isToken:!0,value:b};if(g.match(QF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const g=b.value;(BF(g)||UF(g))&&qF(g,t,String(e));const y=y0[g[0]];return y(l,g,s.localize,u)}).join("")}function YF(e){const t=e.match(KF);return t?t[1].replace(GF,"'"):e}function ZF(e,t,r){const n=kc(),s=(r==null?void 0:r.locale)??n.locale??Yk,o=2520,i=Cu(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=Fe(t),u=Fe(e)):(c=Fe(e),u=Fe(t));const d=J6(u,c),f=(jd(u)-jd(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<v0){const b=Math.round(m/60);return s.formatDistance("aboutXHours",b,l)}else{if(m<o)return s.formatDistance("xDays",1,l);if(m<ou){const b=Math.round(m/v0);return s.formatDistance("xDays",b,l)}else if(m<ou*2)return p=Math.round(m/ou),s.formatDistance("aboutXMonths",p,l)}if(p=X6(u,c),p<12){const b=Math.round(m/ou);return s.formatDistance("xMonths",b,l)}else{const b=p%12,g=Math.trunc(p/12);return b<3?s.formatDistance("aboutXYears",g,l):b<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function Jk(e,t){return ZF(e,q6(e),t)}const XF={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},JF=(e,t,r)=>{let n;const s=XF[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},e8={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},t8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},r8={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},n8={date:qo({formats:e8,defaultWidth:"full"}),time:qo({formats:t8,defaultWidth:"full"}),dateTime:qo({formats:r8,defaultWidth:"full"})},s8={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},a8=(e,t,r,n)=>{const s=s8[e];return typeof s=="function"?s(t):s},o8={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},i8={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},l8={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},c8={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},u8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},d8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},f8=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},h8={ordinalNumber:f8,era:un({values:o8,defaultWidth:"wide"}),quarter:un({values:i8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:un({values:l8,defaultWidth:"wide"}),day:un({values:c8,defaultWidth:"wide"}),dayPeriod:un({values:u8,defaultWidth:"wide",formattingValues:d8,defaultFormattingWidth:"wide"})},m8=/^(\d+)[o]?/i,p8=/\d+/i,g8={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},v8={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},x8={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},y8={any:[/1/i,/2/i,/3/i,/4/i]},w8={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},b8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},_8={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},j8={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},N8={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},S8={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},k8={ordinalNumber:Qk({matchPattern:m8,parsePattern:p8,valueCallback:e=>parseInt(e,10)}),era:dn({matchPatterns:g8,defaultMatchWidth:"wide",parsePatterns:v8,defaultParseWidth:"any"}),quarter:dn({matchPatterns:x8,defaultMatchWidth:"wide",parsePatterns:y8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dn({matchPatterns:w8,defaultMatchWidth:"wide",parsePatterns:b8,defaultParseWidth:"any"}),day:dn({matchPatterns:_8,defaultMatchWidth:"wide",parsePatterns:j8,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:N8,defaultMatchWidth:"any",parsePatterns:S8,defaultParseWidth:"any"})},eC={code:"pt-BR",formatDistance:JF,formatLong:n8,formatRelative:a8,localize:h8,match:k8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tC(){const{user:e}=It(),t=Et(),[r,n]=h.useState([]),[s,o]=h.useState(0),[i,l]=h.useState(!1);h.useEffect(()=>{if(!e)return;c();const m=R.channel("notifications-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"private_messages",filter:`to_user_id=eq.${e.id}`},async g=>{const y=g.new,{data:w}=await R.from("profiles").select("display_name").eq("id",y.from_user_id).single(),x={id:`msg-${y.id}`,type:"message",title:"Nova mensagem",description:`${(w==null?void 0:w.display_name)||"Algum"} te enviou uma mensagem`,created_at:y.created_at,from_user_id:y.from_user_id,from_user_name:w==null?void 0:w.display_name,is_read:!1};n(v=>[x,...v]),o(v=>v+1)}).subscribe(),p=R.channel("notifications-requests").on("postgres_changes",{event:"INSERT",schema:"public",table:"friend_requests",filter:`receiver_id=eq.${e.id}`},async g=>{const y=g.new,{data:w}=await R.from("profiles").select("display_name").eq("id",y.sender_id).single(),x={id:`req-${y.id}`,type:"friend_request",title:"Novo convite de convivncia",description:`${(w==null?void 0:w.display_name)||"Algum"} acenou para voc!`,created_at:y.created_at,from_user_id:y.sender_id,from_user_name:w==null?void 0:w.display_name,is_read:!1};n(v=>[x,...v]),o(v=>v+1)}).subscribe(),b=R.channel("notifications-gifts").on("postgres_changes",{event:"INSERT",schema:"public",table:"gifts",filter:`to_user_id=eq.${e.id}`},async g=>{const y=g.new,{data:w}=await R.from("profiles").select("display_name").eq("id",y.from_user_id).single(),x={id:`gift-${y.id}`,type:"gift",title:"Novo presente",description:`${(w==null?void 0:w.display_name)||"Algum"} te enviou um presente!`,created_at:y.created_at,from_user_id:y.from_user_id,from_user_name:w==null?void 0:w.display_name,is_read:!1};n(v=>[x,...v]),o(v=>v+1)}).subscribe();return()=>{R.removeChannel(m),R.removeChannel(p),R.removeChannel(b)}},[e]);const c=async()=>{if(!e)return;const{count:m}=await R.from("private_messages").select("*",{count:"exact",head:!0}).eq("to_user_id",e.id).eq("is_read",!1),{count:p}=await R.from("friend_requests").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("status","pending"),b=new Date;b.setDate(b.getDate()-7);const{data:g}=await R.from("gifts").select("*, profiles!gifts_from_user_id_fkey(display_name)").eq("to_user_id",e.id).gte("created_at",b.toISOString()).order("created_at",{ascending:!1}).limit(5),{data:y}=await R.from("private_messages").select("*, profiles!private_messages_from_user_id_fkey(display_name)").eq("to_user_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1}).limit(5),{data:w}=await R.from("friend_requests").select("*, profiles!friend_requests_sender_id_fkey(display_name)").eq("receiver_id",e.id).eq("status","pending").order("created_at",{ascending:!1}).limit(5),x=[];y==null||y.forEach(v=>{var _,N;x.push({id:`msg-${v.id}`,type:"message",title:"Nova mensagem",description:`${((_=v.profiles)==null?void 0:_.display_name)||"Algum"} te enviou uma mensagem`,created_at:v.created_at,from_user_id:v.from_user_id,from_user_name:(N=v.profiles)==null?void 0:N.display_name,is_read:v.is_read})}),w==null||w.forEach(v=>{var _,N;x.push({id:`req-${v.id}`,type:"friend_request",title:"Convite de convivncia",description:`${((_=v.profiles)==null?void 0:_.display_name)||"Algum"} acenou para voc!`,created_at:v.created_at,from_user_id:v.sender_id,from_user_name:(N=v.profiles)==null?void 0:N.display_name,is_read:!1})}),g==null||g.forEach(v=>{var _,N;x.push({id:`gift-${v.id}`,type:"gift",title:"Presente recebido",description:`${((_=v.profiles)==null?void 0:_.display_name)||"Algum"} te enviou um presente!`,created_at:v.created_at,from_user_id:v.from_user_id,from_user_name:(N=v.profiles)==null?void 0:N.display_name,is_read:!1})}),x.sort((v,_)=>new Date(_.created_at).getTime()-new Date(v.created_at).getTime()),n(x),o((m||0)+(p||0))},u=m=>{l(!1),m.type==="friend_request"?t("/explore"):(m.type==="message"||m.type==="gift")&&t("/dashboard")},d=async()=>{e&&(await R.from("private_messages").update({is_read:!0}).eq("to_user_id",e.id).eq("is_read",!1),o(0),c())},f=m=>{switch(m){case"message":return a.jsx(ur,{className:"w-4 h-4 text-blue-500"});case"friend_request":return a.jsx(L1,{className:"w-4 h-4 text-green-500"});case"gift":return a.jsx(Bs,{className:"w-4 h-4 text-pink-500"});default:return a.jsx(nh,{className:"w-4 h-4"})}};return a.jsxs(L6,{open:i,onOpenChange:l,children:[a.jsx($6,{asChild:!0,children:a.jsxs($,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(nh,{className:"w-5 h-5"}),s>0&&a.jsx(ct,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-destructive text-destructive-foreground animate-pulse",children:s>9?"9+":s})]})}),a.jsxs(Hk,{className:"w-80 p-0",align:"end",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h4",{className:"font-semibold",children:"Notificaes"}),s>0&&a.jsxs($,{variant:"ghost",size:"sm",onClick:d,className:"text-xs gap-1",children:[a.jsx(bg,{className:"w-3 h-3"}),"Marcar como lidas"]})]}),a.jsx(Ii,{className:"h-80",children:r.length===0?a.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[a.jsx(nh,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Nenhuma notificao"})]}):a.jsx("div",{className:"divide-y",children:r.map(m=>a.jsx("button",{onClick:()=>u(m),className:`w-full p-4 text-left hover:bg-muted/50 transition-colors ${m.is_read?"":"bg-primary/5"}`,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"mt-1",children:f(m.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm",children:m.title}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:m.description}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Jk(new Date(m.created_at),{addSuffix:!0,locale:eC})})]}),!m.is_read&&a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"})]})},m.id))})})]})]})}const C8=()=>{const{user:e,loading:t,signOut:r}=It(),n=Et(),[s]=Vg(),[o,i]=h.useState("feed"),[l,c]=h.useState(!1),{gradient:u,greeting:d,emoji:f}=j6();return h.useEffect(()=>{s.get("error")&&n(`/auth/error?${s.toString()}`)},[s,n]),t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?a.jsxs("div",{className:"min-h-screen transition-all duration-1000",children:[a.jsx("header",{className:"bg-card/80 backdrop-blur-md border-b shadow-card sticky top-0 z-50 w-full",children:a.jsx("div",{className:"container mx-auto py-2 sm:py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:Oi,alt:"Orkadia Logo",className:"h-12 w-auto"}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-lg font-medium text-foreground",children:[a.jsx("span",{children:f}),a.jsx("span",{children:d})]})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-3",children:[a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"gap-2 hidden md:flex",children:[l?a.jsx(z1,{className:"w-4 h-4"}):a.jsx(wT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"Sons"})]}),a.jsx(tC,{}),a.jsx(bc,{}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>n("/privacy-settings"),title:"Configuraes de Privacidade",className:"w-8 h-8 sm:w-10 sm:h-10",children:a.jsx(A1,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden md:inline truncate max-w-[100px] lg:max-w-none",children:e.email}),a.jsxs($,{variant:"outline",size:"sm",onClick:r,className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4",children:[a.jsx(R1,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})})}),a.jsxs("div",{className:"container mx-auto py-4 sm:py-8",children:[a.jsxs(H,{className:"p-3 sm:p-6 mb-4 sm:mb-8 shadow-elevated bg-card/90 backdrop-blur-sm border-2 w-full",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Navegue pela Cidade Orkadia"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-2 sm:gap-4",children:[a.jsx(zt,{icon:Da,label:"Minha Casa",active:o==="profile",onClick:()=>i("profile")}),a.jsx(zt,{icon:vt,label:"Praa Central",active:o==="feed",onClick:()=>i("feed")}),a.jsx(zt,{icon:Kd,label:"Explorar",active:!1,onClick:()=>n("/explore")}),a.jsx(zt,{icon:Ll,label:"Clubes",active:o==="communities",onClick:()=>n("/clubs")}),a.jsx(zt,{icon:On,label:"Cinema",active:o==="media",onClick:()=>n("/cinema")}),a.jsx(zt,{icon:$a,label:"Delegacia",active:o==="moderation",onClick:()=>n("/moderation")}),a.jsx(zt,{icon:$l,label:"Prefeitura",active:o==="admin",onClick:()=>n("/city-hall")})]})]}),o==="feed"&&a.jsx(E$,{setActiveSection:i}),o==="profile"&&a.jsx(Mk,{}),o!=="feed"&&o!=="profile"&&a.jsx(H,{className:"p-8 shadow-elevated",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"w-20 h-20 bg-gradient-orkut rounded-full mx-auto flex items-center justify-center animate-float",children:[o==="communities"&&a.jsx(Ll,{className:"w-10 h-10 text-white"}),o==="media"&&a.jsx(On,{className:"w-10 h-10 text-white"}),o==="moderation"&&a.jsx($a,{className:"w-10 h-10 text-white"}),o==="admin"&&a.jsx($l,{className:"w-10 h-10 text-white"})]}),a.jsxs("h2",{className:"text-3xl font-bold",children:[o==="communities"&&"Clubes e Comunidades",o==="media"&&"Cinema Digital",o==="moderation"&&"Delegacia - Moderao",o==="admin"&&"Prefeitura"]}),a.jsxs("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:[o==="communities"&&"Participe de clubes baseados em seus interesses e hobbies.",o==="media"&&"Compartilhe fotos e vdeos. Veja o contedo mais popular da semana.",o==="moderation"&&"Sistema de moderao comunitria para manter a cidade segura.",o==="admin"&&"Participe das decises da comunidade e veja anncios oficiais."]}),a.jsx("div",{className:"pt-4",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:" Esta seo est em desenvolvimento. Em breve teremos mais funcionalidades!"})})]})})]})]}):a.jsx(Qa,{to:"/auth",replace:!0})},E8=()=>{const e=ta();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},P8=()=>{const[e,t]=h.useState("Verificando..."),[r,n]=h.useState(null),s=Et(),o=["profiles","achievements","comments","communities","community_members","posts","scraps","testimonials","user_achievements","user_roles"];h.useEffect(()=>{i()},[]);const i=async()=>{try{t("Verificando conexo..."),n(null);const{error:l}=await R.from("profiles").select("id").limit(1);if(l)throw l;t("Conectado ao Supabase com sucesso!")}catch(l){t("Falha na conexo"),n(l.message||"Erro desconhecido"),console.error("Erro na conexo:",l)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(H,{className:"w-full max-w-2xl p-6 shadow-lg",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Teste de Conexo e Tabelas Supabase"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-md bg-muted",children:[a.jsx("h2",{className:"font-semibold mb-2",children:"Status da Conexo:"}),a.jsx("p",{className:`${e.includes("sucesso")?"text-green-500":e.includes("Falha")?"text-red-500":"text-yellow-500"} font-medium`,children:e}),r&&a.jsxs("div",{className:"mt-2 p-2 bg-red-100 text-red-800 rounded text-sm",children:[a.jsx("p",{className:"font-semibold",children:"Erro:"}),a.jsx("p",{children:r})]})]}),a.jsxs("div",{className:"p-4 rounded-md bg-muted",children:[a.jsx("h2",{className:"font-semibold mb-2",children:"Tabelas Esperadas no Banco de Dados:"}),a.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:o.map(l=>a.jsxs("li",{className:"truncate text-green-500",children:[" ",l]},l))})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx($,{onClick:i,variant:"default",children:"Testar Novamente"}),a.jsx($,{onClick:()=>s("/auth"),variant:"secondary",children:"Ir para Login"}),a.jsx($,{onClick:()=>s("/"),variant:"outline",children:"Voltar ao Incio"})]})]})]})})},qn=()=>{const e=Et(),t=ta(),{user:r,signOut:n}=It(),o=(()=>{const i=t.pathname;return i==="/dashboard"?"feed":i.startsWith("/profile")?"profile":i==="/explore"?"explore":i==="/messages"?"messages":i==="/clubs"?"clubs":i==="/cinema"?"cinema":i==="/moderation"?"moderation":i==="/city-hall"?"city-hall":""})();return a.jsxs(a.Fragment,{children:[a.jsx("header",{className:"bg-card border-b shadow-card sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("img",{src:Oi,alt:"Orkadia Logo",className:"h-12 w-auto cursor-pointer",onClick:()=>e("/dashboard")}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(tC,{}),a.jsx(bc,{}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>e("/privacy-settings"),title:"Configuraes de Privacidade",children:a.jsx(A1,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:r==null?void 0:r.email}),a.jsxs($,{variant:"outline",size:"sm",onClick:n,className:"gap-2",children:[a.jsx(R1,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(H,{className:"p-6 mb-8 shadow-elevated",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Navegue pela Cidade"}),a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-9 gap-4",children:[a.jsx(zt,{icon:Da,label:"Minha Casa",active:o==="profile",onClick:()=>e(`/profile/${r==null?void 0:r.id}`)}),a.jsx(zt,{icon:vt,label:"Praa Central",active:o==="feed",onClick:()=>e("/dashboard")}),a.jsx(zt,{icon:Kd,label:"Explorar",active:o==="explore",onClick:()=>e("/explore")}),a.jsx(zt,{icon:ur,label:"Mensagens",active:o==="messages",onClick:()=>e("/messages")}),a.jsx(zt,{icon:Ll,label:"Clubes",active:o==="clubs",onClick:()=>e("/clubs")}),a.jsx(zt,{icon:On,label:"Cinema",active:o==="cinema",onClick:()=>e("/cinema")}),a.jsx(zt,{icon:$a,label:"Delegacia",active:o==="moderation",onClick:()=>e("/moderation")}),a.jsx(zt,{icon:$l,label:"Prefeitura",active:o==="city-hall",onClick:()=>e("/city-hall")})]})]})})]})},j0={Cultura:uT,Msica:ln,Filmes:On,Animes:oT,Livros:Ll,Outros:qs};function T8(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState("Todos"),i=Et();h.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:{user:f}}=await R.auth.getUser(),{data:m,error:p}=await R.from("communities").select("*").order("members_count",{ascending:!1});if(p)throw p;if(f){const{data:b}=await R.from("community_members").select("community_id").eq("user_id",f.id),g=new Set((b==null?void 0:b.map(w=>w.community_id))||[]),y=m.map(w=>({...w,is_member:g.has(w.id)}));t(y)}else t(m||[])}catch(f){console.error("Erro ao carregar clubes:",f),F.error("Erro ao carregar clubes")}finally{n(!1)}},c=async(f,m)=>{try{const{data:{user:p}}=await R.auth.getUser();if(!p){F.error("Voc precisa estar logado");return}if(m){const{error:b}=await R.from("community_members").delete().eq("community_id",f).eq("user_id",p.id);if(b)throw b;F.success("Voc saiu do clube")}else{const{error:b}=await R.from("community_members").insert({community_id:f,user_id:p.id,role:"member"});if(b)throw b;F.success("Voc entrou no clube!")}l()}catch(p){console.error("Erro ao atualizar inscrio:",p),F.error("Erro ao atualizar inscrio")}},u=["Todos",...Object.keys(j0)],d=s==="Todos"?e:e.filter(f=>f.category===s);return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(qn,{}),a.jsx("div",{className:"container mx-auto px-6 pb-8",children:a.jsxs("div",{className:"bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 border rounded-2xl p-8 mb-8 text-center",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-3 flex items-center justify-center gap-3",children:[a.jsx(Mn,{className:"w-8 h-8 text-primary"}),"Clubes de Orkadia",a.jsx(Mn,{className:"w-8 h-8 text-primary"})]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Os Clubes so o corao da cidade. Aqui, quem compartilha, cria laos  e quem cria, faz histria."})]})}),a.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[a.jsx(Ja,{value:s,onValueChange:o,className:"mb-6",children:a.jsx(Bn,{className:"grid w-full grid-cols-3 lg:grid-cols-7",children:u.map(f=>a.jsx(Ge,{value:f,children:f},f))})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(f=>{const m=j0[f.category]||qs;return a.jsxs(H,{className:"group hover:shadow-elevated transition-all hover:scale-[1.02] bg-card/95 backdrop-blur-sm",children:[a.jsx(Ye,{className:"pb-3",children:a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-xl shadow-lg group-hover:scale-110 transition-transform",children:a.jsx(m,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(rt,{className:"text-xl mb-1 cursor-pointer hover:text-primary transition-colors",onClick:()=>i(`/clubs/${f.id}`),children:f.name}),a.jsx(ct,{variant:"secondary",className:"text-xs",children:f.category})]})]})})}),a.jsxs($e,{className:"space-y-4",children:[a.jsx(Ss,{className:"line-clamp-3 min-h-[60px]",children:f.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(vt,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"font-medium",children:f.members_count||0}),a.jsx("span",{className:"text-xs",children:"membros"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(zl,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-xs",children:"Ativo"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 rounded-lg p-2",children:[a.jsx(ur,{className:"w-3 h-3"}),a.jsx("span",{children:"ltimas postagens esta semana"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{variant:"outline",className:"flex-1",onClick:()=>i(`/clubs/${f.id}`),children:"Ver Clube"}),a.jsx($,{variant:f.is_member?"outline":"default",onClick:()=>c(f.id,f.is_member||!1),children:f.is_member?"Sair":"Entrar"})]})]})]},f.id)})}),d.length===0&&a.jsx(H,{className:"p-12 text-center bg-card/95 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:a.jsx(vt,{className:"w-16 h-16 text-primary"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-2xl font-bold",children:s==="Todos"?" Nenhum clube foi criado ainda":`Nenhum clube encontrado em ${s}`}),a.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:s==="Todos"?"Que tal fundar o primeiro e marcar seu nome na histria da cidade?":`Seja o pioneiro a criar um clube de ${s}!`})]}),a.jsxs($,{size:"lg",className:"gap-2",children:[a.jsx(jg,{className:"w-5 h-5"}),"Criar um Clube"]})]})})]})]})}function R8(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(!1),[i,l]=h.useState(!1),[c,u]=h.useState(0),[d,f]=h.useState("all"),[m,p]=h.useState({title:"",description:""}),[b,g]=h.useState(null),[y,w]=h.useState(""),x=h.useRef(null),v=h.useRef([]);Et(),h.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:{user:T}}=await R.auth.getUser(),{data:D,error:U}=await R.from("videos").select(`
          *,
          profiles (*)
        `).order("created_at",{ascending:!1});if(U)throw U;if(T){const{data:M}=await R.from("video_likes").select("video_id").eq("user_id",T.id),q=new Set((M==null?void 0:M.map(z=>z.video_id))||[]),P=D.map(z=>({...z,user_liked:q.has(z.id)}));t(P)}else t(D||[])}catch(T){console.error("Erro ao carregar vdeos:",T),F.error("Erro ao carregar vdeos")}finally{n(!1)}},N=T=>{var U;const D=(U=T.target.files)==null?void 0:U[0];if(D){if(D.size>100*1024*1024){F.error("Vdeo muito grande! Mximo 100MB");return}g(D),w(URL.createObjectURL(D))}},j=()=>{g(null),w(""),x.current&&(x.current.value="")},S=async()=>{if(!b||!m.title.trim()){F.error("Ttulo e vdeo so obrigatrios");return}o(!0);try{const{data:{user:T}}=await R.auth.getUser();if(!T)throw new Error("Usurio no autenticado");const D=b.name.split(".").pop(),U=`${T.id}/${Date.now()}.${D}`,{error:M}=await R.storage.from("videos").upload(U,b);if(M)throw M;const{data:{publicUrl:q}}=R.storage.from("videos").getPublicUrl(U),{error:P}=await R.from("videos").insert({user_id:T.id,title:m.title.trim(),description:m.description.trim(),video_url:q});if(P)throw P;F.success("Vdeo postado com sucesso!"),l(!1),p({title:"",description:""}),j(),_()}catch(T){console.error("Erro ao postar vdeo:",T),F.error("Erro ao postar vdeo")}finally{o(!1)}},k=async(T,D)=>{try{const{data:{user:U}}=await R.auth.getUser();if(!U){F.error("Voc precisa estar logado");return}if(D){const{error:M}=await R.from("video_likes").delete().eq("video_id",T).eq("user_id",U.id);if(M)throw M}else{const{error:M}=await R.from("video_likes").insert({video_id:T,user_id:U.id});if(M)throw M}_()}catch(U){console.error("Erro ao curtir vdeo:",U),F.error("Erro ao curtir vdeo")}},E=(()=>{const T=new Date,D=new Date(T.getTime()-7*24*60*60*1e3);switch(d){case"trending":return[...e].sort((U,M)=>(M.likes_count||0)-(U.likes_count||0)).slice(0,10);case"recent":return[...e].sort((U,M)=>new Date(M.created_at).getTime()-new Date(U.created_at).getTime()).slice(0,10);case"week":return e.filter(U=>new Date(U.created_at)>=D).sort((U,M)=>(M.views_count||0)-(U.views_count||0));default:return e}})();return h.useEffect(()=>{const T=new IntersectionObserver(D=>{D.forEach(U=>{const M=U.target;U.isIntersecting?M.play().catch(()=>{}):M.pause()})},{threshold:.6});return v.current.forEach(D=>{D&&T.observe(D)}),()=>{v.current.forEach(D=>{D&&T.unobserve(D)})}},[E]),r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx(On,{className:"w-16 h-16 text-primary mx-auto mb-4 animate-pulse"}),a.jsx("p",{className:"text-white/80",children:"Carregando o Cinema..."})]})}):a.jsxs("div",{className:"min-h-screen",children:[a.jsx(qn,{}),a.jsx("div",{className:"container mx-auto px-4 pb-6",children:a.jsx("div",{className:"bg-gradient-to-r from-primary/30 via-accent/30 to-primary/30 backdrop-blur-md border border-white/30 rounded-2xl py-6 px-8 text-center mb-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(On,{className:"w-8 h-8 text-primary"}),"Cinema Orkadia"]}),a.jsx("p",{className:"text-white/80 max-w-2xl",children:" Onde cada histria ganha luz no telo da cidade"})]}),a.jsxs($,{onClick:()=>l(!i),className:"bg-primary hover:bg-primary/90",children:[a.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Gravar seu curta!"]})]})})}),i&&a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsx(H,{className:"bg-black/70 backdrop-blur-md border-white/20 shadow-lg",children:a.jsxs($e,{className:"p-6 space-y-4",children:[a.jsx(yt,{placeholder:"Ttulo do vdeo",value:m.title,onChange:T=>p({...m,title:T.target.value}),maxLength:100,className:"bg-black/50 border-white/30 text-white placeholder:text-white/60"}),a.jsx(Bt,{placeholder:"Descrio (opcional)",value:m.description,onChange:T=>p({...m,description:T.target.value}),maxLength:500,rows:3,className:"bg-black/50 border-white/30 text-white placeholder:text-white/60"}),a.jsxs("div",{children:[a.jsx("input",{ref:x,type:"file",accept:"video/*",className:"hidden",onChange:N}),a.jsxs($,{variant:"outline",onClick:()=>{var T;return(T=x.current)==null?void 0:T.click()},className:"w-full",children:[a.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Selecionar Vdeo"]})]}),y&&a.jsxs("div",{className:"relative bg-black rounded-lg",children:[a.jsx("video",{src:y,controls:!0,className:"w-full max-h-96 rounded-lg"}),a.jsx($,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:j,children:a.jsx(Wn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{onClick:S,disabled:!b||!m.title.trim()||s,className:"flex-1",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Fl,{className:"w-4 h-4 mr-2 animate-spin"}),"Postando..."]}):"Postar Vdeo"}),a.jsx($,{variant:"outline",onClick:()=>{l(!1),p({title:"",description:""}),j()},children:"Cancelar"})]})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsx(Ja,{value:d,onValueChange:f,children:a.jsxs(Bn,{className:"grid w-full grid-cols-4 bg-black/80 backdrop-blur-md border border-white/20 shadow-lg",children:[a.jsxs(Ge,{value:"all",className:"data-[state=active]:bg-primary data-[state=active]:text-white text-white/80 hover:text-white hover:bg-white/10 transition-all",children:[a.jsx(On,{className:"w-4 h-4 mr-2"}),"Todos"]}),a.jsxs(Ge,{value:"trending",className:"data-[state=active]:bg-primary data-[state=active]:text-white text-white/80 hover:text-white hover:bg-white/10 transition-all",children:[a.jsx(zl,{className:"w-4 h-4 mr-2"}),"Em Alta"]}),a.jsxs(Ge,{value:"week",className:"data-[state=active]:bg-primary data-[state=active]:text-white text-white/80 hover:text-white hover:bg-white/10 transition-all",children:[a.jsx(S1,{className:"w-4 h-4 mr-2"}),"Mais Assistidos"]}),a.jsxs(Ge,{value:"recent",className:"data-[state=active]:bg-primary data-[state=active]:text-white text-white/80 hover:text-white hover:bg-white/10 transition-all",children:[a.jsx(XP,{className:"w-4 h-4 mr-2"}),"Estreias Recentes"]})]})})}),a.jsx("div",{className:"container mx-auto px-4 pb-6",children:E.length===0?a.jsx(H,{className:"p-12 text-center bg-black/70 backdrop-blur-md border-white/20 shadow-lg",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(On,{className:"w-16 h-16 text-primary"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Nenhum vdeo encontrado"}),a.jsx("p",{className:"text-white/60",children:"Seja o primeiro a projetar sua histria no telo da cidade!"})]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map((T,D)=>{var U,M,q,P,z;return a.jsx(H,{className:"group overflow-hidden bg-black/70 backdrop-blur-md border-white/20 hover:border-primary/50 transition-all shadow-lg",children:a.jsxs($e,{className:"p-0 relative aspect-[9/16]",children:[a.jsx("video",{ref:I=>v.current[D]=I,src:T.video_url,className:"w-full h-full object-cover",loop:!0,muted:!0,playsInline:!0}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(bt,{className:"w-10 h-10 ring-2 ring-primary",children:[a.jsx(_t,{src:((U=T.profiles)==null?void 0:U.avatar_url)||""}),a.jsx(jt,{className:"bg-primary text-primary-foreground",children:((q=(M=T.profiles)==null?void 0:M.display_name)==null?void 0:q[0])||"?"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-semibold text-sm",children:((P=T.profiles)==null?void 0:P.display_name)||"Annimo"}),a.jsxs("p",{className:"text-white/60 text-xs",children:["@",((z=T.profiles)==null?void 0:z.username)||"desconhecido"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-bold text-lg line-clamp-2",children:T.title}),T.description&&a.jsx("p",{className:"text-white/80 text-sm line-clamp-2 mt-1",children:T.description})]}),a.jsxs("div",{className:"flex items-center gap-4 text-white/80",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qs,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:T.likes_count||0})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ed,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"0"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Lo,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:T.views_count||0})]})]})]}),a.jsxs("div",{className:"absolute right-4 bottom-24 flex flex-col gap-4",children:[a.jsx($,{size:"icon",variant:"ghost",className:`rounded-full w-12 h-12 backdrop-blur-md ${T.user_liked?"bg-primary text-white":"bg-black/70 text-white hover:bg-primary/50"}`,onClick:()=>k(T.id,T.user_liked||!1),children:a.jsx(qs,{className:`w-6 h-6 ${T.user_liked?"fill-current":""}`})}),a.jsx($,{size:"icon",variant:"ghost",className:"rounded-full w-12 h-12 bg-black/70 backdrop-blur-md text-white hover:bg-primary/50",children:a.jsx(ed,{className:"w-6 h-6"})}),a.jsx($,{size:"icon",variant:"ghost",className:"rounded-full w-12 h-12 bg-black/70 backdrop-blur-md text-white hover:bg-primary/50",children:a.jsx(M1,{className:"w-6 h-6"})}),a.jsx($,{size:"icon",variant:"ghost",className:"rounded-full w-12 h-12 bg-black/70 backdrop-blur-md text-white hover:bg-primary/50",children:a.jsx(QP,{className:"w-6 h-6"})})]})]})]})},T.id)})})})]})}const rC=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:le("w-full caption-bottom text-sm",e),...t})}));rC.displayName="Table";const nC=h.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:le("[&_tr]:border-b",e),...t}));nC.displayName="TableHeader";const sC=h.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:le("[&_tr:last-child]:border-0",e),...t}));sC.displayName="TableBody";const O8=h.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));O8.displayName="TableFooter";const Eu=h.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:le("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Eu.displayName="TableRow";const pa=h.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));pa.displayName="TableHead";const as=h.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));as.displayName="TableCell";const A8=h.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:le("mt-4 text-sm text-muted-foreground",e),...t}));A8.displayName="TableCaption";const M8=()=>{const{user:e,loading:t}=It(),r=rf(),[n,s]=h.useState(null),[o,i]=h.useState(""),[l,c]=h.useState(!1),[u,d]=h.useState({reportType:"post",itemId:"",reason:""}),{data:f}=Sn({queryKey:["userRole",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:E}=await R.from("user_roles").select("role").eq("user_id",e.id).single();return E==null?void 0:E.role},enabled:!!e}),{data:m=[],isLoading:p}=Sn({queryKey:["reports",e==null?void 0:e.id,f],queryFn:async()=>{if(!e)return[];const E=f==="admin"||f==="moderator",T=R.from("reports").select("*").order("created_at",{ascending:!1});E||T.eq("reporter_id",e.id);const{data:D,error:U}=await T;if(U)throw U;const M=[...new Set((D==null?void 0:D.map(z=>z.reporter_id))||[])],{data:q}=await R.from("profiles").select("id, username").in("id",M),P=new Map((q==null?void 0:q.map(z=>[z.id,z]))||[]);return D==null?void 0:D.map(z=>{var I;return{...z,reporter:{username:((I=P.get(z.reporter_id))==null?void 0:I.username)||"Usurio Desconhecido"}}})},enabled:!!e}),b=Uo({mutationFn:async E=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:T}=await R.from("reports").insert({reporter_id:e.id,reported_item_id:E.itemId,report_type:E.reportType,reason:E.reason,status:"pending"});if(T)throw T},onSuccess:()=>{r.invalidateQueries({queryKey:["reports"]}),F.success("Denncia enviada com sucesso"),c(!1),d({reportType:"post",itemId:"",reason:""})},onError:()=>{F.error("Erro ao enviar denncia")}}),g=Uo({mutationFn:async({reportId:E,status:T,notes:D})=>{const{error:U}=await R.from("reports").update({status:T,moderator_notes:D,resolved_by:e==null?void 0:e.id,resolved_at:new Date().toISOString()}).eq("id",E);if(U)throw U},onSuccess:()=>{r.invalidateQueries({queryKey:["reports"]}),F.success("Report atualizado com sucesso"),s(null),i("")},onError:()=>{F.error("Erro ao atualizar report")}}),y=Uo({mutationFn:async({itemId:E,type:T})=>{let D;if(T==="post"?D=(await R.from("posts").delete().eq("id",E)).error:T==="comment"?D=(await R.from("comments").delete().eq("id",E)).error:T==="video"&&(D=(await R.from("videos").delete().eq("id",E)).error),D)throw D},onSuccess:()=>{F.success("Contedo removido com sucesso")},onError:()=>{F.error("Erro ao remover contedo")}});if(t||p)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!e)return a.jsx(Qa,{to:"/auth",replace:!0});const w=f==="admin"||f==="moderator",x=m.filter(E=>E.status==="pending"),v=m.filter(E=>E.status==="resolved"),_=m.filter(E=>E.status==="dismissed"),N=E=>({post:"Post",comment:"Comentrio",user:"Usurio",video:"Vdeo"})[E]||E,j=E=>E==="pending"?a.jsx(ct,{variant:"outline",className:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-300",children:"Pendente"}):E==="resolved"?a.jsx(ct,{variant:"outline",className:"bg-green-500/10 text-green-700 dark:text-green-300",children:"Resolvido"}):a.jsx(ct,{variant:"outline",className:"bg-gray-500/10",children:"Descartado"}),S=E=>{n&&g.mutate({reportId:n.id,status:E,notes:o})},k=(E,T)=>{confirm("Tem certeza que deseja remover este contedo?")&&y.mutate({itemId:E,type:T})},O=({reportsList:E})=>a.jsxs(rC,{children:[a.jsx(nC,{children:a.jsxs(Eu,{children:[a.jsx(pa,{children:"Tipo"}),a.jsx(pa,{children:"Motivo"}),w&&a.jsx(pa,{children:"Reportado por"}),a.jsx(pa,{children:"Data"}),a.jsx(pa,{children:"Status"}),a.jsx(pa,{children:"Aes"})]})}),a.jsx(sC,{children:E.length===0?a.jsx(Eu,{children:a.jsx(as,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"Nenhum report encontrado"})}):E.map(T=>a.jsxs(Eu,{children:[a.jsx(as,{children:N(T.report_type)}),a.jsx(as,{className:"max-w-md truncate",children:T.reason}),w&&a.jsx(as,{children:T.reporter.username}),a.jsx(as,{children:al(new Date(T.created_at),"dd/MM/yyyy HH:mm")}),a.jsx(as,{children:j(T.status)}),a.jsx(as,{children:a.jsx("div",{className:"flex gap-2",children:a.jsxs(mr,{children:[a.jsx(f0,{asChild:!0,children:a.jsx($,{variant:"outline",size:"sm",onClick:()=>{s(T),i(T.moderator_notes||"")},children:a.jsx(Lo,{className:"w-4 h-4"})})}),a.jsxs(nr,{className:"max-w-2xl",children:[a.jsx(pr,{children:a.jsx(gr,{children:"Detalhes do Report"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Tipo:"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:N(T.report_type)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Motivo:"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.reason})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"ID do Item Reportado:"}),a.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:T.reported_item_id})]}),w&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Notas do Moderador:"}),a.jsx(Bt,{value:o,onChange:D=>i(D.target.value),placeholder:"Adicione notas sobre sua deciso...",className:"min-h-[100px]"})]}),T.status==="pending"&&a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx($,{variant:"destructive",size:"sm",onClick:()=>k(T.reported_item_id,T.report_type),children:"Remover Contedo"}),a.jsxs($,{variant:"default",size:"sm",onClick:()=>S("resolved"),children:[a.jsx(Ju,{className:"w-4 h-4 mr-2"}),"Resolver"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>S("dismissed"),children:[a.jsx(zx,{className:"w-4 h-4 mr-2"}),"Descartar"]})]})]}),T.moderator_notes&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Resposta do Moderador:"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.moderator_notes})]})]})]})]})})})]},T.id))})]});return a.jsxs("div",{className:"min-h-screen",children:[a.jsx(qn,{}),a.jsx("div",{className:"container mx-auto px-4 pb-8 max-w-7xl",children:a.jsxs(H,{className:"p-8 shadow-elevated bg-card/95 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:a.jsx($a,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:" Delegacia de Orkadia"}),a.jsx("p",{className:"text-muted-foreground text-lg mt-1",children:w?"Mantendo a paz e a ordem na cidade digital":"Suas denncias e acompanhamentos"})]})]}),a.jsxs(mr,{open:l,onOpenChange:c,children:[a.jsx(f0,{asChild:!0,children:a.jsxs($,{className:"gap-2",children:[a.jsx(jg,{className:"w-4 h-4"}),"Nova Denncia"]})}),a.jsxs(nr,{children:[a.jsx(pr,{children:a.jsx(gr,{children:"Criar Nova Denncia"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(pt,{htmlFor:"report-type",children:"Tipo"}),a.jsxs(Jl,{value:u.reportType,onValueChange:E=>d({...u,reportType:E}),children:[a.jsx(yi,{id:"report-type",children:a.jsx(ec,{})}),a.jsxs(wi,{children:[a.jsx(hn,{value:"post",children:"Post"}),a.jsx(hn,{value:"comment",children:"Comentrio"}),a.jsx(hn,{value:"video",children:"Vdeo"}),a.jsx(hn,{value:"user",children:"Usurio"})]})]})]}),a.jsxs("div",{children:[a.jsx(pt,{htmlFor:"item-id",children:"ID do Item"}),a.jsx(yt,{id:"item-id",placeholder:"Cole o ID do item que deseja denunciar",value:u.itemId,onChange:E=>d({...u,itemId:E.target.value})})]}),a.jsxs("div",{children:[a.jsx(pt,{htmlFor:"reason",children:"Motivo da Denncia"}),a.jsx(Bt,{id:"reason",placeholder:"Descreva o motivo da denncia...",value:u.reason,onChange:E=>d({...u,reason:E.target.value}),className:"min-h-[100px]"})]}),a.jsx($,{className:"w-full",onClick:()=>b.mutate(u),disabled:!u.itemId||!u.reason,children:"Enviar Denncia"})]})]})]})]}),a.jsx(H,{className:"p-6 mb-8 bg-gradient-to-r from-orange-500/10 to-red-500/10 border-orange-200 dark:border-orange-800",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(nT,{className:"w-8 h-8 text-orange-600 dark:text-orange-400 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2 text-orange-900 dark:text-orange-100",children:" Conselho da Cidade"}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:w?"Como guardio da paz em Orkadia, voc tem a responsabilidade de analisar denncias, proteger a comunidade e manter o respeito entre todos os cidados. Cada deciso deve ser justa e transparente.":"A Delegacia de Orkadia est aqui para garantir que nossa cidade digital seja um lugar seguro e respeitoso para todos. Se voc presenciar contedo inadequado, faa uma denncia e nossa equipe analisar com ateno."})]})]})}),w&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsxs(H,{className:"p-6 bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 border-yellow-300 dark:border-yellow-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(D1,{className:"w-6 h-6 text-yellow-700 dark:text-yellow-300"}),a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendentes"})]}),a.jsx("p",{className:"text-4xl font-bold text-yellow-700 dark:text-yellow-300",children:x.length})]}),a.jsxs(H,{className:"p-6 bg-gradient-to-br from-green-500/20 to-green-600/20 border-green-300 dark:border-green-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Ju,{className:"w-6 h-6 text-green-700 dark:text-green-300"}),a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Resolvidos"})]}),a.jsx("p",{className:"text-4xl font-bold text-green-700 dark:text-green-300",children:v.length})]}),a.jsxs(H,{className:"p-6 bg-gradient-to-br from-gray-500/20 to-gray-600/20 border-gray-300 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(zx,{className:"w-6 h-6 text-gray-700 dark:text-gray-400"}),a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Descartados"})]}),a.jsx("p",{className:"text-4xl font-bold text-gray-700 dark:text-gray-400",children:_.length})]})]}),a.jsxs(Ja,{defaultValue:"pending",className:"w-full",children:[w?a.jsxs(Bn,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ge,{value:"pending",children:["Pendentes (",x.length,")"]}),a.jsxs(Ge,{value:"resolved",children:["Resolvidos (",v.length,")"]}),a.jsxs(Ge,{value:"dismissed",children:["Descartados (",_.length,")"]})]}):a.jsxs(Bn,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ge,{value:"pending",children:["Minhas Denncias Pendentes (",x.length,")"]}),a.jsxs(Ge,{value:"resolved",children:["Resolvidas (",v.length,")"]}),a.jsxs(Ge,{value:"dismissed",children:["Descartadas (",_.length,")"]})]}),a.jsx(At,{value:"pending",className:"mt-6",children:a.jsx(O,{reportsList:x})}),a.jsx(At,{value:"resolved",className:"mt-6",children:a.jsx(O,{reportsList:v})}),a.jsx(At,{value:"dismissed",className:"mt-6",children:a.jsx(O,{reportsList:_})})]})]})})]})};var vv="Progress",xv=100,[I8]=sr(vv),[D8,L8]=I8(vv),aC=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=$8,...i}=e;(s||s===0)&&!N0(s)&&console.error(F8(`${s}`,"Progress"));const l=N0(s)?s:xv;n!==null&&!S0(n,l)&&console.error(z8(`${n}`,"Progress"));const c=S0(n,l)?n:null,u=Nd(c)?o(c,l):void 0;return a.jsx(D8,{scope:r,value:c,max:l,children:a.jsx(de.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Nd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":lC(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});aC.displayName=vv;var oC="ProgressIndicator",iC=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=L8(oC,r);return a.jsx(de.div,{"data-state":lC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});iC.displayName=oC;function $8(e,t){return`${Math.round(e/t*100)}%`}function lC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Nd(e){return typeof e=="number"}function N0(e){return Nd(e)&&!isNaN(e)&&e>0}function S0(e,t){return Nd(e)&&!isNaN(e)&&e<=t&&e>=0}function F8(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${xv}\`.`}function z8(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${xv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cC=aC,U8=iC;const Sd=h.forwardRef(({className:e,value:t,...r},n)=>a.jsx(cC,{ref:n,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(U8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Sd.displayName=cC.displayName;const B8=()=>{const{user:e,loading:t}=It(),r=rf(),[n,s]=h.useState(null),[o,i]=h.useState(""),[l,c]=h.useState(!1),{data:u}=Sn({queryKey:["userRole",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:j}=await R.from("user_roles").select("role").eq("user_id",e.id).single();return j==null?void 0:j.role},enabled:!!e}),{data:d=[]}=Sn({queryKey:["announcements"],queryFn:async()=>{const{data:j,error:S}=await R.from("announcements").select("*").order("created_at",{ascending:!1}).limit(10);if(S)throw S;return j}}),{data:f=[]}=Sn({queryKey:["elections"],queryFn:async()=>{const{data:j,error:S}=await R.from("elections").select("*").order("created_at",{ascending:!1});if(S)throw S;return j}}),{data:m=[]}=Sn({queryKey:["candidates",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:j,error:S}=await R.from("candidates").select("*").eq("election_id",n.id).order("votes_count",{ascending:!1});if(S)throw S;const k=j.map(T=>T.user_id),{data:O}=await R.from("profiles").select("id, username, avatar_url").in("id",k),E=new Map((O==null?void 0:O.map(T=>[T.id,T]))||[]);return j.map(T=>({...T,profile:E.get(T.user_id)||{username:"Usurio",avatar_url:null}}))},enabled:!!n}),{data:p=[]}=Sn({queryKey:["polls"],queryFn:async()=>{const{data:j,error:S}=await R.from("polls").select("*").order("created_at",{ascending:!1});if(S)throw S;return await Promise.all(j.map(async O=>{const{data:E}=await R.from("poll_options").select("*").eq("poll_id",O.id).order("created_at");return{...O,options:E||[]}}))}}),{data:b=[]}=Sn({queryKey:["userVotes",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:j}=await R.from("election_votes").select("election_id").eq("voter_id",e.id);return(j==null?void 0:j.map(S=>S.election_id))||[]},enabled:!!e}),{data:g=[]}=Sn({queryKey:["userPollVotes",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:j}=await R.from("poll_votes").select("poll_id").eq("voter_id",e.id);return(j==null?void 0:j.map(S=>S.poll_id))||[]},enabled:!!e}),y=Uo({mutationFn:async({electionId:j,proposal:S})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:k}=await R.from("candidates").insert({election_id:j,user_id:e.id,proposal:S});if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["candidates"]}),F.success("Candidatura registrada com sucesso!"),c(!1),i("")},onError:j=>{var S;(S=j.message)!=null&&S.includes("duplicate")?F.error("Voc j se candidatou para esta eleio"):F.error("Erro ao registrar candidatura")}}),w=Uo({mutationFn:async({electionId:j,candidateId:S})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:k}=await R.from("election_votes").insert({election_id:j,candidate_id:S,voter_id:e.id});if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["candidates"]}),r.invalidateQueries({queryKey:["userVotes"]}),F.success("Voto computado com sucesso!")},onError:j=>{var S;(S=j.message)!=null&&S.includes("duplicate")?F.error("Voc j votou nesta eleio"):F.error("Erro ao votar")}}),x=Uo({mutationFn:async({pollId:j,optionId:S})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:k}=await R.from("poll_votes").insert({poll_id:j,option_id:S,voter_id:e.id});if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["polls"]}),r.invalidateQueries({queryKey:["userPollVotes"]}),F.success("Voto registrado!")},onError:j=>{var S;(S=j.message)!=null&&S.includes("duplicate")?F.error("Voc j votou nesta enquete"):F.error("Erro ao votar")}});if(t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!e)return a.jsx(Qa,{to:"/auth",replace:!0});const v=f.filter(j=>j.status==="active"),_=p.filter(j=>j.status==="active"),N=j=>j==="active"?a.jsx(ct,{className:"bg-green-500/10 text-green-700 dark:text-green-300",children:"Ativa"}):j==="upcoming"?a.jsx(ct,{variant:"outline",className:"bg-blue-500/10 text-blue-700 dark:text-blue-300",children:"Em Breve"}):a.jsx(ct,{variant:"outline",className:"bg-gray-500/10",children:"Encerrada"});return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(qn,{}),a.jsx("div",{className:"container mx-auto px-4 pb-8 max-w-7xl",children:a.jsxs(H,{className:"p-8 shadow-elevated bg-card/95 backdrop-blur-sm",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:a.jsx($l,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:" Prefeitura de Orkadia"}),a.jsx("p",{className:"text-muted-foreground text-lg mt-1",children:"Onde o povo fala  e a voz do povo tem protocolo"})]})]})}),a.jsx(H,{className:"p-6 mb-8 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(pT,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900 dark:text-blue-100",children:" Democracia Digital"}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Na Orkadia, cada voz conta. Aqui voc pode acompanhar comunicados oficiais, participar de eleies para cargos representativos e votar em decises importantes da comunidade. Transparncia e participao so os pilares da nossa cidade digital."})]})]})}),a.jsxs(Ja,{defaultValue:"announcements",className:"w-full",children:[a.jsxs(Bn,{className:"grid w-full grid-cols-3 h-auto",children:[a.jsxs(Ge,{value:"announcements",className:"gap-2 py-3",children:[a.jsx(gl,{className:"w-5 h-5"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold",children:"Avisos"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Comunicados oficiais"})]})]}),a.jsxs(Ge,{value:"elections",className:"gap-2 py-3",children:[a.jsx(ir,{className:"w-5 h-5"}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"font-semibold",children:["Eleies (",v.length,")"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Eleja representantes"})]})]}),a.jsxs(Ge,{value:"polls",className:"gap-2 py-3",children:[a.jsx(Ux,{className:"w-5 h-5"}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"font-semibold",children:["Votaes (",_.length,")"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Decises rpidas"})]})]})]}),a.jsx(At,{value:"announcements",className:"mt-8 space-y-6",children:d.length===0?a.jsxs(H,{className:"p-12 text-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 border-blue-200 dark:border-blue-800",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(gl,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:" Mural Tranquilo"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhum comunicado oficial no momento. Quando houver novidades importantes, elas aparecero aqui no mural da Prefeitura."})]}):d.map(j=>a.jsx(H,{className:"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-blue-500",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:a.jsx(gl,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ct,{className:"bg-blue-500/10 text-blue-700 dark:text-blue-300",children:"Comunicado Oficial"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(k1,{className:"w-3 h-3"}),al(new Date(j.created_at),"dd/MM/yyyy 's' HH:mm")]})]}),a.jsx("h3",{className:"font-bold text-xl mb-3 text-blue-900 dark:text-blue-100",children:j.title}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:j.content})]})]})},j.id))}),a.jsx(At,{value:"elections",className:"mt-6 space-y-4",children:f.length===0?a.jsxs(H,{className:"p-8 text-center",children:[a.jsx(ir,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma eleio no momento"})]}):f.map(j=>{const S=b.includes(j.id),k=j.status==="active";return a.jsxs(H,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold",children:j.title}),N(j.status)]}),a.jsx(ct,{variant:"outline",className:"mb-2",children:j.position==="prefeito"?"Prefeito":"Vereador"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:j.description}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Perodo: ",al(new Date(j.start_date),"dd/MM/yyyy")," at"," ",al(new Date(j.end_date),"dd/MM/yyyy")]})]})}),k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"outline",onClick:()=>{s(j),c(!0)},children:[a.jsx(vt,{className:"w-4 h-4 mr-2"}),"Candidatar-se"]}),a.jsx($,{onClick:()=>s(j),children:"Ver Candidatos e Votar"})]}),S&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[a.jsx(Ju,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Voc j votou nesta eleio"})]})]}),(n==null?void 0:n.id)===j.id&&a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("h4",{className:"text-lg font-bold",children:"Candidatos"}),m.length===0?a.jsx("p",{className:"text-muted-foreground",children:"Nenhum candidato registrado ainda"}):a.jsx("div",{className:"space-y-3",children:m.map(O=>{const E=m.reduce((D,U)=>D+U.votes_count,0),T=E>0?O.votes_count/E*100:0;return a.jsxs(H,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-bold",children:O.profile.username}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:O.proposal})]}),k&&!S&&a.jsx($,{size:"sm",onClick:()=>w.mutate({electionId:j.id,candidateId:O.id}),children:"Votar"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Votos"}),a.jsxs("span",{className:"font-medium",children:[O.votes_count," (",T.toFixed(1),"%)"]})]}),a.jsx(Sd,{value:T,className:"h-2"})]})]},O.id)})})]})]},j.id)})}),a.jsx(At,{value:"polls",className:"mt-6 space-y-4",children:p.length===0?a.jsxs(H,{className:"p-8 text-center",children:[a.jsx(Ux,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma votao no momento"})]}):p.map(j=>{const S=g.includes(j.id),k=j.status==="active",O=j.options.reduce((E,T)=>E+T.votes_count,0);return a.jsxs(H,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:j.title}),a.jsx("p",{className:"text-muted-foreground mb-2",children:j.description}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Encerra em: ",al(new Date(j.end_date),"dd/MM/yyyy 's' HH:mm")]})]}),N(j.status)]}),S&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 mb-4",children:[a.jsx(Ju,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Voc j votou nesta enquete"})]}),a.jsx("div",{className:"space-y-3",children:j.options.map(E=>{const T=O>0?E.votes_count/O*100:0;return a.jsxs(H,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:E.option_text}),k&&!S&&a.jsx($,{size:"sm",onClick:()=>x.mutate({pollId:j.id,optionId:E.id}),children:"Votar"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Votos"}),a.jsxs("span",{className:"font-medium",children:[E.votes_count," (",T.toFixed(1),"%)"]})]}),a.jsx(Sd,{value:T,className:"h-2"})]})]},E.id)})})]},j.id)})})]})]})}),a.jsx(mr,{open:l,onOpenChange:c,children:a.jsxs(nr,{children:[a.jsx(pr,{children:a.jsx(gr,{children:"Registrar Candidatura"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Apresente suas propostas para a comunidade Orkadia"}),a.jsx(Bt,{placeholder:"Descreva suas propostas e por que voc seria um bom representante...",value:o,onChange:j=>i(j.target.value),className:"min-h-[150px]"})]}),a.jsx($,{className:"w-full",onClick:()=>{n&&y.mutate({electionId:n.id,proposal:o})},disabled:!o.trim(),children:"Confirmar Candidatura"})]})]})})]})},q8={conhecido:{icon:Da,label:"Conhecido da Praa",color:"text-muted-foreground",bgColor:"bg-muted",description:"Vocs se cruzam pela praa",emoji:""},vizinho:{icon:vt,label:"Vizinho Prximo",color:"text-accent",bgColor:"bg-accent/20",description:"Amizade confirmada",emoji:""},amigo_varanda:{icon:fc,label:"Amigo da Varanda",color:"text-primary",bgColor:"bg-primary/20",description:"Amizade especial",emoji:""}},uC=({level:e,showLabel:t=!0,size:r="md"})=>{const n=q8[e],s=n.icon,o={sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"},i={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return a.jsxs("div",{className:le("inline-flex items-center gap-1.5 rounded-full font-medium transition-all",n.color,n.bgColor,o[r]),children:[a.jsx("span",{children:n.emoji}),a.jsx(s,{className:i[r]}),t&&a.jsx("span",{children:n.label})]})},k0=[{type:"coffee",icon:JP,label:"Caf",emoji:"",color:"text-amber-600"},{type:"flowers",icon:aT,label:"Flores",emoji:"",color:"text-pink-500"},{type:"heart",icon:qs,label:"Corao",emoji:"",color:"text-red-500"},{type:"sparkle",icon:Mn,label:"Brilho",emoji:"",color:"text-yellow-500"},{type:"sun",icon:I1,label:"Sol",emoji:"",color:"text-orange-500"},{type:"music",icon:ln,label:"Msica",emoji:"",color:"text-purple-500"}],dC=({isOpen:e,onClose:t,recipientId:r,recipientName:n})=>{const[s,o]=h.useState(null),[i,l]=h.useState(""),[c,u]=h.useState(!1),d=async()=>{if(!s){F.error("Escolha um presente primeiro!");return}u(!0);try{const{data:{user:f}}=await R.auth.getUser();if(!f)throw new Error("Usurio no autenticado");const{error:m}=await R.from("gifts").insert({from_user_id:f.id,to_user_id:r,gift_type:s,message:i||null});if(m)throw m;const p=k0.find(b=>b.type===s);F.success(`${p==null?void 0:p.emoji} Presente enviado para ${n}!`),t(),o(null),l("")}catch(f){console.error("Erro ao enviar presente:",f),F.error("No foi possvel enviar o presente")}finally{u(!1)}};return a.jsx(mr,{open:e,onOpenChange:t,children:a.jsxs(nr,{className:"sm:max-w-md",children:[a.jsxs(pr,{children:[a.jsx(gr,{children:"Enviar Presente Digital"}),a.jsxs(na,{children:["Escolha um presente para alegrar o dia de ",n,"!"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-3 gap-3",children:k0.map(f=>{const m=f.icon;return a.jsx("button",{onClick:()=>o(f.type),className:`p-4 rounded-lg border-2 transition-all hover:scale-105 ${s===f.type?"border-primary bg-primary/10 shadow-glow":"border-border hover:border-primary/50"}`,children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("span",{className:"text-3xl",children:f.emoji}),a.jsx(m,{className:`w-5 h-5 ${f.color}`}),a.jsx("span",{className:"text-xs font-medium",children:f.label})]})},f.type)})}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mensagem (opcional)"}),a.jsx(Bt,{placeholder:"Escreva uma mensagem carinhosa...",value:i,onChange:f=>l(f.target.value),maxLength:200,className:"min-h-[80px]"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.length,"/200 caracteres"]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx($,{variant:"outline",onClick:t,children:"Cancelar"}),a.jsx($,{onClick:d,disabled:!s||c,className:"bg-gradient-orkut",children:c?"Enviando...":"Enviar Presente"})]})]})]})})},fC=({userId:e,currentUserId:t})=>{const[r,n]=h.useState(null),[s,o]=h.useState(!0);if(h.useEffect(()=>{e!==t?(async()=>{try{const{data:u,error:d}=await R.rpc("calculate_affinity",{user1_id:t,user2_id:e});if(d)throw d;n(u||0)}catch(u){console.error("Erro ao calcular afinidade:",u),n(0)}finally{o(!1)}})():o(!1)},[e,t]),s||r===null||e===t)return null;const l=(c=>c>=80?{text:"Sintonia Incrvel!",color:"text-primary",icon:""}:c>=60?{text:"Boa Sintonia",color:"text-accent",icon:""}:c>=40?{text:"Comeando a se conhecer",color:"text-secondary",icon:""}:{text:"Conhecidos da Praa",color:"text-muted-foreground",icon:""})(r);return a.jsx(H,{className:"p-4 bg-gradient-to-br from-card/95 to-primary/5 border-primary/20",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qs,{className:"w-5 h-5 text-primary"}),a.jsx("h3",{className:"font-semibold",children:"Sintonia da Praa"})]}),a.jsx("span",{className:"text-2xl",children:l.icon})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:l.color,children:l.text}),a.jsxs("span",{className:"font-bold text-primary",children:[r,"%"]})]}),a.jsx(Sd,{value:r,className:"h-2"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Baseado em interesses comuns, clubes e interaes na cidade"})]})})};function V8(){const{user:e,loading:t}=It(),r=Et(),[n,s]=h.useState(""),[o,i]=h.useState([]),[l,c]=h.useState([]),[u,d]=h.useState(!1),[f,m]=h.useState([]),[p,b]=h.useState([]),[g,y]=h.useState(!1),[w,x]=h.useState(!1),[v,_]=h.useState(null);if(h.useEffect(()=>{if(!t){if(!e){r("/auth");return}N(),j()}},[e,t,r]),t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});const N=async()=>{if(!e)return;const{data:P,error:z}=await R.from("friend_requests").select("sender_id, profiles!friend_requests_sender_id_fkey(*)").eq("receiver_id",e.id).eq("status","pending");if(!z&&P){const I=P.map(A=>({id:A.sender_id,username:A.profiles.username,display_name:A.profiles.display_name,avatar_url:A.profiles.avatar_url,bio:A.profiles.bio,friendshipStatus:"pending_received"}));m(I)}},j=async()=>{if(!e)return;y(!0);const{data:P}=await R.from("friendships").select("friend_id").eq("user_id",e.id),z=(P==null?void 0:P.map(ne=>ne.friend_id))||[],{data:I}=await R.from("friend_requests").select("receiver_id").eq("sender_id",e.id).eq("status","pending"),A=(I==null?void 0:I.map(ne=>ne.receiver_id))||[],{data:B}=await R.from("community_members").select("community_id").eq("user_id",e.id),te=(B==null?void 0:B.map(ne=>ne.community_id))||[];let Y=[];if(te.length>0){const{data:ne}=await R.from("community_members").select("user_id, community_id, profiles(*)").in("community_id",te).neq("user_id",e.id);if(ne){const re=new Map;ne.forEach(oe=>{z.includes(oe.user_id)||A.includes(oe.user_id)||(re.has(oe.user_id)?re.get(oe.user_id).communities.add(oe.community_id):re.set(oe.user_id,{profile:oe.profiles,communities:new Set([oe.community_id])}))}),re.forEach(({profile:oe,communities:pe})=>{oe&&Y.push({id:oe.id,username:oe.username,display_name:oe.display_name,avatar_url:oe.avatar_url,bio:oe.bio,friendshipStatus:"none",reason:pe.size>1?`${pe.size} clubes em comum`:"1 clube em comum",commonCommunities:pe.size})})}}if(z.length>0){const{data:ne}=await R.from("friendships").select("friend_id, profiles(*)").in("user_id",z).neq("friend_id",e.id);if(ne){const re=new Map;ne.forEach(oe=>{z.includes(oe.friend_id)||A.includes(oe.friend_id)||(re.has(oe.friend_id)?re.get(oe.friend_id).count++:re.set(oe.friend_id,{profile:oe.profiles,count:1}))}),re.forEach(({profile:oe,count:pe},Q)=>{oe&&!Y.find(we=>we.id===Q)&&Y.push({id:oe.id,username:oe.username,display_name:oe.display_name,avatar_url:oe.avatar_url,bio:oe.bio,friendshipStatus:"none",reason:pe>1?`${pe} amigos em comum`:"1 amigo em comum",commonFriends:pe})})}}Y.sort((ne,re)=>{const oe=(ne.commonFriends||0)+(ne.commonCommunities||0)*2;return(re.commonFriends||0)+(re.commonCommunities||0)*2-oe}),b(Y.slice(0,6)),y(!1)},S=async P=>{if(!e||!P.trim()){i([]);return}d(!0);const{data:z,error:I}=await R.from("profiles").select("*").neq("id",e.id).or(`username.ilike.%${P}%,display_name.ilike.%${P}%`).limit(20);if(I){F.error("Erro ao buscar usurios"),d(!1);return}const A=await Promise.all((z||[]).map(async B=>{const{data:te}=await R.from("friend_requests").select("status").eq("sender_id",e.id).eq("receiver_id",B.id).single(),{data:Y}=await R.from("friend_requests").select("status").eq("sender_id",B.id).eq("receiver_id",e.id).single(),{data:ne}=await R.from("friendships").select("id, level, affinity_score").or(`and(user_id.eq.${e.id},friend_id.eq.${B.id}),and(user_id.eq.${B.id},friend_id.eq.${e.id})`).single();let re="none",oe,pe;return ne?(re="friends",oe=ne.level,pe=ne.affinity_score):(te==null?void 0:te.status)==="pending"?re="pending_sent":(Y==null?void 0:Y.status)==="pending"&&(re="pending_received"),{...B,friendshipStatus:re,friendshipLevel:oe,affinityScore:pe}}));i(A),d(!1)},k=async P=>{if(!e||!P.trim()){c([]);return}d(!0);const{data:z,error:I}=await R.from("communities").select("*").or(`name.ilike.%${P}%,description.ilike.%${P}%`).limit(20);if(I){F.error("Erro ao buscar clubes"),d(!1);return}const A=await Promise.all((z||[]).map(async B=>{const{data:te}=await R.from("community_members").select("id").eq("community_id",B.id).eq("user_id",e.id).single();return{...B,isMember:!!te}}));c(A),d(!1)},O=P=>{s(P),S(P),k(P)},E=async(P,z)=>{if(!e)return;const{error:I}=await R.from("friend_requests").insert({sender_id:e.id,receiver_id:P,status:"pending"});I?F.error("Erro ao enviar convite"):(F.success(` Voc acenou para ${z} na praa!`),j(),n&&O(n))},T=async P=>{if(!e)return;const{error:z}=await R.from("friend_requests").update({status:"accepted"}).eq("sender_id",P).eq("receiver_id",e.id);if(z){F.error("Erro ao aceitar solicitao");return}const{error:I}=await R.from("friendships").insert([{user_id:e.id,friend_id:P},{user_id:P,friend_id:e.id}]);if(I)F.error("Erro ao criar amizade");else{const{data:A}=await R.from("profiles").select("display_name").eq("id",P).single();F.success(` Voc e ${(A==null?void 0:A.display_name)||"algum"} agora so vizinhos!`),N(),j(),n&&O(n)}},D=async P=>{if(!e)return;const{error:z}=await R.from("friend_requests").update({status:"rejected"}).eq("sender_id",P).eq("receiver_id",e.id);z?F.error("Erro ao recusar solicitao"):(F.success("Solicitao recusada"),N(),O(n))},U=async P=>{if(!e)return;const{error:z}=await R.from("friendships").delete().or(`and(user_id.eq.${e.id},friend_id.eq.${P}),and(user_id.eq.${P},friend_id.eq.${e.id})`);z?F.error("Erro ao remover amizade"):(F.success("Amizade removida"),O(n))},M=async P=>{if(!e)return;const{error:z}=await R.from("community_members").insert({community_id:P,user_id:e.id});z?F.error("Erro ao entrar no clube"):(F.success("Voc entrou no clube!"),O(n))},q=async P=>{if(!e)return;const{error:z}=await R.from("community_members").delete().eq("community_id",P).eq("user_id",e.id);z?F.error("Erro ao sair do clube"):(F.success("Voc saiu do clube"),O(n))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[a.jsx(qn,{}),a.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent mb-2",children:" Explorar Orkadia"}),a.jsx("p",{className:"text-muted-foreground",children:"Encontre vizinhos e clubes na cidade digital  cumprimente, faa amizades e compartilhe afinidades!"})]}),f.length>0&&a.jsxs(H,{className:"p-4 border-primary/20 bg-gradient-to-br from-card/95 to-primary/5 backdrop-blur-sm shadow-elevated",children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(ah,{className:"h-5 w-5 text-primary"})," Convites de Convivncia (",f.length,")"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Algum acenou para voc na praa! Aceite para virar vizinho."}),a.jsx("div",{className:"grid gap-3",children:f.map(P=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsxs(bt,{className:"h-12 w-12 border-2 border-primary/20",children:[a.jsx(_t,{src:P.avatar_url||void 0}),a.jsx(jt,{children:P.display_name[0]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:P.display_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",P.username]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{size:"sm",onClick:()=>T(P.id),children:a.jsx(yT,{className:"h-4 w-4"})}),a.jsx($,{size:"sm",variant:"outline",onClick:()=>D(P.id),children:a.jsx(Wn,{className:"h-4 w-4"})})]})]},P.id))})]}),p.length>0&&!n&&a.jsxs(H,{className:"p-6 border-accent/30 bg-gradient-to-br from-card to-accent/5",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[a.jsx(vt,{className:"h-5 w-5 text-accent"})," Pessoas que voc pode conhecer"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Vizinhos com interesses em comum na Cidade Portella"}),a.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:p.map(P=>a.jsxs(H,{className:"p-4 hover:border-accent/50 transition-all hover:shadow-md",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs(bt,{className:"h-14 w-14 border-2 border-accent/20 cursor-pointer",onClick:()=>r(`/profile/${P.id}`),children:[a.jsx(_t,{src:P.avatar_url||void 0}),a.jsx(jt,{children:P.display_name[0]})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold cursor-pointer hover:text-accent transition-colors truncate",onClick:()=>r(`/profile/${P.id}`),children:P.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",P.username]}),a.jsx(ct,{variant:"secondary",className:"mt-1 text-xs",children:P.reason}),P.bio&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:P.bio})]})]}),a.jsxs($,{size:"sm",onClick:()=>E(P.id,P.display_name),className:"w-full mt-3 bg-gradient-orkut",children:[a.jsx(ah,{className:"h-3 w-3 mr-1"}),"Cumprimentar"]})]},P.id))})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Kd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(yt,{placeholder:"Pesquisar usurios ou clubes...",value:n,onChange:P=>O(P.target.value),className:"pl-10 h-12"})]}),a.jsxs(Ja,{defaultValue:"users",className:"w-full",children:[a.jsxs(Bn,{className:"grid w-full grid-cols-2",children:[a.jsx(Ge,{value:"users",children:"Usurios"}),a.jsx(Ge,{value:"communities",children:"Clubes"})]}),a.jsx(At,{value:"users",className:"space-y-4 mt-6",children:u?a.jsx(H,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Buscando..."})}):o.length===0?a.jsx(H,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:n?"Nenhum usurio encontrado":"Digite algo para comear a busca"})}):a.jsx("div",{className:"grid gap-4",children:o.map(P=>a.jsx(H,{className:"p-4 hover:border-primary/50 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs(bt,{className:"h-16 w-16 border-2 border-primary/20 cursor-pointer",onClick:()=>r(`/profile/${P.id}`),children:[a.jsx(_t,{src:P.avatar_url||void 0}),a.jsx(jt,{children:P.display_name[0]})]}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-lg cursor-pointer hover:text-primary flex items-center gap-2",onClick:()=>r(`/profile/${P.id}`),children:[P.display_name,P.friendshipLevel&&a.jsx(uC,{level:P.friendshipLevel,size:"sm"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",P.username]}),P.bio&&a.jsx("p",{className:"text-sm mt-2",children:P.bio})]}),P.friendshipStatus==="friends"&&e&&a.jsx(fC,{userId:P.id,currentUserId:e.id})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[P.friendshipStatus==="none"&&a.jsxs($,{onClick:()=>E(P.id,P.display_name),className:"bg-gradient-orkut",children:[a.jsx(ah,{className:"h-4 w-4 mr-2"}),"Cumprimentar"]}),P.friendshipStatus==="pending_sent"&&a.jsx(ct,{variant:"secondary",className:"justify-center py-2",children:" Convite enviado"}),P.friendshipStatus==="pending_received"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{size:"sm",onClick:()=>T(P.id),className:"bg-gradient-orkut",children:"Aceitar"}),a.jsx($,{size:"sm",variant:"outline",onClick:()=>D(P.id),children:"Recusar"})]}),P.friendshipStatus==="friends"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{variant:"outline",onClick:()=>{_({id:P.id,name:P.display_name}),x(!0)},className:"border-primary/30 hover:bg-primary/10",children:[a.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Enviar Presente"]}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>U(P.id),className:"text-destructive",children:[a.jsx($1,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]})]})},P.id))})}),a.jsx(At,{value:"communities",className:"space-y-4 mt-6",children:u?a.jsx(H,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Buscando..."})}):l.length===0?a.jsx(H,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:n?"Nenhum clube encontrado":"Digite algo para comear a busca"})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:l.map(P=>a.jsx(H,{className:"p-4 hover:border-primary/50 transition-colors",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:P.icon||""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:P.name}),a.jsx(ct,{variant:"secondary",className:"text-xs",children:P.category})]})]})}),P.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:P.description}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(vt,{className:"h-4 w-4"}),P.members_count," membros"]}),P.isMember?a.jsx($,{size:"sm",variant:"outline",onClick:()=>q(P.id),children:"Sair"}):a.jsx($,{size:"sm",onClick:()=>M(P.id),children:"Entrar"})]})]})},P.id))})})]})]})}),v&&a.jsx(dC,{isOpen:w,onClose:()=>{x(!1),_(null)},recipientId:v.id,recipientName:v.name})]})}const hC=({isOpen:e,onClose:t,recipientId:r,recipientName:n,recipientAvatar:s,currentUserId:o})=>{var N;const[i,l]=h.useState([]),[c,u]=h.useState(""),[d,f]=h.useState(!1),[m,p]=h.useState(!0),b=h.useRef(null);h.useEffect(()=>{e&&(g(),y(),w())},[e,r]);const g=async()=>{try{p(!0);const{data:j,error:S}=await R.from("private_messages").select(`
          *,
          from_profile:profiles!private_messages_from_user_id_fkey(*),
          to_profile:profiles!private_messages_to_user_id_fkey(*)
        `).or(`and(from_user_id.eq.${o},to_user_id.eq.${r}),and(from_user_id.eq.${r},to_user_id.eq.${o})`).order("created_at",{ascending:!0});if(S)throw S;l(j||[]),x()}catch(j){console.error("Erro ao carregar mensagens:",j),F.error("Erro ao carregar mensagens")}finally{p(!1)}},y=async()=>{try{await R.from("private_messages").update({is_read:!0}).eq("to_user_id",o).eq("from_user_id",r).eq("is_read",!1)}catch(j){console.error("Erro ao marcar mensagens como lidas:",j)}},w=()=>{const j=R.channel(`chat-${o}-${r}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"private_messages",filter:`or(and(from_user_id.eq.${o},to_user_id.eq.${r}),and(from_user_id.eq.${r},to_user_id.eq.${o}))`},async S=>{const k=S.new,{data:O}=await R.from("profiles").select("*").eq("id",k.from_user_id).single(),{data:E}=await R.from("profiles").select("*").eq("id",k.to_user_id).single();l(T=>[...T,{...k,from_profile:O,to_profile:E}]),k.to_user_id===o&&await y(),x()}).subscribe();return()=>{R.removeChannel(j)}},x=()=>{setTimeout(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},100)},v=async()=>{var j;if(!(!c.trim()||d))try{f(!0);const{error:S}=await R.from("private_messages").insert({from_user_id:o,to_user_id:r,content:c.trim()});if(S)throw S;u(""),F.success("Mensagem enviada!"),x()}catch(S){console.error("Erro ao enviar mensagem:",S),(j=S.message)!=null&&j.includes("violates row-level security")?F.error("Voc s pode enviar mensagens para vizinhos prximos ou amigos da varanda"):F.error("Erro ao enviar mensagem")}finally{f(!1)}},_=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),v())};return a.jsx(mr,{open:e,onOpenChange:t,children:a.jsxs(nr,{className:"sm:max-w-[500px] h-[600px] flex flex-col",children:[a.jsx(pr,{children:a.jsxs(gr,{className:"flex items-center gap-3",children:[a.jsxs(bt,{className:"h-10 w-10",children:[a.jsx(_t,{src:s}),a.jsx(jt,{className:"bg-primary/10 text-primary",children:(N=n[0])==null?void 0:N.toUpperCase()})]}),a.jsxs("span",{children:["Conversa com ",n]})]})}),a.jsx(Ii,{className:"flex-1 pr-4",ref:b,children:m?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Carregando mensagens..."})}):i.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhuma mensagem ainda"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a enviar uma mensagem!"})]}):a.jsx("div",{className:"space-y-4 py-4",children:i.map(j=>{const S=j.from_user_id===o;return a.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${S?"bg-primary text-primary-foreground":"bg-muted"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:j.content}),a.jsx("p",{className:`text-xs mt-1 ${S?"text-primary-foreground/70":"text-muted-foreground"}`,children:new Date(j.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},j.id)})})}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsx(Bt,{placeholder:"Digite sua mensagem...",value:c,onChange:j=>u(j.target.value),onKeyPress:_,className:"resize-none min-h-[60px]",maxLength:500}),a.jsx($,{onClick:v,disabled:!c.trim()||d,size:"icon",className:"h-[60px] w-[60px]",children:a.jsx(La,{className:"h-5 w-5"})})]})]})})},W8=()=>{var _;const{user:e,loading:t}=It(),{userId:r}=W_(),n=Et(),[s,o]=h.useState(null),[i,l]=h.useState([]),[c,u]=h.useState(null),[d,f]=h.useState(!0),[m,p]=h.useState(!1),[b,g]=h.useState(!1);h.useEffect(()=>{if(e&&r){if(e.id===r){n("/dashboard");return}y(),w()}},[e,r]);const y=async()=>{if(r)try{f(!0);const{data:N,error:j}=await R.from("profiles").select("*").eq("id",r).single();if(j)throw j;o(N);const{data:S,error:k}=await R.from("user_achievements").select(`
          *,
          achievement:achievements(*)
        `).eq("user_id",r).order("earned_at",{ascending:!1});k?console.warn("Erro ao carregar conquistas:",k):l(S||[])}catch(N){console.error("Erro ao carregar perfil:",N),F.error("Erro ao carregar perfil")}finally{f(!1)}},w=async()=>{if(!(!e||!r))try{const{data:N,error:j}=await R.from("friendships").select("level, affinity_score").or(`and(user_id.eq.${e.id},friend_id.eq.${r}),and(user_id.eq.${r},friend_id.eq.${e.id})`).single();if(j&&j.code!=="PGRST116")throw j;u(N)}catch(N){console.error("Erro ao carregar amizade:",N)}},x=(c==null?void 0:c.level)==="vizinho"||(c==null?void 0:c.level)==="amigo_varanda",v=!!c;return t||d?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("p",{className:"text-lg text-muted-foreground",children:"Carregando..."})}):e?s?a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs($,{variant:"ghost",onClick:()=>n("/explore"),className:"mb-4",children:[a.jsx(ci,{className:"mr-2 h-4 w-4"}),"Voltar"]}),a.jsxs(H,{className:"mb-6 overflow-hidden",children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-primary/20 to-secondary/20",style:{backgroundImage:s.house_background?`url(${s.house_background})`:void 0,backgroundSize:"cover",backgroundPosition:"center"}}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.jsx("div",{className:"relative -mt-20",children:a.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-background bg-gradient-to-br from-primary/20 to-secondary/20 overflow-hidden",children:s.avatar_url?a.jsx("img",{src:s.avatar_url,alt:s.display_name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl font-bold text-primary",children:(_=s.display_name[0])==null?void 0:_.toUpperCase()})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:s.display_name}),a.jsxs(ct,{variant:"secondary",children:["@",s.username]}),c&&a.jsx(uC,{level:c.level,showLabel:!0})]}),s.bio&&a.jsx("p",{className:"text-muted-foreground mb-4",children:s.bio}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"h-5 w-5 text-amber-500"}),a.jsx("span",{className:"font-semibold",children:s.points||0}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"pontos"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(S1,{className:"h-5 w-5 text-primary"}),a.jsxs("span",{className:"font-semibold",children:["Nvel ",s.level||1]})]})]}),c&&e&&a.jsx("div",{className:"mb-4",children:a.jsx(fC,{userId:r,currentUserId:e.id})}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[x&&a.jsxs($,{onClick:()=>g(!0),children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Enviar Mensagem"]}),v&&a.jsxs($,{variant:"secondary",onClick:()=>p(!0),children:[a.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Enviar Presente"]})]})]})]})})]}),a.jsxs(Ja,{defaultValue:"trophies",className:"w-full",children:[a.jsxs(Bn,{className:"grid w-full grid-cols-5 mb-6",children:[a.jsxs(Ge,{value:"trophies",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),"Trofus"]}),a.jsxs(Ge,{value:"friendships",children:[a.jsx(vt,{className:"h-4 w-4 mr-2"}),"Amizades"]}),a.jsxs(Ge,{value:"wall",children:[a.jsx(Cm,{className:"h-4 w-4 mr-2"}),"Mural"]}),a.jsxs(Ge,{value:"gifts",children:[a.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Presentes"]}),a.jsxs(Ge,{value:"music",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Msica"]})]}),a.jsx(At,{value:"trophies",children:a.jsxs(H,{className:"p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[a.jsx(ir,{className:"h-6 w-6 text-amber-500"}),"Conquistas"]}),i.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nenhuma conquista ainda"}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(N=>a.jsx(H,{className:"p-4 bg-gradient-to-br from-primary/5 to-secondary/5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-3xl",children:N.achievement.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold mb-1",children:N.achievement.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:N.achievement.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ct,{variant:"secondary",children:["+",N.achievement.points," pontos"]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(N.earned_at).toLocaleDateString("pt-BR")})]})]})]})},N.id))})]})}),a.jsx(At,{value:"friendships",children:a.jsx(Rk,{userId:r})}),a.jsx(At,{value:"wall",children:a.jsx(Ok,{userId:r,isOwner:!1})}),a.jsx(At,{value:"gifts",children:a.jsx(Ak,{userId:r,isOwner:!1})}),a.jsx(At,{value:"music",children:a.jsxs(H,{className:"p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[a.jsx(ln,{className:"h-6 w-6 text-primary"}),"Msica da Casa"]}),s.house_music?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Oua a msica que toca na casa de ",s.display_name,":"]}),a.jsxs("audio",{controls:!0,className:"w-full",children:[a.jsx("source",{src:s.house_music}),"Seu navegador no suporta o elemento de udio."]})]}):a.jsxs("p",{className:"text-muted-foreground text-center py-8",children:[s.display_name," ainda no adicionou uma msica"]})]})})]})]}),v&&a.jsx(dC,{isOpen:m,onClose:()=>p(!1),recipientId:r,recipientName:s.display_name}),x&&a.jsx(hC,{isOpen:b,onClose:()=>g(!1),recipientId:r,recipientName:s.display_name,recipientAvatar:s.avatar_url||void 0,currentUserId:e.id})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs(H,{className:"p-8 text-center",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Perfil no encontrado"}),a.jsxs($,{onClick:()=>n("/explore"),children:[a.jsx(ci,{className:"mr-2 h-4 w-4"}),"Voltar para Explorar"]})]})}):a.jsx(Qa,{to:"/auth",replace:!0})};function H8(){const{user:e,loading:t}=It(),r=Et(),[n,s]=h.useState(!0),[o,i]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState({who_can_see_posts:"todos",who_can_send_requests:"todos"});h.useEffect(()=>{if(!t){if(!e){r("/auth");return}f()}},[e,t,r]);const f=async()=>{if(!e)return;const{data:b,error:g}=await R.from("privacy_settings").select("*").eq("user_id",e.id).single();g&&g.code!=="PGRST116"&&console.error("Error loading settings:",g),b&&d({who_can_see_posts:b.who_can_see_posts||"todos",who_can_send_requests:b.who_can_send_requests||"todos"}),s(!1)},m=async()=>{if(!e)return;i(!0);const{error:b}=await R.from("privacy_settings").upsert({user_id:e.id,who_can_see_posts:u.who_can_see_posts,who_can_send_requests:u.who_can_send_requests,updated_at:new Date().toISOString()},{onConflict:"user_id"});b?(F.error("Erro ao salvar configuraes"),console.error("Error saving settings:",b)):F.success(" Configuraes de privacidade salvas!"),i(!1)};if(t||n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});const p=[{value:"todos",label:" Todos",description:"Qualquer pessoa na cidade"},{value:"amigos_de_amigos",label:" Amigos de amigos",description:"Seus vizinhos e vizinhos deles"},{value:"ninguem",label:" Ningum",description:"Apenas voc"}];return a.jsxs("div",{className:"min-h-screen",children:[a.jsx(qn,{}),a.jsx("main",{className:"max-w-2xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/60 rounded-full mx-auto flex items-center justify-center mb-4 shadow-elevated",children:a.jsx($a,{className:"w-10 h-10 text-primary-foreground"})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent mb-2",children:"Configuraes de Privacidade"}),a.jsx("p",{className:"text-muted-foreground",children:"Controle quem pode interagir com voc na cidade Orkadia"})]}),a.jsxs(H,{className:"shadow-elevated border-2",children:[a.jsxs(Ye,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-5 h-5 text-primary"}),"Visibilidade dos Posts"]}),a.jsx(Ss,{children:"Escolha quem pode ver suas publicaes na Praa Central"})]}),a.jsx($e,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(pt,{htmlFor:"who_can_see_posts",children:"Quem pode ver meus posts?"}),a.jsxs(Jl,{value:u.who_can_see_posts,onValueChange:b=>d(g=>({...g,who_can_see_posts:b})),children:[a.jsx(yi,{id:"who_can_see_posts",className:"w-full",children:a.jsx(ec,{placeholder:"Selecione..."})}),a.jsx(wi,{children:p.map(b=>a.jsx(hn,{value:b.value,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:b.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:b.description})]})},b.value))})]})]})})]}),a.jsxs(H,{className:"shadow-elevated border-2",children:[a.jsxs(Ye,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(L1,{className:"w-5 h-5 text-primary"}),"Convites de Convivncia"]}),a.jsx(Ss,{children:"Controle quem pode enviar pedidos de amizade"})]}),a.jsx($e,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(pt,{htmlFor:"who_can_send_requests",children:"Quem pode me cumprimentar na praa?"}),a.jsxs(Jl,{value:u.who_can_send_requests,onValueChange:b=>d(g=>({...g,who_can_send_requests:b})),children:[a.jsx(yi,{id:"who_can_send_requests",className:"w-full",children:a.jsx(ec,{placeholder:"Selecione..."})}),a.jsx(wi,{children:p.map(b=>a.jsx(hn,{value:b.value,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:b.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:b.description})]})},b.value))})]})]})})]}),a.jsxs(H,{className:"shadow-elevated border-2",children:[a.jsxs(Ye,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(ur,{className:"w-5 h-5 text-primary"}),"Mensagens Privadas"]}),a.jsx(Ss,{children:"Apenas vizinhos prximos e amigos da varanda podem enviar mensagens privadas"})]}),a.jsx($e,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:'Esta configurao  automtica baseada no seu nvel de amizade. Voc precisa ser pelo menos "Vizinho Prximo" para trocar mensagens privadas com algum.'})})]}),a.jsxs(H,{className:"shadow-elevated border-2",children:[a.jsxs(Ye,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(td,{className:"w-5 h-5 text-destructive"}),"Usurios Bloqueados"]}),a.jsx(Ss,{children:"Gerencie os usurios que voc bloqueou na cidade"})]}),a.jsxs($e,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Usurios bloqueados no podem ver seu perfil, enviar mensagens ou interagir com voc."}),a.jsxs($,{variant:"outline",onClick:()=>c(!0),className:"gap-2",children:[a.jsx(td,{className:"w-4 h-4"}),"Ver usurios bloqueados"]})]})]}),a.jsxs($,{onClick:m,disabled:o,className:"w-full gap-2",size:"lg",children:[a.jsx(mT,{className:"w-4 h-4"}),o?"Salvando...":"Salvar Configuraes"]})]})}),a.jsx(vk,{open:l,onOpenChange:c})]})}const K8=()=>{const{user:e,loading:t}=It(),[r,n]=h.useState([]),[s,o]=h.useState(!0),[i,l]=h.useState(""),[c,u]=h.useState(null),[d,f]=h.useState(!1);h.useEffect(()=>{e&&(m(),p())},[e]);const m=async()=>{if(e)try{const{data:y,error:w}=await R.from("private_messages").select(`
          *,
          from_profile:profiles!private_messages_from_user_id_fkey(id, display_name, username, avatar_url),
          to_profile:profiles!private_messages_to_user_id_fkey(id, display_name, username, avatar_url)
        `).or(`from_user_id.eq.${e.id},to_user_id.eq.${e.id}`).order("created_at",{ascending:!1});if(w)throw w;const x=new Map;y==null||y.forEach(v=>{const _=v.from_user_id===e.id,N=_?v.to_profile:v.from_profile;if(!N)return;const j=x.get(N.id),S=!_&&!v.is_read?1:0;j?j.unreadCount+=S:x.set(N.id,{recipientId:N.id,recipientName:N.display_name,recipientUsername:N.username,recipientAvatar:N.avatar_url,lastMessage:v.content,lastMessageAt:v.created_at,unreadCount:S})}),n(Array.from(x.values()))}catch(y){console.error("Erro ao carregar conversas:",y)}finally{o(!1)}},p=()=>{if(!e)return;const y=R.channel("messages-page").on("postgres_changes",{event:"INSERT",schema:"public",table:"private_messages",filter:`to_user_id=eq.${e.id}`},()=>{m()}).subscribe();return()=>{R.removeChannel(y)}},b=y=>{u(y),f(!0)},g=r.filter(y=>y.recipientName.toLowerCase().includes(i.toLowerCase())||y.recipientUsername.toLowerCase().includes(i.toLowerCase()));return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(qn,{}),a.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-3xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-full",children:a.jsx(ur,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mensagens"}),a.jsx("p",{className:"text-muted-foreground",children:"Suas conversas privadas"})]})]}),a.jsxs(H,{className:"overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"relative",children:[a.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(yt,{placeholder:"Buscar conversas...",value:i,onChange:y=>l(y.target.value),className:"pl-10"})]})}),a.jsx(Ii,{className:"h-[calc(100vh-280px)]",children:s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):g.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(ur,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"font-medium",children:"Nenhuma conversa ainda"}),a.jsx("p",{className:"text-sm",children:"Envie uma mensagem para um vizinho ou amigo da varanda"})]}):a.jsx("div",{className:"divide-y",children:g.map(y=>a.jsxs("button",{onClick:()=>b(y),className:"w-full p-4 flex items-center gap-3 hover:bg-muted/50 transition-colors text-left",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(bt,{className:"w-12 h-12",children:[a.jsx(_t,{src:y.recipientAvatar||void 0}),a.jsx(jt,{className:"bg-gradient-orkut text-white",children:y.recipientName.charAt(0).toUpperCase()})]}),y.unreadCount>0&&a.jsx(P1,{className:"absolute -top-1 -right-1 w-4 h-4 fill-primary text-primary"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-semibold truncate",children:y.recipientName}),a.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:Jk(new Date(y.lastMessageAt),{addSuffix:!0,locale:eC})})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:y.lastMessage}),y.unreadCount>0&&a.jsx(ct,{variant:"default",className:"bg-primary text-xs",children:y.unreadCount})]})]})]},y.recipientId))})})]})]}),c&&a.jsx(hC,{isOpen:d,onClose:()=>f(!1),recipientId:c.recipientId,recipientName:c.recipientName,recipientAvatar:c.recipientAvatar||void 0,currentUserId:e.id})]}):a.jsx(Qa,{to:"/auth",replace:!0})},G8=()=>a.jsx("div",{className:"min-h-screen",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx($,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(Ie,{to:"/",children:a.jsx(ci,{className:"w-5 h-5"})})}),a.jsx("img",{src:Oi,alt:"Orkadia",className:"h-10"})]}),a.jsxs(H,{className:"p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-full",children:a.jsx(rT,{className:"w-6 h-6 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold",children:"Termos de Uso"})]}),a.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-6",children:[a.jsxs("p",{className:"text-muted-foreground",children:["ltima atualizao: ",new Date().toLocaleDateString("pt-BR")]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"1. Aceitao dos Termos"}),a.jsx("p",{children:"Ao acessar e usar o Portella, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no poder acessar o servio."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"2. Descrio do Servio"}),a.jsx("p",{children:'O Portella  uma rede social que permite aos usurios criar perfis ("Casas Virtuais"), conectar-se com outros usurios, participar de comunidades ("Clubes"), compartilhar contedo e interagir de diversas formas.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"3. Cadastro e Conta"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Voc deve ter pelo menos 13 anos para usar o Portella."}),a.jsx("li",{children:"As informaes fornecidas no cadastro devem ser verdadeiras e precisas."}),a.jsx("li",{children:"Voc  responsvel por manter a segurana de sua senha e conta."}),a.jsx("li",{children:"No  permitido criar mltiplas contas ou compartilhar sua conta com terceiros."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"4. Conduta do Usurio"}),a.jsx("p",{children:"Ao usar o Portella, voc concorda em NO:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Publicar contedo ilegal, ofensivo, difamatrio ou que viole direitos de terceiros."}),a.jsx("li",{children:"Assediar, ameaar ou intimidar outros usurios."}),a.jsx("li",{children:"Compartilhar contedo sexual envolvendo menores ou contedo explcito no consensual."}),a.jsx("li",{children:"Usar o servio para spam, phishing ou atividades fraudulentas."}),a.jsx("li",{children:"Tentar acessar contas de outros usurios ou sistemas do Portella."}),a.jsx("li",{children:"Violar qualquer lei aplicvel."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"5. Contedo do Usurio"}),a.jsx("p",{children:"Voc mantm os direitos sobre o contedo que publica, mas concede ao Portella uma licena para exibir, distribuir e usar esse contedo dentro da plataforma. O Portella pode remover contedo que viole estes termos."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"6. Privacidade"}),a.jsxs("p",{children:["O uso de suas informaes pessoais  regido por nossa"," ",a.jsx(Ie,{to:"/privacy",className:"text-primary hover:underline",children:"Poltica de Privacidade"}),", que faz parte integrante destes Termos de Uso."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"7. Moderao"}),a.jsx("p",{children:'O Portella possui um sistema de moderao comunitria ("Delegacia") que pode revisar denncias e tomar aes, incluindo a remoo de contedo e suspenso de contas que violem estes termos.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"8. Encerramento de Conta"}),a.jsx("p",{children:"O Portella pode suspender ou encerrar sua conta a qualquer momento por violao destes termos. Voc pode excluir sua conta a qualquer momento atravs das configuraes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"9. Iseno de Garantias"}),a.jsx("p",{children:'O servio  fornecido "como est", sem garantias de qualquer tipo. No garantimos que o servio estar sempre disponvel ou livre de erros.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"10. Alteraes nos Termos"}),a.jsx("p",{children:"Podemos atualizar estes termos periodicamente. Notificaremos os usurios sobre mudanas significativas. O uso continuado do servio aps alteraes constitui aceitao dos novos termos."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"11. Contato"}),a.jsx("p",{children:"Para dvidas sobre estes Termos de Uso, entre em contato atravs da Prefeitura do Portella ou pelos canais oficiais de suporte."})]})]}),a.jsx("div",{className:"mt-8 pt-6 border-t flex justify-center",children:a.jsx($,{asChild:!0,children:a.jsx(Ie,{to:"/",children:"Voltar ao Incio"})})})]})]})}),Q8=()=>a.jsx("div",{className:"min-h-screen",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx($,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(Ie,{to:"/",children:a.jsx(ci,{className:"w-5 h-5"})})}),a.jsx("img",{src:Oi,alt:"Orkadia",className:"h-10"})]}),a.jsxs(H,{className:"p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-full",children:a.jsx($a,{className:"w-6 h-6 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold",children:"Poltica de Privacidade"})]}),a.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-6",children:[a.jsxs("p",{className:"text-muted-foreground",children:["ltima atualizao: ",new Date().toLocaleDateString("pt-BR")]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"1. Informaes que Coletamos"}),a.jsx("p",{children:"Coletamos as seguintes categorias de informaes:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Informaes de cadastro:"})," email, nome de usurio, nome de exibio e senha."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informaes de perfil:"})," foto, biografia, msica de fundo e outras personalizaes que voc escolhe adicionar."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Contedo:"})," posts, comentrios, mensagens, fotos e vdeos que voc compartilha."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Dados de uso:"})," informaes sobre como voc interage com a plataforma."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"2. Como Usamos suas Informaes"}),a.jsx("p",{children:"Utilizamos suas informaes para:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Fornecer e melhorar nossos servios."}),a.jsx("li",{children:"Personalizar sua experincia na plataforma."}),a.jsx("li",{children:"Permitir a comunicao entre usurios."}),a.jsx("li",{children:"Garantir a segurana e integridade da plataforma."}),a.jsx("li",{children:"Enviar notificaes relevantes sobre atividades em sua conta."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"3. Compartilhamento de Informaes"}),a.jsx("p",{children:"No vendemos suas informaes pessoais. Podemos compartilhar dados com:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Outros usurios, conforme suas configuraes de privacidade."}),a.jsx("li",{children:"Prestadores de servios que nos ajudam a operar a plataforma."}),a.jsx("li",{children:"Autoridades legais, quando exigido por lei."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"4. Suas Configuraes de Privacidade"}),a.jsx("p",{children:"Voc pode controlar:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Quem pode ver suas publicaes (todos, vizinhos, amigos da varanda)."}),a.jsx("li",{children:"Quem pode enviar solicitaes de amizade."}),a.jsx("li",{children:"Bloquear usurios especficos para esconder seu perfil deles."}),a.jsx("li",{children:"Quem pode enviar mensagens privadas (baseado no nvel de amizade)."})]}),a.jsxs("p",{className:"mt-2",children:["Acesse as"," ",a.jsx(Ie,{to:"/privacy-settings",className:"text-primary hover:underline",children:"Configuraes de Privacidade"})," ","para gerenciar essas opes."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"5. Segurana dos Dados"}),a.jsx("p",{children:"Implementamos medidas tcnicas e organizacionais para proteger suas informaes, incluindo criptografia de dados em trnsito e polticas de acesso restrito."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"6. Reteno de Dados"}),a.jsx("p",{children:"Mantemos seus dados enquanto sua conta estiver ativa. Ao excluir sua conta, seus dados pessoais sero removidos, exceto quando a reteno for necessria por obrigaes legais."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"7. Seus Direitos"}),a.jsx("p",{children:"De acordo com a LGPD (Lei Geral de Proteo de Dados), voc tem direito a:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Acessar seus dados pessoais."}),a.jsx("li",{children:"Corrigir dados incompletos ou incorretos."}),a.jsx("li",{children:"Solicitar a excluso de seus dados."}),a.jsx("li",{children:"Revogar consentimentos previamente dados."}),a.jsx("li",{children:"Solicitar a portabilidade de seus dados."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"8. Cookies e Tecnologias Similares"}),a.jsx("p",{children:"Utilizamos cookies e tecnologias similares para manter voc conectado e melhorar sua experincia. Voc pode gerenciar as preferncias de cookies nas configuraes do seu navegador."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"9. Menores de Idade"}),a.jsx("p",{children:"O Portella no  destinado a menores de 13 anos. Se tomarmos conhecimento de que coletamos dados de crianas menores de 13 anos, tomaremos medidas para excluir essas informaes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"10. Alteraes nesta Poltica"}),a.jsx("p",{children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos sobre alteraes significativas atravs da plataforma."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"11. Contato"}),a.jsx("p",{children:"Para exercer seus direitos ou esclarecer dvidas sobre privacidade, entre em contato atravs da Prefeitura do Portella ou pelos canais oficiais de suporte."})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-center gap-4",children:[a.jsx($,{variant:"outline",asChild:!0,children:a.jsx(Ie,{to:"/terms",children:"Ver Termos de Uso"})}),a.jsx($,{asChild:!0,children:a.jsx(Ie,{to:"/",children:"Voltar ao Incio"})})]})]})]})});function Y8(){const{clubId:e}=W_(),t=Et(),[r,n]=h.useState(null),[s,o]=h.useState([]),[i,l]=h.useState([]),[c,u]=h.useState(!1),[d,f]=h.useState(!0),[m,p]=h.useState(""),[b,g]=h.useState(!1);h.useEffect(()=>{e&&y()},[e]);const y=async()=>{var v;try{f(!0);const _=await R.from("communities").select("*").eq("id",e).single();if(_.error)throw _.error;n(_.data);const N=await R.auth.getUser();if(N.data.user){const S=await R.from("community_members").select("*").eq("community_id",e).eq("user_id",N.data.user.id).single();u(!!S.data)}o([]);const j=await R.from("community_members").select("user_id, role").eq("community_id",e);if(j.data){const S=j.data.map(T=>T.user_id),k=await R.from("profiles").select("id, username, avatar_url").in("id",S),O=new Map(((v=k.data)==null?void 0:v.map(T=>[T.id,T]))||[]),E=j.data.map(T=>{var D,U;return{id:T.user_id,username:((D=O.get(T.user_id))==null?void 0:D.username)||"Usurio",avatar_url:(U=O.get(T.user_id))==null?void 0:U.avatar_url,joined_at:new Date().toISOString(),role:T.role}});l(E)}}catch(_){console.error("Erro ao carregar dados do clube:",_),F.error("Erro ao carregar clube")}finally{f(!1)}},w=async()=>{if(!(!m.trim()||!c))try{g(!0);const v=await R.auth.getUser();if(!v.data.user){F.error("Voc precisa estar logado");return}const _=await R.from("posts").insert({content:m.trim(),user_id:v.data.user.id,club_id:e});if(_.error)throw _.error;p(""),F.success("Post criado com sucesso!"),y()}catch(v){console.error("Erro ao criar post:",v),F.error("Erro ao criar post")}finally{g(!1)}},x=async()=>{try{const v=await R.auth.getUser();if(!v.data.user){F.error("Voc precisa estar logado");return}if(c){const _=await R.from("community_members").delete().eq("community_id",e).eq("user_id",v.data.user.id);if(_.error)throw _.error;F.success("Voc saiu do clube"),u(!1)}else{const _=await R.from("community_members").insert({community_id:e,user_id:v.data.user.id,role:"member"});if(_.error)throw _.error;F.success("Voc entrou no clube!"),u(!0)}y()}catch(v){console.error("Erro ao atualizar inscrio:",v),F.error("Erro ao atualizar inscrio")}};return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(qn,{}),a.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-6xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs($,{variant:"ghost",onClick:()=>t("/clubs"),className:"mb-4 gap-2",children:[a.jsx(ci,{className:"w-4 h-4"}),"Voltar aos Clubes"]}),a.jsx(H,{className:"bg-card/95 backdrop-blur-sm",children:a.jsx(Ye,{className:"pb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-xl shadow-lg",children:a.jsx(vt,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx(rt,{className:"text-3xl",children:r.name}),a.jsx(ct,{variant:"secondary",className:"mt-1",children:r.category})]})]}),a.jsx(Ss,{className:"text-base mb-4",children:r.description}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vt,{className:"w-4 h-4"}),a.jsxs("span",{children:[i.length," membros"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ur,{className:"w-4 h-4"}),a.jsxs("span",{children:[s.length," posts"]})]})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx($,{variant:c?"outline":"default",onClick:x,children:c?"Sair do Clube":"Entrar no Clube"})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c&&a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsx(Ye,{children:a.jsx(rt,{className:"text-lg",children:"Compartilhar no clube"})}),a.jsxs($e,{className:"space-y-4",children:[a.jsx(Bt,{placeholder:"O que voc gostaria de compartilhar com o clube?",value:m,onChange:v=>p(v.target.value),className:"min-h-[100px]"}),a.jsx("div",{className:"flex justify-end",children:a.jsxs($,{onClick:w,disabled:!m.trim()||b,className:"gap-2",children:[a.jsx(La,{className:"w-4 h-4"}),b?"Postando...":"Postar"]})})]})]}),a.jsx("div",{className:"space-y-4",children:s.length===0?a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm p-8 text-center",children:[a.jsx(ur,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum post ainda"}),a.jsx("p",{className:"text-muted-foreground",children:c?"Seja o primeiro a compartilhar algo neste clube!":"Entre no clube para ver e criar posts."})]}):s.map(v=>{var _,N,j,S,k,O;return a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsx(Ye,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(bt,{className:"w-10 h-10",children:[a.jsx(_t,{src:(_=v.profiles)==null?void 0:_.avatar_url}),a.jsx(jt,{children:((j=(N=v.profiles)==null?void 0:N.username)==null?void 0:j.charAt(0).toUpperCase())||"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:((S=v.profiles)==null?void 0:S.username)||"Usurio"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(v.created_at).toLocaleDateString("pt-BR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})}),a.jsxs($e,{children:[a.jsx("p",{className:"whitespace-pre-wrap mb-4",children:v.content}),a.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t",children:[a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsx(qs,{className:"w-4 h-4"}),a.jsx("span",{children:((k=v._count)==null?void 0:k.likes)||0})]}),a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsx(ur,{className:"w-4 h-4"}),a.jsx("span",{children:((O=v._count)==null?void 0:O.comments)||0})]})]})]})]},v.id)})})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs(H,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsx(Ye,{children:a.jsxs(rt,{className:"text-lg flex items-center gap-2",children:[a.jsx(vt,{className:"w-5 h-5"}),"Membros (",i.length,")"]})}),a.jsx($e,{children:a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:i.map(v=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsxs(bt,{className:"w-8 h-8",children:[a.jsx(_t,{src:v.avatar_url}),a.jsx(jt,{children:v.username.charAt(0).toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:v.username}),a.jsx("p",{className:"text-xs text-muted-foreground",children:v.role==="admin"?"Admin":"Membro"})]})]},v.id))})})]})})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(qn,{}),a.jsx("div",{className:"container mx-auto px-6 py-12",children:a.jsxs(H,{className:"max-w-md mx-auto text-center p-8",children:[a.jsxs(Ye,{children:[a.jsx(rt,{children:"Clube no encontrado"}),a.jsx(Ss,{children:"O clube que voc est procurando no existe ou foi removido."})]}),a.jsx($e,{children:a.jsxs($,{onClick:()=>t("/clubs"),className:"gap-2",children:[a.jsx(ci,{className:"w-4 h-4"}),"Voltar aos Clubes"]})})]})})]})}const Z8=new DO,X8=()=>a.jsx(UO,{client:Z8,children:a.jsx(tM,{defaultTheme:"light",children:a.jsx(yO,{children:a.jsxs(oM,{children:[a.jsx(sM,{}),a.jsx(rR,{}),a.jsx(MR,{}),a.jsx(ZA,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsxs(qA,{children:[a.jsx(dt,{path:"/",element:a.jsx(kD,{})}),a.jsx(dt,{path:"/auth",element:a.jsx(SL,{})}),a.jsx(dt,{path:"/auth/error",element:a.jsx(kL,{})}),a.jsx(dt,{path:"/dashboard",element:a.jsx(C8,{})}),a.jsx(dt,{path:"/profile",element:a.jsx(Mk,{})}),a.jsx(dt,{path:"/profile/:userId",element:a.jsx(W8,{})}),a.jsx(dt,{path:"/clubs",element:a.jsx(T8,{})}),a.jsx(dt,{path:"/clubs/:clubId",element:a.jsx(Y8,{})}),a.jsx(dt,{path:"/cinema",element:a.jsx(R8,{})}),a.jsx(dt,{path:"/moderation",element:a.jsx(M8,{})}),a.jsx(dt,{path:"/city-hall",element:a.jsx(B8,{})}),a.jsx(dt,{path:"/explore",element:a.jsx(V8,{})}),a.jsx(dt,{path:"/messages",element:a.jsx(K8,{})}),a.jsx(dt,{path:"/privacy-settings",element:a.jsx(H8,{})}),a.jsx(dt,{path:"/terms",element:a.jsx(G8,{})}),a.jsx(dt,{path:"/privacy",element:a.jsx(Q8,{})}),a.jsx(dt,{path:"/test-connection",element:a.jsx(P8,{})}),a.jsx(dt,{path:"*",element:a.jsx(E8,{})})]})})]})})})});Zb(document.getElementById("root")).render(a.jsx(X8,{}));
