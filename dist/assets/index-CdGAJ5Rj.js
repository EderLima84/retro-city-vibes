var Sv=e=>{throw TypeError(e)};var Eh=(e,t,r)=>t.has(e)||Sv("Cannot "+r);var E=(e,t,r)=>(Eh(e,t,"read from private field"),r?r.call(e):t.get(e)),fe=(e,t,r)=>t.has(e)?Sv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(Eh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),_e=(e,t,r)=>(Eh(e,t,"access private method"),r);var Ac=(e,t,r,n)=>({set _(s){se(e,t,s,r)},get _(){return E(e,t,n)}});function CC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function EC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var U0={exports:{}},Eu={},B0={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),PC=Symbol.for("react.portal"),TC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),OC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),MC=Symbol.for("react.context"),IC=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),$C=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),kv=Symbol.iterator;function FC(e){return e===null||typeof e!="object"?null:(e=kv&&e[kv]||e["@@iterator"],typeof e=="function"?e:null)}var q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V0=Object.assign,W0={};function Ni(e,t,r){this.props=e,this.context=t,this.refs=W0,this.updater=r||q0}Ni.prototype.isReactComponent={};Ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H0(){}H0.prototype=Ni.prototype;function Np(e,t,r){this.props=e,this.context=t,this.refs=W0,this.updater=r||q0}var Sp=Np.prototype=new H0;Sp.constructor=Np;V0(Sp,Ni.prototype);Sp.isPureReactComponent=!0;var Cv=Array.isArray,G0=Object.prototype.hasOwnProperty,kp={current:null},K0={key:!0,ref:!0,__self:!0,__source:!0};function Q0(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)G0.call(t,n)&&!K0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:dc,type:e,key:o,ref:i,props:s,_owner:kp.current}}function zC(e,t){return{$$typeof:dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cp(e){return typeof e=="object"&&e!==null&&e.$$typeof===dc}function UC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ev=/\/+/g;function Ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UC(""+e.key):t.toString(36)}function dd(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case dc:case PC:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Ph(i,0):n,Cv(s)?(r="",e!=null&&(r=e.replace(Ev,"$&/")+"/"),dd(s,t,r,"",function(d){return d})):s!=null&&(Cp(s)&&(s=zC(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Ev,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Cv(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Ph(o,l);i+=dd(o,t,r,c,s)}else if(c=FC(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Ph(o,l++),i+=dd(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Mc(e,t,r){if(e==null)return e;var n=[],s=0;return dd(e,n,"","",function(o){return t.call(r,o,s++)}),n}function BC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},ud={transition:null},qC={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:ud,ReactCurrentOwner:kp};function Y0(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Mc,forEach:function(e,t,r){Mc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mc(e,function(){t++}),t},toArray:function(e){return Mc(e,function(t){return t})||[]},only:function(e){if(!Cp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=Ni;Ee.Fragment=TC;Ee.Profiler=OC;Ee.PureComponent=Np;Ee.StrictMode=RC;Ee.Suspense=DC;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qC;Ee.act=Y0;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=V0({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=kp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)G0.call(t,c)&&!K0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:dc,type:e.type,key:s,ref:o,props:n,_owner:i}};Ee.createContext=function(e){return e={$$typeof:MC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AC,_context:e},e.Consumer=e};Ee.createElement=Q0;Ee.createFactory=function(e){var t=Q0.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:IC,render:e}};Ee.isValidElement=Cp;Ee.lazy=function(e){return{$$typeof:LC,_payload:{_status:-1,_result:e},_init:BC}};Ee.memo=function(e,t){return{$$typeof:$C,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=ud.transition;ud.transition={};try{e()}finally{ud.transition=t}};Ee.unstable_act=Y0;Ee.useCallback=function(e,t){return Wt.current.useCallback(e,t)};Ee.useContext=function(e){return Wt.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return Wt.current.useEffect(e,t)};Ee.useId=function(){return Wt.current.useId()};Ee.useImperativeHandle=function(e,t,r){return Wt.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return Wt.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return Wt.current.useReducer(e,t,r)};Ee.useRef=function(e){return Wt.current.useRef(e)};Ee.useState=function(e){return Wt.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return Wt.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return Wt.current.useTransition()};Ee.version="18.3.1";B0.exports=Ee;var h=B0.exports;const X=z0(h),Ep=CC({__proto__:null,default:X},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=h,WC=Symbol.for("react.element"),HC=Symbol.for("react.fragment"),GC=Object.prototype.hasOwnProperty,KC=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QC={key:!0,ref:!0,__self:!0,__source:!0};function X0(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)GC.call(t,n)&&!QC.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:WC,type:e,key:o,ref:i,props:s,_owner:KC.current}}Eu.Fragment=HC;Eu.jsx=X0;Eu.jsxs=X0;U0.exports=Eu;var a=U0.exports,Z0={exports:{}},yr={},J0={exports:{}},ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,T){var F=I.length;I.push(T);e:for(;0<F;){var ee=F-1>>>1,H=I[ee];if(0<s(H,T))I[ee]=T,I[F]=H,F=ee;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var T=I[0],F=I.pop();if(F!==T){I[0]=F;e:for(var ee=0,H=I.length,re=H>>>1;ee<re;){var te=2*(ee+1)-1,oe=I[te],me=te+1,Y=I[me];if(0>s(oe,F))me<H&&0>s(Y,oe)?(I[ee]=Y,I[me]=F,ee=me):(I[ee]=oe,I[te]=F,ee=te);else if(me<H&&0>s(Y,F))I[ee]=Y,I[me]=F,ee=me;else break e}}return T}function s(I,T){var F=I.sortIndex-T.sortIndex;return F!==0?F:I.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var T=r(d);T!==null;){if(T.callback===null)n(d);else if(T.startTime<=I)n(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(d)}}function j(I){if(g=!1,y(I),!x)if(r(c)!==null)x=!0,R(N);else{var T=r(d);T!==null&&B(j,T.startTime-I)}}function N(I,T){x=!1,g&&(g=!1,b(k),k=-1),p=!0;var F=m;try{for(y(T),f=r(c);f!==null&&(!(f.expirationTime>T)||I&&!P());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,m=f.priorityLevel;var H=ee(f.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?f.callback=H:f===r(c)&&n(c),y(T)}else n(c);f=r(c)}if(f!==null)var re=!0;else{var te=r(d);te!==null&&B(j,te.startTime-T),re=!1}return re}finally{f=null,m=F,p=!1}}var _=!1,S=null,k=-1,A=5,C=-1;function P(){return!(e.unstable_now()-C<A)}function D(){if(S!==null){var I=e.unstable_now();C=I;var T=!0;try{T=S(!0,I)}finally{T?U():(_=!1,S=null)}}else _=!1}var U;if(typeof v=="function")U=function(){v(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=D,U=function(){q.postMessage(null)}}else U=function(){w(D,0)};function R(I){S=I,_||(_=!0,U())}function B(I,T){k=w(function(){I(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,R(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var F=m;m=T;try{return I()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,T){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=m;m=I;try{return T()}finally{m=F}},e.unstable_scheduleCallback=function(I,T,F){var ee=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ee+F:ee):F=ee,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=F+H,I={id:u++,callback:T,priorityLevel:I,startTime:F,expirationTime:H,sortIndex:-1},F>ee?(I.sortIndex=F,t(d,I),r(c)===null&&I===r(d)&&(g?(b(k),k=-1):g=!0,B(j,F-ee))):(I.sortIndex=H,t(c,I),x||p||(x=!0,R(N))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var T=m;return function(){var F=m;m=T;try{return I.apply(this,arguments)}finally{m=F}}}})(ew);J0.exports=ew;var YC=J0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=h,fr=YC;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tw=new Set,_l={};function Qa(e,t){si(e,t),si(e+"Capture",t)}function si(e,t){for(_l[e]=t,e=0;e<t.length;e++)tw.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Of=Object.prototype.hasOwnProperty,ZC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pv={},Tv={};function JC(e){return Of.call(Tv,e)?!0:Of.call(Pv,e)?!1:ZC.test(e)?Tv[e]=!0:(Pv[e]=!0,!1)}function e2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t2(e,t,r,n){if(t===null||typeof t>"u"||e2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pp=/[\-:]([a-z])/g;function Tp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pp,Tp);Tt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pp,Tp);Tt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pp,Tp);Tt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rp(e,t,r,n){var s=Tt.hasOwnProperty(t)?Tt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t2(t,r,s,n)&&(r=null),n||s===null?JC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Hn=XC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ic=Symbol.for("react.element"),yo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),rw=Symbol.for("react.provider"),nw=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),sw=Symbol.for("react.offscreen"),Rv=Symbol.iterator;function Fi(e){return e===null||typeof e!="object"?null:(e=Rv&&e[Rv]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,Th;function Xi(e){if(Th===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Th=t&&t[1]||""}return`
`+Th+e}var Rh=!1;function Oh(e,t){if(!e||Rh)return"";Rh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Rh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xi(e):""}function r2(e){switch(e.tag){case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return e=Oh(e.type,!1),e;case 11:return e=Oh(e.type.render,!1),e;case 1:return e=Oh(e.type,!0),e;default:return""}}function Df(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wo:return"Fragment";case yo:return"Portal";case Af:return"Profiler";case Op:return"StrictMode";case Mf:return"Suspense";case If:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nw:return(e.displayName||"Context")+".Consumer";case rw:return(e._context.displayName||"Context")+".Provider";case Ap:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mp:return t=e.displayName||null,t!==null?t:Df(e.type)||"Memo";case ls:t=e._payload,e=e._init;try{return Df(e(t))}catch{}}return null}function n2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Df(t);case 8:return t===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s2(e){var t=aw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dc(e){e._valueTracker||(e._valueTracker=s2(e))}function ow(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $f(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ov(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iw(e,t){t=t.checked,t!=null&&Rp(e,"checked",t,!1)}function Lf(e,t){iw(e,t);var r=Fs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ff(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ff(e,t.type,Fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Av(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ff(e,t,r){(t!=="number"||Rd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zi=Array.isArray;function Ao(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Zi(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fs(r)}}function lw(e,t){var r=Fs(t.value),n=Fs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Iv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $c,dw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($c=$c||document.createElement("div"),$c.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$c.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a2=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(e){a2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ll[t]=ll[e]})});function uw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ll.hasOwnProperty(e)&&ll[e]?(""+t).trim():t+"px"}function hw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=uw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var o2=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(e,t){if(t){if(o2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function qf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Ip(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wf=null,Mo=null,Io=null;function Dv(e){if(e=fc(e)){if(typeof Wf!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Au(t),Wf(e.stateNode,e.type,t))}}function fw(e){Mo?Io?Io.push(e):Io=[e]:Mo=e}function mw(){if(Mo){var e=Mo,t=Io;if(Io=Mo=null,Dv(e),t)for(e=0;e<t.length;e++)Dv(t[e])}}function pw(e,t){return e(t)}function gw(){}var Ah=!1;function vw(e,t,r){if(Ah)return e(t,r);Ah=!0;try{return pw(e,t,r)}finally{Ah=!1,(Mo!==null||Io!==null)&&(gw(),mw())}}function Sl(e,t){var r=e.stateNode;if(r===null)return null;var n=Au(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Hf=!1;if(Fn)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Hf=!1}function i2(e,t,r,n,s,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var cl=!1,Od=null,Ad=!1,Gf=null,l2={onError:function(e){cl=!0,Od=e}};function c2(e,t,r,n,s,o,i,l,c){cl=!1,Od=null,i2.apply(l2,arguments)}function d2(e,t,r,n,s,o,i,l,c){if(c2.apply(this,arguments),cl){if(cl){var d=Od;cl=!1,Od=null}else throw Error(W(198));Ad||(Ad=!0,Gf=d)}}function Ya(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $v(e){if(Ya(e)!==e)throw Error(W(188))}function u2(e){var t=e.alternate;if(!t){if(t=Ya(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return $v(s),e;if(o===n)return $v(s),t;o=o.sibling}throw Error(W(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function yw(e){return e=u2(e),e!==null?ww(e):null}function ww(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ww(e);if(t!==null)return t;e=e.sibling}return null}var bw=fr.unstable_scheduleCallback,Lv=fr.unstable_cancelCallback,h2=fr.unstable_shouldYield,f2=fr.unstable_requestPaint,it=fr.unstable_now,m2=fr.unstable_getCurrentPriorityLevel,Dp=fr.unstable_ImmediatePriority,jw=fr.unstable_UserBlockingPriority,Md=fr.unstable_NormalPriority,p2=fr.unstable_LowPriority,_w=fr.unstable_IdlePriority,Pu=null,xn=null;function g2(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Pu,e,void 0,(e.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:y2,v2=Math.log,x2=Math.LN2;function y2(e){return e>>>=0,e===0?32:31-(v2(e)/x2|0)|0}var Lc=64,Fc=4194304;function Ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Id(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Ji(l):(o&=i,o!==0&&(n=Ji(o)))}else i=r&~s,i!==0?n=Ji(i):o!==0&&(n=Ji(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gr(t),s=1<<r,n|=e[r],t&=~s;return n}function w2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Gr(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=w2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Kf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nw(){var e=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),e}function Mh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function uc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gr(t),e[t]=r}function j2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Gr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function $p(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Le=0;function Sw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kw,Lp,Cw,Ew,Pw,Qf=!1,zc=[],Es=null,Ps=null,Ts=null,kl=new Map,Cl=new Map,us=[],_2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fv(e,t){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function Ui(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=fc(t),t!==null&&Lp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function N2(e,t,r,n,s){switch(t){case"focusin":return Es=Ui(Es,e,t,r,n,s),!0;case"dragenter":return Ps=Ui(Ps,e,t,r,n,s),!0;case"mouseover":return Ts=Ui(Ts,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return kl.set(o,Ui(kl.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Cl.set(o,Ui(Cl.get(o)||null,e,t,r,n,s)),!0}return!1}function Tw(e){var t=ya(e.target);if(t!==null){var r=Ya(t);if(r!==null){if(t=r.tag,t===13){if(t=xw(r),t!==null){e.blockedOn=t,Pw(e.priority,function(){Cw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vf=n,r.target.dispatchEvent(n),Vf=null}else return t=fc(r),t!==null&&Lp(t),e.blockedOn=r,!1;t.shift()}return!0}function zv(e,t,r){hd(e)&&r.delete(t)}function S2(){Qf=!1,Es!==null&&hd(Es)&&(Es=null),Ps!==null&&hd(Ps)&&(Ps=null),Ts!==null&&hd(Ts)&&(Ts=null),kl.forEach(zv),Cl.forEach(zv)}function Bi(e,t){e.blockedOn===t&&(e.blockedOn=null,Qf||(Qf=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,S2)))}function El(e){function t(s){return Bi(s,e)}if(0<zc.length){Bi(zc[0],e);for(var r=1;r<zc.length;r++){var n=zc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Es!==null&&Bi(Es,e),Ps!==null&&Bi(Ps,e),Ts!==null&&Bi(Ts,e),kl.forEach(t),Cl.forEach(t),r=0;r<us.length;r++)n=us[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<us.length&&(r=us[0],r.blockedOn===null);)Tw(r),r.blockedOn===null&&us.shift()}var Do=Hn.ReactCurrentBatchConfig,Dd=!0;function k2(e,t,r,n){var s=Le,o=Do.transition;Do.transition=null;try{Le=1,Fp(e,t,r,n)}finally{Le=s,Do.transition=o}}function C2(e,t,r,n){var s=Le,o=Do.transition;Do.transition=null;try{Le=4,Fp(e,t,r,n)}finally{Le=s,Do.transition=o}}function Fp(e,t,r,n){if(Dd){var s=Yf(e,t,r,n);if(s===null)Vh(e,t,n,$d,r),Fv(e,n);else if(N2(s,e,t,r,n))n.stopPropagation();else if(Fv(e,n),t&4&&-1<_2.indexOf(e)){for(;s!==null;){var o=fc(s);if(o!==null&&kw(o),o=Yf(e,t,r,n),o===null&&Vh(e,t,n,$d,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Vh(e,t,n,null,r)}}var $d=null;function Yf(e,t,r,n){if($d=null,e=Ip(n),e=ya(e),e!==null)if(t=Ya(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $d=e,null}function Rw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m2()){case Dp:return 1;case jw:return 4;case Md:case p2:return 16;case _w:return 536870912;default:return 16}default:return 16}}var Ns=null,zp=null,fd=null;function Ow(){if(fd)return fd;var e,t=zp,r=t.length,n,s="value"in Ns?Ns.value:Ns.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return fd=s.slice(e,1<n?1-n:void 0)}function md(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function Uv(){return!1}function wr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uc:Uv,this.isPropagationStopped=Uv,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Up=wr(Si),hc=et({},Si,{view:0,detail:0}),E2=wr(hc),Ih,Dh,qi,Tu=et({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Ih=e.screenX-qi.screenX,Dh=e.screenY-qi.screenY):Dh=Ih=0,qi=e),Ih)},movementY:function(e){return"movementY"in e?e.movementY:Dh}}),Bv=wr(Tu),P2=et({},Tu,{dataTransfer:0}),T2=wr(P2),R2=et({},hc,{relatedTarget:0}),$h=wr(R2),O2=et({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),A2=wr(O2),M2=et({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I2=wr(M2),D2=et({},Si,{data:0}),qv=wr(D2),$2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F2[e])?!!t[e]:!1}function Bp(){return z2}var U2=et({},hc,{key:function(e){if(e.key){var t=$2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=md(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(e){return e.type==="keypress"?md(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?md(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B2=wr(U2),q2=et({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vv=wr(q2),V2=et({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),W2=wr(V2),H2=et({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),G2=wr(H2),K2=et({},Tu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q2=wr(K2),Y2=[9,13,27,32],qp=Fn&&"CompositionEvent"in window,dl=null;Fn&&"documentMode"in document&&(dl=document.documentMode);var X2=Fn&&"TextEvent"in window&&!dl,Aw=Fn&&(!qp||dl&&8<dl&&11>=dl),Wv=" ",Hv=!1;function Mw(e,t){switch(e){case"keyup":return Y2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bo=!1;function Z2(e,t){switch(e){case"compositionend":return Iw(t);case"keypress":return t.which!==32?null:(Hv=!0,Wv);case"textInput":return e=t.data,e===Wv&&Hv?null:e;default:return null}}function J2(e,t){if(bo)return e==="compositionend"||!qp&&Mw(e,t)?(e=Ow(),fd=zp=Ns=null,bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Aw&&t.locale!=="ko"?null:t.data;default:return null}}var eE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eE[e.type]:t==="textarea"}function Dw(e,t,r,n){fw(n),t=Ld(t,"onChange"),0<t.length&&(r=new Up("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ul=null,Pl=null;function tE(e){Gw(e,0)}function Ru(e){var t=No(e);if(ow(t))return e}function rE(e,t){if(e==="change")return t}var $w=!1;if(Fn){var Lh;if(Fn){var Fh="oninput"in document;if(!Fh){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),Fh=typeof Kv.oninput=="function"}Lh=Fh}else Lh=!1;$w=Lh&&(!document.documentMode||9<document.documentMode)}function Qv(){ul&&(ul.detachEvent("onpropertychange",Lw),Pl=ul=null)}function Lw(e){if(e.propertyName==="value"&&Ru(Pl)){var t=[];Dw(t,Pl,e,Ip(e)),vw(tE,t)}}function nE(e,t,r){e==="focusin"?(Qv(),ul=t,Pl=r,ul.attachEvent("onpropertychange",Lw)):e==="focusout"&&Qv()}function sE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Pl)}function aE(e,t){if(e==="click")return Ru(t)}function oE(e,t){if(e==="input"||e==="change")return Ru(t)}function iE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yr=typeof Object.is=="function"?Object.is:iE;function Tl(e,t){if(Yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Of.call(t,s)||!Yr(e[s],t[s]))return!1}return!0}function Yv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xv(e,t){var r=Yv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yv(r)}}function Fw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zw(){for(var e=window,t=Rd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rd(e.document)}return t}function Vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lE(e){var t=zw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fw(r.ownerDocument.documentElement,r)){if(n!==null&&Vp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Xv(r,o);var i=Xv(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cE=Fn&&"documentMode"in document&&11>=document.documentMode,jo=null,Xf=null,hl=null,Zf=!1;function Zv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zf||jo==null||jo!==Rd(n)||(n=jo,"selectionStart"in n&&Vp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hl&&Tl(hl,n)||(hl=n,n=Ld(Xf,"onSelect"),0<n.length&&(t=new Up("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jo)))}function Bc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _o={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},zh={},Uw={};Fn&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Ou(e){if(zh[e])return zh[e];if(!_o[e])return e;var t=_o[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Uw)return zh[e]=t[r];return e}var Bw=Ou("animationend"),qw=Ou("animationiteration"),Vw=Ou("animationstart"),Ww=Ou("transitionend"),Hw=new Map,Jv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(e,t){Hw.set(e,t),Qa(t,[e])}for(var Uh=0;Uh<Jv.length;Uh++){var Bh=Jv[Uh],dE=Bh.toLowerCase(),uE=Bh[0].toUpperCase()+Bh.slice(1);Qs(dE,"on"+uE)}Qs(Bw,"onAnimationEnd");Qs(qw,"onAnimationIteration");Qs(Vw,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(Ww,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hE=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function ex(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,d2(n,t,void 0,e),e.currentTarget=null}function Gw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;ex(s,l,d),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;ex(s,l,d),o=c}}}if(Ad)throw e=Gf,Ad=!1,Gf=null,e}function He(e,t){var r=t[nm];r===void 0&&(r=t[nm]=new Set);var n=e+"__bubble";r.has(n)||(Kw(t,e,2,!1),r.add(n))}function qh(e,t,r){var n=0;t&&(n|=4),Kw(r,e,n,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Rl(e){if(!e[qc]){e[qc]=!0,tw.forEach(function(r){r!=="selectionchange"&&(hE.has(r)||qh(r,!1,e),qh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,qh("selectionchange",!1,t))}}function Kw(e,t,r,n){switch(Rw(t)){case 1:var s=k2;break;case 4:s=C2;break;default:s=Fp}r=s.bind(null,t,r,e),s=void 0,!Hf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Vh(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ya(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}vw(function(){var d=o,u=Ip(r),f=[];e:{var m=Hw.get(e);if(m!==void 0){var p=Up,x=e;switch(e){case"keypress":if(md(r)===0)break e;case"keydown":case"keyup":p=B2;break;case"focusin":x="focus",p=$h;break;case"focusout":x="blur",p=$h;break;case"beforeblur":case"afterblur":p=$h;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=T2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=W2;break;case Bw:case qw:case Vw:p=A2;break;case Ww:p=G2;break;case"scroll":p=E2;break;case"wheel":p=Q2;break;case"copy":case"cut":case"paste":p=I2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vv}var g=(t&4)!==0,w=!g&&e==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var v=d,y;v!==null;){y=v;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,b!==null&&(j=Sl(v,b),j!=null&&g.push(Ol(v,j,y)))),w)break;v=v.return}0<g.length&&(m=new p(m,x,null,r,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Vf&&(x=r.relatedTarget||r.fromElement)&&(ya(x)||x[zn]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?ya(x):null,x!==null&&(w=Ya(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(g=Bv,j="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Vv,j="onPointerLeave",b="onPointerEnter",v="pointer"),w=p==null?m:No(p),y=x==null?m:No(x),m=new g(j,v+"leave",p,r,u),m.target=w,m.relatedTarget=y,j=null,ya(u)===d&&(g=new g(b,v+"enter",x,r,u),g.target=y,g.relatedTarget=w,j=g),w=j,p&&x)t:{for(g=p,b=x,v=0,y=g;y;y=ao(y))v++;for(y=0,j=b;j;j=ao(j))y++;for(;0<v-y;)g=ao(g),v--;for(;0<y-v;)b=ao(b),y--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=ao(g),b=ao(b)}g=null}else g=null;p!==null&&tx(f,m,p,g,!1),x!==null&&w!==null&&tx(f,w,x,g,!0)}}e:{if(m=d?No(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=rE;else if(Gv(m))if($w)N=oE;else{N=sE;var _=nE}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=aE);if(N&&(N=N(e,d))){Dw(f,N,r,u);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&Ff(m,"number",m.value)}switch(_=d?No(d):window,e){case"focusin":(Gv(_)||_.contentEditable==="true")&&(jo=_,Xf=d,hl=null);break;case"focusout":hl=Xf=jo=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,Zv(f,r,u);break;case"selectionchange":if(cE)break;case"keydown":case"keyup":Zv(f,r,u)}var S;if(qp)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else bo?Mw(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Aw&&r.locale!=="ko"&&(bo||k!=="onCompositionStart"?k==="onCompositionEnd"&&bo&&(S=Ow()):(Ns=u,zp="value"in Ns?Ns.value:Ns.textContent,bo=!0)),_=Ld(d,k),0<_.length&&(k=new qv(k,e,null,r,u),f.push({event:k,listeners:_}),S?k.data=S:(S=Iw(r),S!==null&&(k.data=S)))),(S=X2?Z2(e,r):J2(e,r))&&(d=Ld(d,"onBeforeInput"),0<d.length&&(u=new qv("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=S))}Gw(f,t)})}function Ol(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ld(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Sl(e,r),o!=null&&n.unshift(Ol(e,o,s)),o=Sl(e,t),o!=null&&n.push(Ol(e,o,s))),e=e.return}return n}function ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tx(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Sl(r,o),c!=null&&i.unshift(Ol(r,c,l))):s||(c=Sl(r,o),c!=null&&i.push(Ol(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var fE=/\r\n?/g,mE=/\u0000|\uFFFD/g;function rx(e){return(typeof e=="string"?e:""+e).replace(fE,`
`).replace(mE,"")}function Vc(e,t,r){if(t=rx(t),rx(e)!==t&&r)throw Error(W(425))}function Fd(){}var Jf=null,em=null;function tm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rm=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,nx=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof nx<"u"?function(e){return nx.resolve(null).then(e).catch(vE)}:rm;function vE(e){setTimeout(function(){throw e})}function Wh(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),El(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);El(t)}function Rs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ki=Math.random().toString(36).slice(2),dn="__reactFiber$"+ki,Al="__reactProps$"+ki,zn="__reactContainer$"+ki,nm="__reactEvents$"+ki,xE="__reactListeners$"+ki,yE="__reactHandles$"+ki;function ya(e){var t=e[dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zn]||r[dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=sx(e);e!==null;){if(r=e[dn])return r;e=sx(e)}return t}e=r,r=e.parentNode}return null}function fc(e){return e=e[dn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function No(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Au(e){return e[Al]||null}var sm=[],So=-1;function Ys(e){return{current:e}}function Ke(e){0>So||(e.current=sm[So],sm[So]=null,So--)}function qe(e,t){So++,sm[So]=e.current,e.current=t}var zs={},Lt=Ys(zs),rr=Ys(!1),Aa=zs;function ai(e,t){var r=e.type.contextTypes;if(!r)return zs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nr(e){return e=e.childContextTypes,e!=null}function zd(){Ke(rr),Ke(Lt)}function ax(e,t,r){if(Lt.current!==zs)throw Error(W(168));qe(Lt,t),qe(rr,r)}function Qw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(W(108,n2(e)||"Unknown",s));return et({},r,n)}function Ud(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zs,Aa=Lt.current,qe(Lt,e),qe(rr,rr.current),!0}function ox(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=Qw(e,t,Aa),n.__reactInternalMemoizedMergedChildContext=e,Ke(rr),Ke(Lt),qe(Lt,e)):Ke(rr),qe(rr,r)}var Tn=null,Mu=!1,Hh=!1;function Yw(e){Tn===null?Tn=[e]:Tn.push(e)}function wE(e){Mu=!0,Yw(e)}function Xs(){if(!Hh&&Tn!==null){Hh=!0;var e=0,t=Le;try{var r=Tn;for(Le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tn=null,Mu=!1}catch(s){throw Tn!==null&&(Tn=Tn.slice(e+1)),bw(Dp,Xs),s}finally{Le=t,Hh=!1}}return null}var ko=[],Co=0,Bd=null,qd=0,Sr=[],kr=0,Ma=null,An=1,Mn="";function fa(e,t){ko[Co++]=qd,ko[Co++]=Bd,Bd=e,qd=t}function Xw(e,t,r){Sr[kr++]=An,Sr[kr++]=Mn,Sr[kr++]=Ma,Ma=e;var n=An;e=Mn;var s=32-Gr(n)-1;n&=~(1<<s),r+=1;var o=32-Gr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,An=1<<32-Gr(t)+s|r<<s|n,Mn=o+e}else An=1<<o|r<<s|n,Mn=e}function Wp(e){e.return!==null&&(fa(e,1),Xw(e,1,0))}function Hp(e){for(;e===Bd;)Bd=ko[--Co],ko[Co]=null,qd=ko[--Co],ko[Co]=null;for(;e===Ma;)Ma=Sr[--kr],Sr[kr]=null,Mn=Sr[--kr],Sr[kr]=null,An=Sr[--kr],Sr[kr]=null}var ur=null,dr=null,Ye=!1,Hr=null;function Zw(e,t){var r=Cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ix(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,dr=Rs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ma!==null?{id:An,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ur=e,dr=null,!0):!1;default:return!1}}function am(e){return(e.mode&1)!==0&&(e.flags&128)===0}function om(e){if(Ye){var t=dr;if(t){var r=t;if(!ix(e,t)){if(am(e))throw Error(W(418));t=Rs(r.nextSibling);var n=ur;t&&ix(e,t)?Zw(n,r):(e.flags=e.flags&-4097|2,Ye=!1,ur=e)}}else{if(am(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ye=!1,ur=e}}}function lx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function Wc(e){if(e!==ur)return!1;if(!Ye)return lx(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tm(e.type,e.memoizedProps)),t&&(t=dr)){if(am(e))throw Jw(),Error(W(418));for(;t;)Zw(e,t),t=Rs(t.nextSibling)}if(lx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dr=Rs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=ur?Rs(e.stateNode.nextSibling):null;return!0}function Jw(){for(var e=dr;e;)e=Rs(e.nextSibling)}function oi(){dr=ur=null,Ye=!1}function Gp(e){Hr===null?Hr=[e]:Hr.push(e)}var bE=Hn.ReactCurrentBatchConfig;function Vi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Hc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cx(e){var t=e._init;return t(e._payload)}function eb(e){function t(b,v){if(e){var y=b.deletions;y===null?(b.deletions=[v],b.flags|=16):y.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=Is(b,v),b.index=0,b.sibling=null,b}function o(b,v,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<v?(b.flags|=2,v):y):(b.flags|=2,v)):(b.flags|=1048576,v)}function i(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,y,j){return v===null||v.tag!==6?(v=Jh(y,b.mode,j),v.return=b,v):(v=s(v,y),v.return=b,v)}function c(b,v,y,j){var N=y.type;return N===wo?u(b,v,y.props.children,j,y.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ls&&cx(N)===v.type)?(j=s(v,y.props),j.ref=Vi(b,v,y),j.return=b,j):(j=bd(y.type,y.key,y.props,null,b.mode,j),j.ref=Vi(b,v,y),j.return=b,j)}function d(b,v,y,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=ef(y,b.mode,j),v.return=b,v):(v=s(v,y.children||[]),v.return=b,v)}function u(b,v,y,j,N){return v===null||v.tag!==7?(v=Oa(y,b.mode,j,N),v.return=b,v):(v=s(v,y),v.return=b,v)}function f(b,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jh(""+v,b.mode,y),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ic:return y=bd(v.type,v.key,v.props,null,b.mode,y),y.ref=Vi(b,null,v),y.return=b,y;case yo:return v=ef(v,b.mode,y),v.return=b,v;case ls:var j=v._init;return f(b,j(v._payload),y)}if(Zi(v)||Fi(v))return v=Oa(v,b.mode,y,null),v.return=b,v;Hc(b,v)}return null}function m(b,v,y,j){var N=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(b,v,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ic:return y.key===N?c(b,v,y,j):null;case yo:return y.key===N?d(b,v,y,j):null;case ls:return N=y._init,m(b,v,N(y._payload),j)}if(Zi(y)||Fi(y))return N!==null?null:u(b,v,y,j,null);Hc(b,y)}return null}function p(b,v,y,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(y)||null,l(v,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ic:return b=b.get(j.key===null?y:j.key)||null,c(v,b,j,N);case yo:return b=b.get(j.key===null?y:j.key)||null,d(v,b,j,N);case ls:var _=j._init;return p(b,v,y,_(j._payload),N)}if(Zi(j)||Fi(j))return b=b.get(y)||null,u(v,b,j,N,null);Hc(v,j)}return null}function x(b,v,y,j){for(var N=null,_=null,S=v,k=v=0,A=null;S!==null&&k<y.length;k++){S.index>k?(A=S,S=null):A=S.sibling;var C=m(b,S,y[k],j);if(C===null){S===null&&(S=A);break}e&&S&&C.alternate===null&&t(b,S),v=o(C,v,k),_===null?N=C:_.sibling=C,_=C,S=A}if(k===y.length)return r(b,S),Ye&&fa(b,k),N;if(S===null){for(;k<y.length;k++)S=f(b,y[k],j),S!==null&&(v=o(S,v,k),_===null?N=S:_.sibling=S,_=S);return Ye&&fa(b,k),N}for(S=n(b,S);k<y.length;k++)A=p(S,b,k,y[k],j),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?k:A.key),v=o(A,v,k),_===null?N=A:_.sibling=A,_=A);return e&&S.forEach(function(P){return t(b,P)}),Ye&&fa(b,k),N}function g(b,v,y,j){var N=Fi(y);if(typeof N!="function")throw Error(W(150));if(y=N.call(y),y==null)throw Error(W(151));for(var _=N=null,S=v,k=v=0,A=null,C=y.next();S!==null&&!C.done;k++,C=y.next()){S.index>k?(A=S,S=null):A=S.sibling;var P=m(b,S,C.value,j);if(P===null){S===null&&(S=A);break}e&&S&&P.alternate===null&&t(b,S),v=o(P,v,k),_===null?N=P:_.sibling=P,_=P,S=A}if(C.done)return r(b,S),Ye&&fa(b,k),N;if(S===null){for(;!C.done;k++,C=y.next())C=f(b,C.value,j),C!==null&&(v=o(C,v,k),_===null?N=C:_.sibling=C,_=C);return Ye&&fa(b,k),N}for(S=n(b,S);!C.done;k++,C=y.next())C=p(S,b,k,C.value,j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),v=o(C,v,k),_===null?N=C:_.sibling=C,_=C);return e&&S.forEach(function(D){return t(b,D)}),Ye&&fa(b,k),N}function w(b,v,y,j){if(typeof y=="object"&&y!==null&&y.type===wo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ic:e:{for(var N=y.key,_=v;_!==null;){if(_.key===N){if(N=y.type,N===wo){if(_.tag===7){r(b,_.sibling),v=s(_,y.props.children),v.return=b,b=v;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ls&&cx(N)===_.type){r(b,_.sibling),v=s(_,y.props),v.ref=Vi(b,_,y),v.return=b,b=v;break e}r(b,_);break}else t(b,_);_=_.sibling}y.type===wo?(v=Oa(y.props.children,b.mode,j,y.key),v.return=b,b=v):(j=bd(y.type,y.key,y.props,null,b.mode,j),j.ref=Vi(b,v,y),j.return=b,b=j)}return i(b);case yo:e:{for(_=y.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(b,v.sibling),v=s(v,y.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=ef(y,b.mode,j),v.return=b,b=v}return i(b);case ls:return _=y._init,w(b,v,_(y._payload),j)}if(Zi(y))return x(b,v,y,j);if(Fi(y))return g(b,v,y,j);Hc(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(b,v.sibling),v=s(v,y),v.return=b,b=v):(r(b,v),v=Jh(y,b.mode,j),v.return=b,b=v),i(b)):r(b,v)}return w}var ii=eb(!0),tb=eb(!1),Vd=Ys(null),Wd=null,Eo=null,Kp=null;function Qp(){Kp=Eo=Wd=null}function Yp(e){var t=Vd.current;Ke(Vd),e._currentValue=t}function im(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $o(e,t){Wd=e,Kp=Eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function Rr(e){var t=e._currentValue;if(Kp!==e)if(e={context:e,memoizedValue:t,next:null},Eo===null){if(Wd===null)throw Error(W(308));Eo=e,Wd.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var wa=null;function Xp(e){wa===null?wa=[e]:wa.push(e)}function rb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Xp(t)):(r.next=s.next,s.next=r),t.interleaved=r,Un(e,n)}function Un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cs=!1;function Zp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Un(e,r)}return s=n.interleaved,s===null?(t.next=t,Xp(n)):(t.next=s.next,s.next=t),n.interleaved=t,Un(e,r)}function pd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$p(e,r)}}function dx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hd(e,t,r,n){var s=e.updateQueue;cs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,u=d=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(m=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=et({},f,m);break e;case 2:cs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Da|=i,e.lanes=i,e.memoizedState=f}}function ux(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(W(191,s));s.call(n)}}}var mc={},yn=Ys(mc),Ml=Ys(mc),Il=Ys(mc);function ba(e){if(e===mc)throw Error(W(174));return e}function Jp(e,t){switch(qe(Il,t),qe(Ml,e),qe(yn,mc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uf(t,e)}Ke(yn),qe(yn,t)}function li(){Ke(yn),Ke(Ml),Ke(Il)}function sb(e){ba(Il.current);var t=ba(yn.current),r=Uf(t,e.type);t!==r&&(qe(Ml,e),qe(yn,r))}function eg(e){Ml.current===e&&(Ke(yn),Ke(Ml))}var Ze=Ys(0);function Gd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gh=[];function tg(){for(var e=0;e<Gh.length;e++)Gh[e]._workInProgressVersionPrimary=null;Gh.length=0}var gd=Hn.ReactCurrentDispatcher,Kh=Hn.ReactCurrentBatchConfig,Ia=0,Je=null,vt=null,jt=null,Kd=!1,fl=!1,Dl=0,jE=0;function At(){throw Error(W(321))}function rg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yr(e[r],t[r]))return!1;return!0}function ng(e,t,r,n,s,o){if(Ia=o,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gd.current=e===null||e.memoizedState===null?kE:CE,e=r(n,s),fl){o=0;do{if(fl=!1,Dl=0,25<=o)throw Error(W(301));o+=1,jt=vt=null,t.updateQueue=null,gd.current=EE,e=r(n,s)}while(fl)}if(gd.current=Qd,t=vt!==null&&vt.next!==null,Ia=0,jt=vt=Je=null,Kd=!1,t)throw Error(W(300));return e}function sg(){var e=Dl!==0;return Dl=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Je.memoizedState=jt=e:jt=jt.next=e,jt}function Or(){if(vt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=jt===null?Je.memoizedState:jt.next;if(t!==null)jt=t,vt=e;else{if(e===null)throw Error(W(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},jt===null?Je.memoizedState=jt=e:jt=jt.next=e}return jt}function $l(e,t){return typeof t=="function"?t(e):t}function Qh(e){var t=Or(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=vt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((Ia&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Je.lanes|=u,Da|=u}d=d.next}while(d!==null&&d!==o);c===null?i=n:c.next=l,Yr(n,t.memoizedState)||(tr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Je.lanes|=o,Da|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yh(e){var t=Or(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Yr(o,t.memoizedState)||(tr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ab(){}function ob(e,t){var r=Je,n=Or(),s=t(),o=!Yr(n.memoizedState,s);if(o&&(n.memoizedState=s,tr=!0),n=n.queue,ag(cb.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,Ll(9,lb.bind(null,r,n,s,t),void 0,null),_t===null)throw Error(W(349));Ia&30||ib(r,t,s)}return s}function ib(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lb(e,t,r,n){t.value=r,t.getSnapshot=n,db(t)&&ub(e)}function cb(e,t,r){return r(function(){db(t)&&ub(e)})}function db(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yr(e,r)}catch{return!0}}function ub(e){var t=Un(e,1);t!==null&&Kr(t,e,1,-1)}function hx(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:e},t.queue=e,e=e.dispatch=SE.bind(null,Je,e),[t.memoizedState,e]}function Ll(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hb(){return Or().memoizedState}function vd(e,t,r,n){var s=sn();Je.flags|=e,s.memoizedState=Ll(1|t,r,void 0,n===void 0?null:n)}function Iu(e,t,r,n){var s=Or();n=n===void 0?null:n;var o=void 0;if(vt!==null){var i=vt.memoizedState;if(o=i.destroy,n!==null&&rg(n,i.deps)){s.memoizedState=Ll(t,r,o,n);return}}Je.flags|=e,s.memoizedState=Ll(1|t,r,o,n)}function fx(e,t){return vd(8390656,8,e,t)}function ag(e,t){return Iu(2048,8,e,t)}function fb(e,t){return Iu(4,2,e,t)}function mb(e,t){return Iu(4,4,e,t)}function pb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gb(e,t,r){return r=r!=null?r.concat([e]):null,Iu(4,4,pb.bind(null,t,e),r)}function og(){}function vb(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xb(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yb(e,t,r){return Ia&21?(Yr(r,t)||(r=Nw(),Je.lanes|=r,Da|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=r)}function _E(e,t){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var n=Kh.transition;Kh.transition={};try{e(!1),t()}finally{Le=r,Kh.transition=n}}function wb(){return Or().memoizedState}function NE(e,t,r){var n=Ms(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bb(e))jb(t,r);else if(r=rb(e,t,r,n),r!==null){var s=qt();Kr(r,e,n,s),_b(r,t,n)}}function SE(e,t,r){var n=Ms(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bb(e))jb(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Yr(l,i)){var c=t.interleaved;c===null?(s.next=s,Xp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=rb(e,t,s,n),r!==null&&(s=qt(),Kr(r,e,n,s),_b(r,t,n))}}function bb(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function jb(e,t){fl=Kd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _b(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$p(e,r)}}var Qd={readContext:Rr,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},kE={readContext:Rr,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Rr,useEffect:fx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vd(4194308,4,pb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vd(4194308,4,e,t)},useInsertionEffect:function(e,t){return vd(4,2,e,t)},useMemo:function(e,t){var r=sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=sn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=NE.bind(null,Je,e),[n.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:hx,useDebugValue:og,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=hx(!1),t=e[0];return e=_E.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Je,s=sn();if(Ye){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),_t===null)throw Error(W(349));Ia&30||ib(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,fx(cb.bind(null,n,o,e),[e]),n.flags|=2048,Ll(9,lb.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=sn(),t=_t.identifierPrefix;if(Ye){var r=Mn,n=An;r=(n&~(1<<32-Gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CE={readContext:Rr,useCallback:vb,useContext:Rr,useEffect:ag,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:mb,useMemo:xb,useReducer:Qh,useRef:hb,useState:function(){return Qh($l)},useDebugValue:og,useDeferredValue:function(e){var t=Or();return yb(t,vt.memoizedState,e)},useTransition:function(){var e=Qh($l)[0],t=Or().memoizedState;return[e,t]},useMutableSource:ab,useSyncExternalStore:ob,useId:wb,unstable_isNewReconciler:!1},EE={readContext:Rr,useCallback:vb,useContext:Rr,useEffect:ag,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:mb,useMemo:xb,useReducer:Yh,useRef:hb,useState:function(){return Yh($l)},useDebugValue:og,useDeferredValue:function(e){var t=Or();return vt===null?t.memoizedState=e:yb(t,vt.memoizedState,e)},useTransition:function(){var e=Yh($l)[0],t=Or().memoizedState;return[e,t]},useMutableSource:ab,useSyncExternalStore:ob,useId:wb,unstable_isNewReconciler:!1};function Ur(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Du={isMounted:function(e){return(e=e._reactInternals)?Ya(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qt(),s=Ms(e),o=Dn(n,s);o.payload=t,r!=null&&(o.callback=r),t=Os(e,o,s),t!==null&&(Kr(t,e,s,n),pd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qt(),s=Ms(e),o=Dn(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Os(e,o,s),t!==null&&(Kr(t,e,s,n),pd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qt(),n=Ms(e),s=Dn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Os(e,s,n),t!==null&&(Kr(t,e,n,r),pd(t,e,n))}};function mx(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Tl(r,n)||!Tl(s,o):!0}function Nb(e,t,r){var n=!1,s=zs,o=t.contextType;return typeof o=="object"&&o!==null?o=Rr(o):(s=nr(t)?Aa:Lt.current,n=t.contextTypes,o=(n=n!=null)?ai(e,s):zs),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Du,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function px(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Du.enqueueReplaceState(t,t.state,null)}function cm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Rr(o):(o=nr(t)?Aa:Lt.current,s.context=ai(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(lm(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Du.enqueueReplaceState(s,s.state,null),Hd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do r+=r2(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Xh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PE=typeof WeakMap=="function"?WeakMap:Map;function Sb(e,t,r){r=Dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xd||(Xd=!0,wm=n),dm(e,t)},r}function kb(e,t,r){r=Dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){dm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){dm(e,t),typeof n!="function"&&(As===null?As=new Set([this]):As.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function gx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=qE.bind(null,e,t,r),t.then(e,e))}function vx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xx(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dn(-1,1),t.tag=2,Os(r,t,1))),r.lanes|=1),e)}var TE=Hn.ReactCurrentOwner,tr=!1;function Ut(e,t,r,n){t.child=e===null?tb(t,null,r,n):ii(t,e.child,r,n)}function yx(e,t,r,n,s){r=r.render;var o=t.ref;return $o(t,s),n=ng(e,t,r,n,o,s),r=sg(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Ye&&r&&Wp(t),t.flags|=1,Ut(e,t,n,s),t.child)}function wx(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!mg(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Cb(e,t,o,n,s)):(e=bd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Tl,r(i,n)&&e.ref===t.ref)return Bn(e,t,s)}return t.flags|=1,e=Is(o,n),e.ref=t.ref,e.return=t,t.child=e}function Cb(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Tl(o,n)&&e.ref===t.ref)if(tr=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,Bn(e,t,s)}return um(e,t,r,n,s)}function Eb(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(To,lr),lr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(To,lr),lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,qe(To,lr),lr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,qe(To,lr),lr|=n;return Ut(e,t,s,r),t.child}function Pb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function um(e,t,r,n,s){var o=nr(r)?Aa:Lt.current;return o=ai(t,o),$o(t,s),r=ng(e,t,r,n,o,s),n=sg(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Ye&&n&&Wp(t),t.flags|=1,Ut(e,t,r,s),t.child)}function bx(e,t,r,n,s){if(nr(r)){var o=!0;Ud(t)}else o=!1;if($o(t,s),t.stateNode===null)xd(e,t),Nb(t,r,n),cm(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Rr(d):(d=nr(r)?Aa:Lt.current,d=ai(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&px(t,i,n,d),cs=!1;var m=t.memoizedState;i.state=m,Hd(t,n,i,s),c=t.memoizedState,l!==n||m!==c||rr.current||cs?(typeof u=="function"&&(lm(t,r,u,n),c=t.memoizedState),(l=cs||mx(t,r,l,n,m,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,nb(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ur(t.type,l),i.props=d,f=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rr(c):(c=nr(r)?Aa:Lt.current,c=ai(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&px(t,i,n,c),cs=!1,m=t.memoizedState,i.state=m,Hd(t,n,i,s);var x=t.memoizedState;l!==f||m!==x||rr.current||cs?(typeof p=="function"&&(lm(t,r,p,n),x=t.memoizedState),(d=cs||mx(t,r,d,n,m,x,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return hm(e,t,r,n,o,s)}function hm(e,t,r,n,s,o){Pb(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&ox(t,r,!1),Bn(e,t,o);n=t.stateNode,TE.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ii(t,e.child,null,o),t.child=ii(t,null,l,o)):Ut(e,t,l,o),t.memoizedState=n.state,s&&ox(t,r,!0),t.child}function Tb(e){var t=e.stateNode;t.pendingContext?ax(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ax(e,t.context,!1),Jp(e,t.containerInfo)}function jx(e,t,r,n,s){return oi(),Gp(s),t.flags|=256,Ut(e,t,r,n),t.child}var fm={dehydrated:null,treeContext:null,retryLane:0};function mm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rb(e,t,r){var n=t.pendingProps,s=Ze.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(Ze,s&1),e===null)return om(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Fu(i,n,0,null),e=Oa(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=mm(r),t.memoizedState=fm,e):ig(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return RE(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Is(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Is(l,o):(o=Oa(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?mm(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=fm,n}return o=e.child,e=o.sibling,n=Is(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ig(e,t){return t=Fu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gc(e,t,r,n){return n!==null&&Gp(n),ii(t,e.child,null,r),e=ig(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RE(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Xh(Error(W(422))),Gc(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Fu({mode:"visible",children:n.children},s,0,null),o=Oa(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ii(t,e.child,null,i),t.child.memoizedState=mm(i),t.memoizedState=fm,o);if(!(t.mode&1))return Gc(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(W(419)),n=Xh(o,n,void 0),Gc(e,t,i,n)}if(l=(i&e.childLanes)!==0,tr||l){if(n=_t,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Un(e,s),Kr(n,e,s,-1))}return fg(),n=Xh(Error(W(421))),Gc(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=VE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,dr=Rs(s.nextSibling),ur=t,Ye=!0,Hr=null,e!==null&&(Sr[kr++]=An,Sr[kr++]=Mn,Sr[kr++]=Ma,An=e.id,Mn=e.overflow,Ma=t),t=ig(t,n.children),t.flags|=4096,t)}function _x(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),im(e.return,t,r)}function Zh(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Ob(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Ut(e,t,n.children,r),n=Ze.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_x(e,r,t);else if(e.tag===19)_x(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(Ze,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zh(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zh(t,!0,r,null,o);break;case"together":Zh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Da|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Is(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Is(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function OE(e,t,r){switch(t.tag){case 3:Tb(t),oi();break;case 5:sb(t);break;case 1:nr(t.type)&&Ud(t);break;case 4:Jp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qe(Vd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(Ze,Ze.current&1),t.flags|=128,null):r&t.child.childLanes?Rb(e,t,r):(qe(Ze,Ze.current&1),e=Bn(e,t,r),e!==null?e.sibling:null);qe(Ze,Ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ob(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(Ze,Ze.current),n)break;return null;case 22:case 23:return t.lanes=0,Eb(e,t,r)}return Bn(e,t,r)}var Ab,pm,Mb,Ib;Ab=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pm=function(){};Mb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ba(yn.current);var o=null;switch(r){case"input":s=$f(e,s),n=$f(e,n),o=[];break;case"select":s=et({},s,{value:void 0}),n=et({},n,{value:void 0}),o=[];break;case"textarea":s=zf(e,s),n=zf(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fd)}Bf(r,n);var i;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_l.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_l.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&He("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};Ib=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wi(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function AE(e,t,r){var n=t.pendingProps;switch(Hp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return nr(t.type)&&zd(),Mt(t),null;case 3:return n=t.stateNode,li(),Ke(rr),Ke(Lt),tg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hr!==null&&(_m(Hr),Hr=null))),pm(e,t),Mt(t),null;case 5:eg(t);var s=ba(Il.current);if(r=t.type,e!==null&&t.stateNode!=null)Mb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return Mt(t),null}if(e=ba(yn.current),Wc(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[dn]=t,n[Al]=o,e=(t.mode&1)!==0,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)He(el[s],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":Ov(n,o),He("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},He("invalid",n);break;case"textarea":Mv(n,o),He("invalid",n)}Bf(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Vc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Vc(n.textContent,l,e),s=["children",""+l]):_l.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&He("scroll",n)}switch(r){case"input":Dc(n),Av(n,o,!0);break;case"textarea":Dc(n),Iv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Fd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[dn]=t,e[Al]=n,Ab(e,t,!1,!1),t.stateNode=e;e:{switch(i=qf(r,n),r){case"dialog":He("cancel",e),He("close",e),s=n;break;case"iframe":case"object":case"embed":He("load",e),s=n;break;case"video":case"audio":for(s=0;s<el.length;s++)He(el[s],e);s=n;break;case"source":He("error",e),s=n;break;case"img":case"image":case"link":He("error",e),He("load",e),s=n;break;case"details":He("toggle",e),s=n;break;case"input":Ov(e,n),s=$f(e,n),He("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=et({},n,{value:void 0}),He("invalid",e);break;case"textarea":Mv(e,n),s=zf(e,n),He("invalid",e);break;default:s=n}Bf(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?hw(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dw(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Nl(e,c):typeof c=="number"&&Nl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_l.hasOwnProperty(o)?c!=null&&o==="onScroll"&&He("scroll",e):c!=null&&Rp(e,o,c,i))}switch(r){case"input":Dc(e),Av(e,n,!1);break;case"textarea":Dc(e),Iv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fs(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ao(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ao(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mt(t),null;case 6:if(e&&t.stateNode!=null)Ib(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=ba(Il.current),ba(yn.current),Wc(t)){if(n=t.stateNode,r=t.memoizedProps,n[dn]=t,(o=n.nodeValue!==r)&&(e=ur,e!==null))switch(e.tag){case 3:Vc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vc(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=t,t.stateNode=n}return Mt(t),null;case 13:if(Ke(Ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&dr!==null&&t.mode&1&&!(t.flags&128))Jw(),oi(),t.flags|=98560,o=!1;else if(o=Wc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[dn]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mt(t),o=!1}else Hr!==null&&(_m(Hr),Hr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?wt===0&&(wt=3):fg())),t.updateQueue!==null&&(t.flags|=4),Mt(t),null);case 4:return li(),pm(e,t),e===null&&Rl(t.stateNode.containerInfo),Mt(t),null;case 10:return Yp(t.type._context),Mt(t),null;case 17:return nr(t.type)&&zd(),Mt(t),null;case 19:if(Ke(Ze),o=t.memoizedState,o===null)return Mt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Wi(o,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gd(e),i!==null){for(t.flags|=128,Wi(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(Ze,Ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&it()>di&&(t.flags|=128,n=!0,Wi(o,!1),t.lanes=4194304)}else{if(!n)if(e=Gd(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ye)return Mt(t),null}else 2*it()-o.renderingStartTime>di&&r!==1073741824&&(t.flags|=128,n=!0,Wi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=it(),t.sibling=null,r=Ze.current,qe(Ze,n?r&1|2:r&1),t):(Mt(t),null);case 22:case 23:return hg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?lr&1073741824&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function ME(e,t){switch(Hp(t),t.tag){case 1:return nr(t.type)&&zd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return li(),Ke(rr),Ke(Lt),tg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eg(t),null;case 13:if(Ke(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Ze),null;case 4:return li(),null;case 10:return Yp(t.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var Kc=!1,Dt=!1,IE=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Po(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rt(e,t,n)}else r.current=null}function gm(e,t,r){try{r()}catch(n){rt(e,t,n)}}var Nx=!1;function DE(e,t){if(Jf=Dd,e=zw(),Vp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++d===s&&(l=i),m===o&&++u===n&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(em={focusedElem:e,selectionRange:r},Dd=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ur(t.type,g),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){rt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return x=Nx,Nx=!1,x}function ml(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&gm(t,r,o)}s=s.next}while(s!==n)}}function $u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Db(e){var t=e.alternate;t!==null&&(e.alternate=null,Db(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Al],delete t[nm],delete t[xE],delete t[yE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $b(e){return e.tag===5||e.tag===3||e.tag===4}function Sx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$b(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fd));else if(n!==4&&(e=e.child,e!==null))for(xm(e,t,r),e=e.sibling;e!==null;)xm(e,t,r),e=e.sibling}function ym(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ym(e,t,r),e=e.sibling;e!==null;)ym(e,t,r),e=e.sibling}var Ct=null,Vr=!1;function Jn(e,t,r){for(r=r.child;r!==null;)Lb(e,t,r),r=r.sibling}function Lb(e,t,r){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Pu,r)}catch{}switch(r.tag){case 5:Dt||Po(r,t);case 6:var n=Ct,s=Vr;Ct=null,Jn(e,t,r),Ct=n,Vr=s,Ct!==null&&(Vr?(e=Ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(Vr?(e=Ct,r=r.stateNode,e.nodeType===8?Wh(e.parentNode,r):e.nodeType===1&&Wh(e,r),El(e)):Wh(Ct,r.stateNode));break;case 4:n=Ct,s=Vr,Ct=r.stateNode.containerInfo,Vr=!0,Jn(e,t,r),Ct=n,Vr=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&gm(r,t,i),s=s.next}while(s!==n)}Jn(e,t,r);break;case 1:if(!Dt&&(Po(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){rt(r,t,l)}Jn(e,t,r);break;case 21:Jn(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,Jn(e,t,r),Dt=n):Jn(e,t,r);break;default:Jn(e,t,r)}}function kx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IE),t.forEach(function(n){var s=WE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Vr=!1;break e;case 3:Ct=l.stateNode.containerInfo,Vr=!0;break e;case 4:Ct=l.stateNode.containerInfo,Vr=!0;break e}l=l.return}if(Ct===null)throw Error(W(160));Lb(o,i,s),Ct=null,Vr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){rt(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fb(t,e),t=t.sibling}function Fb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),rn(e),n&4){try{ml(3,e,e.return),$u(3,e)}catch(g){rt(e,e.return,g)}try{ml(5,e,e.return)}catch(g){rt(e,e.return,g)}}break;case 1:Lr(t,e),rn(e),n&512&&r!==null&&Po(r,r.return);break;case 5:if(Lr(t,e),rn(e),n&512&&r!==null&&Po(r,r.return),e.flags&32){var s=e.stateNode;try{Nl(s,"")}catch(g){rt(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&iw(s,o),qf(l,i);var d=qf(l,o);for(i=0;i<c.length;i+=2){var u=c[i],f=c[i+1];u==="style"?hw(s,f):u==="dangerouslySetInnerHTML"?dw(s,f):u==="children"?Nl(s,f):Rp(s,u,f,d)}switch(l){case"input":Lf(s,o);break;case"textarea":lw(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ao(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ao(s,!!o.multiple,o.defaultValue,!0):Ao(s,!!o.multiple,o.multiple?[]:"",!1))}s[Al]=o}catch(g){rt(e,e.return,g)}}break;case 6:if(Lr(t,e),rn(e),n&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){rt(e,e.return,g)}}break;case 3:if(Lr(t,e),rn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{El(t.containerInfo)}catch(g){rt(e,e.return,g)}break;case 4:Lr(t,e),rn(e);break;case 13:Lr(t,e),rn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(dg=it())),n&4&&kx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(d=Dt)||u,Lr(t,e),Dt=d):Lr(t,e),rn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ie=e,u=e.child;u!==null;){for(f=ie=u;ie!==null;){switch(m=ie,p=m.child,m.tag){case 0:case 11:case 14:case 15:ml(4,m,m.return);break;case 1:Po(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){rt(n,r,g)}}break;case 5:Po(m,m.return);break;case 22:if(m.memoizedState!==null){Ex(f);continue}}p!==null?(p.return=m,ie=p):Ex(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uw("display",i))}catch(g){rt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){rt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lr(t,e),rn(e),n&4&&kx(e);break;case 21:break;default:Lr(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($b(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Nl(s,""),n.flags&=-33);var o=Sx(e);ym(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Sx(e);xm(e,l,i);break;default:throw Error(W(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $E(e,t,r){ie=e,zb(e)}function zb(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var s=ie,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Kc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=Kc;var d=Dt;if(Kc=i,(Dt=c)&&!d)for(ie=s;ie!==null;)i=ie,c=i.child,i.tag===22&&i.memoizedState!==null?Px(s):c!==null?(c.return=i,ie=c):Px(s);for(;o!==null;)ie=o,zb(o),o=o.sibling;ie=s,Kc=l,Dt=d}Cx(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ie=o):Cx(e)}}function Cx(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||$u(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ur(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ux(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ux(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&El(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Dt||t.flags&512&&vm(t)}catch(m){rt(t,t.return,m)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Ex(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Px(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$u(4,t)}catch(c){rt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){rt(t,s,c)}}var o=t.return;try{vm(t)}catch(c){rt(t,o,c)}break;case 5:var i=t.return;try{vm(t)}catch(c){rt(t,i,c)}}}catch(c){rt(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var LE=Math.ceil,Yd=Hn.ReactCurrentDispatcher,lg=Hn.ReactCurrentOwner,Er=Hn.ReactCurrentBatchConfig,Te=0,_t=null,ft=null,Pt=0,lr=0,To=Ys(0),wt=0,Fl=null,Da=0,Lu=0,cg=0,pl=null,Jt=null,dg=0,di=1/0,Cn=null,Xd=!1,wm=null,As=null,Qc=!1,Ss=null,Zd=0,gl=0,bm=null,yd=-1,wd=0;function qt(){return Te&6?it():yd!==-1?yd:yd=it()}function Ms(e){return e.mode&1?Te&2&&Pt!==0?Pt&-Pt:bE.transition!==null?(wd===0&&(wd=Nw()),wd):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Rw(e.type)),e):1}function Kr(e,t,r,n){if(50<gl)throw gl=0,bm=null,Error(W(185));uc(e,r,n),(!(Te&2)||e!==_t)&&(e===_t&&(!(Te&2)&&(Lu|=r),wt===4&&hs(e,Pt)),sr(e,n),r===1&&Te===0&&!(t.mode&1)&&(di=it()+500,Mu&&Xs()))}function sr(e,t){var r=e.callbackNode;b2(e,t);var n=Id(e,e===_t?Pt:0);if(n===0)r!==null&&Lv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Lv(r),t===1)e.tag===0?wE(Tx.bind(null,e)):Yw(Tx.bind(null,e)),gE(function(){!(Te&6)&&Xs()}),r=null;else{switch(Sw(n)){case 1:r=Dp;break;case 4:r=jw;break;case 16:r=Md;break;case 536870912:r=_w;break;default:r=Md}r=Kb(r,Ub.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ub(e,t){if(yd=-1,wd=0,Te&6)throw Error(W(327));var r=e.callbackNode;if(Lo()&&e.callbackNode!==r)return null;var n=Id(e,e===_t?Pt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Jd(e,n);else{t=n;var s=Te;Te|=2;var o=qb();(_t!==e||Pt!==t)&&(Cn=null,di=it()+500,Ra(e,t));do try{UE();break}catch(l){Bb(e,l)}while(!0);Qp(),Yd.current=o,Te=s,ft!==null?t=0:(_t=null,Pt=0,t=wt)}if(t!==0){if(t===2&&(s=Kf(e),s!==0&&(n=s,t=jm(e,s))),t===1)throw r=Fl,Ra(e,0),hs(e,n),sr(e,it()),r;if(t===6)hs(e,n);else{if(s=e.current.alternate,!(n&30)&&!FE(s)&&(t=Jd(e,n),t===2&&(o=Kf(e),o!==0&&(n=o,t=jm(e,o))),t===1))throw r=Fl,Ra(e,0),hs(e,n),sr(e,it()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:ma(e,Jt,Cn);break;case 3:if(hs(e,n),(n&130023424)===n&&(t=dg+500-it(),10<t)){if(Id(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){qt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rm(ma.bind(null,e,Jt,Cn),t);break}ma(e,Jt,Cn);break;case 4:if(hs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Gr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LE(n/1960))-n,10<n){e.timeoutHandle=rm(ma.bind(null,e,Jt,Cn),n);break}ma(e,Jt,Cn);break;case 5:ma(e,Jt,Cn);break;default:throw Error(W(329))}}}return sr(e,it()),e.callbackNode===r?Ub.bind(null,e):null}function jm(e,t){var r=pl;return e.current.memoizedState.isDehydrated&&(Ra(e,t).flags|=256),e=Jd(e,t),e!==2&&(t=Jt,Jt=r,t!==null&&_m(t)),e}function _m(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function FE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Yr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~cg,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gr(t),n=1<<r;e[r]=-1,t&=~n}}function Tx(e){if(Te&6)throw Error(W(327));Lo();var t=Id(e,0);if(!(t&1))return sr(e,it()),null;var r=Jd(e,t);if(e.tag!==0&&r===2){var n=Kf(e);n!==0&&(t=n,r=jm(e,n))}if(r===1)throw r=Fl,Ra(e,0),hs(e,t),sr(e,it()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ma(e,Jt,Cn),sr(e,it()),null}function ug(e,t){var r=Te;Te|=1;try{return e(t)}finally{Te=r,Te===0&&(di=it()+500,Mu&&Xs())}}function $a(e){Ss!==null&&Ss.tag===0&&!(Te&6)&&Lo();var t=Te;Te|=1;var r=Er.transition,n=Le;try{if(Er.transition=null,Le=1,e)return e()}finally{Le=n,Er.transition=r,Te=t,!(Te&6)&&Xs()}}function hg(){lr=To.current,Ke(To)}function Ra(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pE(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(Hp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zd();break;case 3:li(),Ke(rr),Ke(Lt),tg();break;case 5:eg(n);break;case 4:li();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Yp(n.type._context);break;case 22:case 23:hg()}r=r.return}if(_t=e,ft=e=Is(e.current,null),Pt=lr=t,wt=0,Fl=null,cg=Lu=Da=0,Jt=pl=null,wa!==null){for(t=0;t<wa.length;t++)if(r=wa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}wa=null}return e}function Bb(e,t){do{var r=ft;try{if(Qp(),gd.current=Qd,Kd){for(var n=Je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Kd=!1}if(Ia=0,jt=vt=Je=null,fl=!1,Dl=0,lg.current=null,r===null||r.return===null){wt=1,Fl=t,ft=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=Pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=vx(i);if(p!==null){p.flags&=-257,xx(p,i,l,o,t),p.mode&1&&gx(o,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){gx(o,d,t),fg();break e}c=Error(W(426))}}else if(Ye&&l.mode&1){var w=vx(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),xx(w,i,l,o,t),Gp(ci(c,l));break e}}o=c=ci(c,l),wt!==4&&(wt=2),pl===null?pl=[o]:pl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=Sb(o,c,t);dx(o,b);break e;case 1:l=c;var v=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(As===null||!As.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=kb(o,l,t);dx(o,j);break e}}o=o.return}while(o!==null)}Wb(r)}catch(N){t=N,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function qb(){var e=Yd.current;return Yd.current=Qd,e===null?Qd:e}function fg(){(wt===0||wt===3||wt===2)&&(wt=4),_t===null||!(Da&268435455)&&!(Lu&268435455)||hs(_t,Pt)}function Jd(e,t){var r=Te;Te|=2;var n=qb();(_t!==e||Pt!==t)&&(Cn=null,Ra(e,t));do try{zE();break}catch(s){Bb(e,s)}while(!0);if(Qp(),Te=r,Yd.current=n,ft!==null)throw Error(W(261));return _t=null,Pt=0,wt}function zE(){for(;ft!==null;)Vb(ft)}function UE(){for(;ft!==null&&!h2();)Vb(ft)}function Vb(e){var t=Gb(e.alternate,e,lr);e.memoizedProps=e.pendingProps,t===null?Wb(e):ft=t,lg.current=null}function Wb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ME(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,ft=null;return}}else if(r=AE(r,t,lr),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);wt===0&&(wt=5)}function ma(e,t,r){var n=Le,s=Er.transition;try{Er.transition=null,Le=1,BE(e,t,r,n)}finally{Er.transition=s,Le=n}return null}function BE(e,t,r,n){do Lo();while(Ss!==null);if(Te&6)throw Error(W(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(j2(e,o),e===_t&&(ft=_t=null,Pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qc||(Qc=!0,Kb(Md,function(){return Lo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Er.transition,Er.transition=null;var i=Le;Le=1;var l=Te;Te|=4,lg.current=null,DE(e,r),Fb(r,e),lE(em),Dd=!!Jf,em=Jf=null,e.current=r,$E(r),f2(),Te=l,Le=i,Er.transition=o}else e.current=r;if(Qc&&(Qc=!1,Ss=e,Zd=s),o=e.pendingLanes,o===0&&(As=null),g2(r.stateNode),sr(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Xd)throw Xd=!1,e=wm,wm=null,e;return Zd&1&&e.tag!==0&&Lo(),o=e.pendingLanes,o&1?e===bm?gl++:(gl=0,bm=e):gl=0,Xs(),null}function Lo(){if(Ss!==null){var e=Sw(Zd),t=Er.transition,r=Le;try{if(Er.transition=null,Le=16>e?16:e,Ss===null)var n=!1;else{if(e=Ss,Ss=null,Zd=0,Te&6)throw Error(W(331));var s=Te;for(Te|=4,ie=e.current;ie!==null;){var o=ie,i=o.child;if(ie.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ie=d;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:ml(8,u,o)}var f=u.child;if(f!==null)f.return=u,ie=f;else for(;ie!==null;){u=ie;var m=u.sibling,p=u.return;if(Db(u),u===d){ie=null;break}if(m!==null){m.return=p,ie=m;break}ie=p}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ie=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ie=i;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ml(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ie=b;break e}ie=o.return}}var v=e.current;for(ie=v;ie!==null;){i=ie;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,ie=y;else e:for(i=v;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$u(9,l)}}catch(N){rt(l,l.return,N)}if(l===i){ie=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ie=j;break e}ie=l.return}}if(Te=s,Xs(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Pu,e)}catch{}n=!0}return n}finally{Le=r,Er.transition=t}}return!1}function Rx(e,t,r){t=ci(r,t),t=Sb(e,t,1),e=Os(e,t,1),t=qt(),e!==null&&(uc(e,1,t),sr(e,t))}function rt(e,t,r){if(e.tag===3)Rx(e,e,r);else for(;t!==null;){if(t.tag===3){Rx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(As===null||!As.has(n))){e=ci(r,e),e=kb(t,e,1),t=Os(t,e,1),e=qt(),t!==null&&(uc(t,1,e),sr(t,e));break}}t=t.return}}function qE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(Pt&r)===r&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>it()-dg?Ra(e,0):cg|=r),sr(e,t)}function Hb(e,t){t===0&&(e.mode&1?(t=Fc,Fc<<=1,!(Fc&130023424)&&(Fc=4194304)):t=1);var r=qt();e=Un(e,t),e!==null&&(uc(e,t,r),sr(e,r))}function VE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Hb(e,r)}function WE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),Hb(e,r)}var Gb;Gb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rr.current)tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return tr=!1,OE(e,t,r);tr=!!(e.flags&131072)}else tr=!1,Ye&&t.flags&1048576&&Xw(t,qd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xd(e,t),e=t.pendingProps;var s=ai(t,Lt.current);$o(t,r),s=ng(null,t,n,e,s,r);var o=sg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nr(n)?(o=!0,Ud(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zp(t),s.updater=Du,t.stateNode=s,s._reactInternals=t,cm(t,n,e,r),t=hm(null,t,n,!0,o,r)):(t.tag=0,Ye&&o&&Wp(t),Ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=GE(n),e=Ur(n,e),s){case 0:t=um(null,t,n,e,r);break e;case 1:t=bx(null,t,n,e,r);break e;case 11:t=yx(null,t,n,e,r);break e;case 14:t=wx(null,t,n,Ur(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ur(n,s),um(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ur(n,s),bx(e,t,n,s,r);case 3:e:{if(Tb(t),e===null)throw Error(W(387));n=t.pendingProps,o=t.memoizedState,s=o.element,nb(e,t),Hd(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ci(Error(W(423)),t),t=jx(e,t,n,r,s);break e}else if(n!==s){s=ci(Error(W(424)),t),t=jx(e,t,n,r,s);break e}else for(dr=Rs(t.stateNode.containerInfo.firstChild),ur=t,Ye=!0,Hr=null,r=tb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oi(),n===s){t=Bn(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return sb(t),e===null&&om(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,tm(n,s)?i=null:o!==null&&tm(n,o)&&(t.flags|=32),Pb(e,t),Ut(e,t,i,r),t.child;case 6:return e===null&&om(t),null;case 13:return Rb(e,t,r);case 4:return Jp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ii(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ur(n,s),yx(e,t,n,s,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,qe(Vd,n._currentValue),n._currentValue=i,o!==null)if(Yr(o.value,i)){if(o.children===s.children&&!rr.current){t=Bn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Dn(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),im(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(W(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),im(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$o(t,r),s=Rr(s),n=n(s),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,s=Ur(n,t.pendingProps),s=Ur(n.type,s),wx(e,t,n,s,r);case 15:return Cb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ur(n,s),xd(e,t),t.tag=1,nr(n)?(e=!0,Ud(t)):e=!1,$o(t,r),Nb(t,n,s),cm(t,n,s,r),hm(null,t,n,!0,e,r);case 19:return Ob(e,t,r);case 22:return Eb(e,t,r)}throw Error(W(156,t.tag))};function Kb(e,t){return bw(e,t)}function HE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(e,t,r,n){return new HE(e,t,r,n)}function mg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GE(e){if(typeof e=="function")return mg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ap)return 11;if(e===Mp)return 14}return 2}function Is(e,t){var r=e.alternate;return r===null?(r=Cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function bd(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")mg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case wo:return Oa(r.children,s,o,t);case Op:i=8,s|=8;break;case Af:return e=Cr(12,r,t,s|2),e.elementType=Af,e.lanes=o,e;case Mf:return e=Cr(13,r,t,s),e.elementType=Mf,e.lanes=o,e;case If:return e=Cr(19,r,t,s),e.elementType=If,e.lanes=o,e;case sw:return Fu(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rw:i=10;break e;case nw:i=9;break e;case Ap:i=11;break e;case Mp:i=14;break e;case ls:i=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Cr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Oa(e,t,r,n){return e=Cr(7,e,n,t),e.lanes=r,e}function Fu(e,t,r,n){return e=Cr(22,e,n,t),e.elementType=sw,e.lanes=r,e.stateNode={isHidden:!1},e}function Jh(e,t,r){return e=Cr(6,e,null,t),e.lanes=r,e}function ef(e,t,r){return t=Cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KE(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pg(e,t,r,n,s,o,i,l,c){return e=new KE(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Cr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(o),e}function QE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Qb(e){if(!e)return zs;e=e._reactInternals;e:{if(Ya(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(nr(r))return Qw(e,r,t)}return t}function Yb(e,t,r,n,s,o,i,l,c){return e=pg(r,n,!0,e,s,o,i,l,c),e.context=Qb(null),r=e.current,n=qt(),s=Ms(r),o=Dn(n,s),o.callback=t??null,Os(r,o,s),e.current.lanes=s,uc(e,s,n),sr(e,n),e}function zu(e,t,r,n){var s=t.current,o=qt(),i=Ms(s);return r=Qb(r),t.context===null?t.context=r:t.pendingContext=r,t=Dn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Os(s,t,i),e!==null&&(Kr(e,s,i,o),pd(e,s,i)),i}function eu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ox(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gg(e,t){Ox(e,t),(e=e.alternate)&&Ox(e,t)}function YE(){return null}var Xb=typeof reportError=="function"?reportError:function(e){console.error(e)};function vg(e){this._internalRoot=e}Uu.prototype.render=vg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));zu(e,t,null,null)};Uu.prototype.unmount=vg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$a(function(){zu(null,e,null,null)}),t[zn]=null}};function Uu(e){this._internalRoot=e}Uu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ew();e={blockedOn:null,target:e,priority:t};for(var r=0;r<us.length&&t!==0&&t<us[r].priority;r++);us.splice(r,0,e),r===0&&Tw(e)}};function xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ax(){}function XE(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var d=eu(i);o.call(d)}}var i=Yb(t,n,e,0,null,!1,!1,"",Ax);return e._reactRootContainer=i,e[zn]=i.current,Rl(e.nodeType===8?e.parentNode:e),$a(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=eu(c);l.call(d)}}var c=pg(e,0,!1,null,null,!1,!1,"",Ax);return e._reactRootContainer=c,e[zn]=c.current,Rl(e.nodeType===8?e.parentNode:e),$a(function(){zu(t,c,r,n)}),c}function qu(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=eu(i);l.call(c)}}zu(t,i,e,s)}else i=XE(r,t,e,s,n);return eu(i)}kw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ji(t.pendingLanes);r!==0&&($p(t,r|1),sr(t,it()),!(Te&6)&&(di=it()+500,Xs()))}break;case 13:$a(function(){var n=Un(e,1);if(n!==null){var s=qt();Kr(n,e,1,s)}}),gg(e,1)}};Lp=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var r=qt();Kr(t,e,134217728,r)}gg(e,134217728)}};Cw=function(e){if(e.tag===13){var t=Ms(e),r=Un(e,t);if(r!==null){var n=qt();Kr(r,e,t,n)}gg(e,t)}};Ew=function(){return Le};Pw=function(e,t){var r=Le;try{return Le=e,t()}finally{Le=r}};Wf=function(e,t,r){switch(t){case"input":if(Lf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Au(n);if(!s)throw Error(W(90));ow(n),Lf(n,s)}}}break;case"textarea":lw(e,r);break;case"select":t=r.value,t!=null&&Ao(e,!!r.multiple,t,!1)}};pw=ug;gw=$a;var ZE={usingClientEntryPoint:!1,Events:[fc,No,Au,fw,mw,ug]},Hi={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JE={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yw(e),e===null?null:e.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||YE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Pu=Yc.inject(JE),xn=Yc}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE;yr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(t))throw Error(W(200));return QE(e,t,null,r)};yr.createRoot=function(e,t){if(!xg(e))throw Error(W(299));var r=!1,n="",s=Xb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pg(e,1,!1,null,null,r,!1,n,s),e[zn]=t.current,Rl(e.nodeType===8?e.parentNode:e),new vg(t)};yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=yw(t),e=e===null?null:e.stateNode,e};yr.flushSync=function(e){return $a(e)};yr.hydrate=function(e,t,r){if(!Bu(t))throw Error(W(200));return qu(null,e,t,!0,r)};yr.hydrateRoot=function(e,t,r){if(!xg(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Xb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Yb(t,null,e,1,r??null,s,!1,o,i),e[zn]=t.current,Rl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Uu(t)};yr.render=function(e,t,r){if(!Bu(t))throw Error(W(200));return qu(null,e,t,!1,r)};yr.unmountComponentAtNode=function(e){if(!Bu(e))throw Error(W(40));return e._reactRootContainer?($a(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};yr.unstable_batchedUpdates=ug;yr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bu(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return qu(e,t,r,!1,n)};yr.version="18.3.1-next-f1338f8080-20240426";function Zb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zb)}catch(e){console.error(e)}}Zb(),Z0.exports=yr;var Zs=Z0.exports;const Jb=z0(Zs);var e1,Mx=Zs;e1=Mx.createRoot,Mx.hydrateRoot;const eP=1,tP=1e6;let tf=0;function rP(){return tf=(tf+1)%Number.MAX_SAFE_INTEGER,tf.toString()}const rf=new Map,Ix=e=>{if(rf.has(e))return;const t=setTimeout(()=>{rf.delete(e),vl({type:"REMOVE_TOAST",toastId:e})},tP);rf.set(e,t)},nP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ix(r):e.toasts.forEach(n=>{Ix(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},jd=[];let _d={toasts:[]};function vl(e){_d=nP(_d,e),jd.forEach(t=>{t(_d)})}function sP({...e}){const t=rP(),r=s=>vl({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>vl({type:"DISMISS_TOAST",toastId:t});return vl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function aP(){const[e,t]=h.useState(_d);return h.useEffect(()=>(jd.push(t),()=>{const r=jd.indexOf(t);r>-1&&jd.splice(r,1)}),[e]),{...e,toast:sP,dismiss:r=>vl({type:"DISMISS_TOAST",toastId:r})}}function Q(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Dx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vu(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Dx(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Dx(e[s],null)}}}}function Se(...e){return h.useCallback(Vu(...e),e)}function oP(e,t){const r=h.createContext(t),n=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function ir(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];const d=f=>{var b;const{scope:m,children:p,...x}=f,g=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,w=h.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:w,children:p})};d.displayName=o+"Provider";function u(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=h.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[d,u]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,iP(s,...t)]}function iP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(o)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Us(e){const t=cP(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,l=h.Children.toArray(o),c=l.find(uP);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return a.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var lP=Us("Slot");function cP(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=fP(s),l=hP(o,s.props);return s.type!==h.Fragment&&(l.ref=n?Vu(n,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var t1=Symbol("radix.slottable");function dP(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=t1,t}function uP(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===t1}function hP(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function fP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Wu(e){const t=e+"CollectionProvider",[r,n]=ir(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:b}=g,v=X.useRef(null),y=X.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:y,collectionRef:v,children:b})};i.displayName=t;const l=e+"CollectionSlot",c=Us(l),d=X.forwardRef((g,w)=>{const{scope:b,children:v}=g,y=o(l,b),j=Se(w,y.collectionRef);return a.jsx(c,{ref:j,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=Us(u),p=X.forwardRef((g,w)=>{const{scope:b,children:v,...y}=g,j=X.useRef(null),N=Se(w,j),_=o(u,b);return X.useEffect(()=>(_.itemMap.set(j,{ref:j,...y}),()=>void _.itemMap.delete(j))),a.jsx(m,{[f]:"",ref:N,children:v})});p.displayName=u;function x(g){const w=o(e+"CollectionConsumer",g);return X.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:d,ItemSlot:p},x,n]}var mP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=mP.reduce((e,t)=>{const r=Us(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yg(e,t){e&&Zs.flushSync(()=>e.dispatchEvent(t))}function nt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function pP(e,t=globalThis==null?void 0:globalThis.document){const r=nt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var gP="DismissableLayer",Nm="dismissableLayer.update",vP="dismissableLayer.pointerDownOutside",xP="dismissableLayer.focusOutside",$x,r1=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xa=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=h.useContext(r1),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),x=Se(t,S=>f(S)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(w),v=u?g.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=b,N=wP(S=>{const k=S.target,A=[...d.branches].some(C=>C.contains(k));!j||A||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},m),_=bP(S=>{const k=S.target;[...d.branches].some(C=>C.contains(k))||(o==null||o(S),i==null||i(S),S.defaultPrevented||l==null||l())},m);return pP(S=>{v===d.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&($x=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Lx(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$x)}},[u,m,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Lx())},[u,d]),h.useEffect(()=>{const S=()=>p({});return document.addEventListener(Nm,S),()=>document.removeEventListener(Nm,S)},[]),a.jsx(ue.div,{...c,ref:x,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,N.onPointerDownCapture)})});Xa.displayName=gP;var yP="DismissableLayerBranch",n1=h.forwardRef((e,t)=>{const r=h.useContext(r1),n=h.useRef(null),s=Se(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(ue.div,{...e,ref:s})});n1.displayName=yP;function wP(e,t=globalThis==null?void 0:globalThis.document){const r=nt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){s1(vP,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bP(e,t=globalThis==null?void 0:globalThis.document){const r=nt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&s1(xP,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Lx(){const e=new CustomEvent(Nm);document.dispatchEvent(e)}function s1(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yg(s,o):s.dispatchEvent(o)}var jP=Xa,_P=n1,ct=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},NP="Portal",Ci=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=h.useState(!1);ct(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Jb.createPortal(a.jsx(ue.div,{...n,ref:t}),i):null});Ci.displayName=NP;function SP(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Rt=e=>{const{present:t,children:r}=e,n=kP(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=Se(n.ref,CP(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Rt.displayName="Presence";function kP(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=SP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Xc(n.current);o.current=l==="mounted"?d:"none"},[l]),ct(()=>{const d=n.current,u=s.current;if(u!==e){const m=o.current,p=Xc(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ct(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=Xc(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(o.current=Xc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Xc(e){return(e==null?void 0:e.animationName)||"none"}function CP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EP=Ep[" useInsertionEffect ".trim().toString()]||ct;function Bs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=PP({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var f;if(l){const m=TP(u)?u(e):u;m!==e&&((f=i.current)==null||f.call(i,m))}else o(u)},[l,e,o,i]);return[c,d]}function PP({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return EP(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function TP(e){return typeof e=="function"}var a1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RP="VisuallyHidden",Hu=h.forwardRef((e,t)=>a.jsx(ue.span,{...e,ref:t,style:{...a1,...e.style}}));Hu.displayName=RP;var OP=Hu,wg="ToastProvider",[bg,AP,MP]=Wu("Toast"),[o1]=ir("Toast",[MP]),[IP,Gu]=o1(wg),i1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wg}\`. Expected non-empty \`string\`.`),a.jsx(bg.Provider,{scope:t,children:a.jsx(IP,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};i1.displayName=wg;var l1="ToastViewport",DP=["F8"],Sm="toast.viewportPause",km="toast.viewportResume",c1=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=DP,label:s="Notifications ({hotkey})",...o}=e,i=Gu(l1,r),l=AP(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=Se(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;h.useEffect(()=>{const w=b=>{var y;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),h.useEffect(()=>{const w=c.current,b=f.current;if(x&&w&&b){const v=()=>{if(!i.isClosePausedRef.current){const _=new CustomEvent(Sm);b.dispatchEvent(_),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const _=new CustomEvent(km);b.dispatchEvent(_),i.isClosePausedRef.current=!1}},j=_=>{!w.contains(_.relatedTarget)&&y()},N=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[x,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const v=l().map(y=>{const j=y.ref.current,N=[j,...QP(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const b=v=>{var N,_,S;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const k=document.activeElement,A=v.shiftKey;if(v.target===w&&A){(N=d.current)==null||N.focus();return}const D=g({tabbingDirection:A?"backwards":"forwards"}),U=D.findIndex(M=>M===k);nf(D.slice(U+1))?v.preventDefault():A?(_=d.current)==null||_.focus():(S=u.current)==null||S.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[l,g]),a.jsxs(_P,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(Cm,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});nf(w)}}),a.jsx(bg.Slot,{scope:r,children:a.jsx(ue.ol,{tabIndex:-1,...o,ref:m})}),x&&a.jsx(Cm,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});nf(w)}})]})});c1.displayName=l1;var d1="ToastFocusProxy",Cm=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Gu(d1,r);return a.jsx(Hu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&n()}})});Cm.displayName=d1;var pc="Toast",$P="toast.swipeStart",LP="toast.swipeMove",FP="toast.swipeCancel",zP="toast.swipeEnd",u1=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=Bs({prop:n,defaultProp:s??!0,onChange:o,caller:pc});return a.jsx(Rt,{present:r||l,children:a.jsx(qP,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:nt(e.onPause),onResume:nt(e.onResume),onSwipeStart:Q(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});u1.displayName=pc;var[UP,BP]=o1(pc,{onClose(){}}),qP=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=Gu(pc,r),[w,b]=h.useState(null),v=Se(t,M=>b(M)),y=h.useRef(null),j=h.useRef(null),N=s||g.duration,_=h.useRef(0),S=h.useRef(N),k=h.useRef(0),{onToastAdd:A,onToastRemove:C}=g,P=nt(()=>{var q;(w==null?void 0:w.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),i()}),D=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(P,M))},[P]);h.useEffect(()=>{const M=g.viewport;if(M){const q=()=>{D(S.current),d==null||d()},R=()=>{const B=new Date().getTime()-_.current;S.current=S.current-B,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(Sm,R),M.addEventListener(km,q),()=>{M.removeEventListener(Sm,R),M.removeEventListener(km,q)}}},[g.viewport,N,c,d,D]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&D(N)},[o,N,g.isClosePausedRef,D]),h.useEffect(()=>(A(),()=>C()),[A,C]);const U=h.useMemo(()=>w?x1(w):null,[w]);return g.viewport?a.jsxs(a.Fragment,{children:[U&&a.jsx(VP,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),a.jsx(UP,{scope:r,onClose:P,children:Zs.createPortal(a.jsx(bg.ItemSlot,{scope:r,children:a.jsx(jP,{asChild:!0,onEscapeKeyDown:Q(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Q(e.onPointerDown,M=>{M.button===0&&(y.current={x:M.clientX,y:M.clientY})}),onPointerMove:Q(e.onPointerMove,M=>{if(!y.current)return;const q=M.clientX-y.current.x,R=M.clientY-y.current.y,B=!!j.current,I=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=I?T(0,q):0,ee=I?0:T(0,R),H=M.pointerType==="touch"?10:2,re={x:F,y:ee},te={originalEvent:M,delta:re};B?(j.current=re,Zc(LP,f,te,{discrete:!1})):Fx(re,g.swipeDirection,H)?(j.current=re,Zc($P,u,te,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(q)>H||Math.abs(R)>H)&&(y.current=null)}),onPointerUp:Q(e.onPointerUp,M=>{const q=j.current,R=M.target;if(R.hasPointerCapture(M.pointerId)&&R.releasePointerCapture(M.pointerId),j.current=null,y.current=null,q){const B=M.currentTarget,I={originalEvent:M,delta:q};Fx(q,g.swipeDirection,g.swipeThreshold)?Zc(zP,p,I,{discrete:!0}):Zc(FP,m,I,{discrete:!0}),B.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),VP=e=>{const{__scopeToast:t,children:r,...n}=e,s=Gu(pc,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return GP(()=>i(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Ci,{asChild:!0,children:a.jsx(Hu,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},WP="ToastTitle",h1=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});h1.displayName=WP;var HP="ToastDescription",f1=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});f1.displayName=HP;var m1="ToastAction",p1=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(v1,{altText:r,asChild:!0,children:a.jsx(jg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${m1}\`. Expected non-empty \`string\`.`),null)});p1.displayName=m1;var g1="ToastClose",jg=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=BP(g1,r);return a.jsx(v1,{asChild:!0,children:a.jsx(ue.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,s.onClose)})})});jg.displayName=g1;var v1=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function x1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),KP(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...x1(n))}}),t}function Zc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yg(s,o):s.dispatchEvent(o)}var Fx=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function GP(e=()=>{}){const t=nt(e);ct(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function KP(e){return e.nodeType===e.ELEMENT_NODE}function QP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var YP=i1,y1=c1,w1=u1,b1=h1,j1=f1,_1=p1,N1=jg;function S1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=S1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function k1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=S1(e))&&(n&&(n+=" "),n+=t);return n}const zx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ux=k1,Ku=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ux(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],f=o==null?void 0:o[d];if(u===null)return null;const m=zx(u)||zx(f);return s[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...o,...l}[g]):{...o,...l}[g]===w})?[...d,f,m]:d},[]);return Ux(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...ZP,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:C1("lucide",s),...l},[...i.map(([d,u])=>h.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(JP,{ref:o,iconNode:t,className:C1(`lucide-${XP(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=J("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=J("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=J("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=J("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=J("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=J("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=J("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=J("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=J("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=J("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=J("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=J("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=J("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=J("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=J("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=J("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=J("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=J("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=J("HandMetal",[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1.4",key:"wc6myp"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2",key:"94qvcw"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9",key:"m1ah89"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5",key:"t1skq1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=J("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=J("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=J("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=J("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=J("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=J("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=J("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=J("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=J("Scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=J("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=J("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=J("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=J("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=J("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=J("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=J("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=J("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=J("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=J("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=J("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=J("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=J("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=J("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kg="-",ST=e=>{const t=CT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(kg);return l[0]===""&&l.length!==1&&l.shift(),W1(l,t)||kT(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},W1=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?W1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(kg);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Wx=/^\[(.+)\]$/,kT=e=>{if(Wx.test(e)){const t=Wx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},CT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return PT(Object.entries(e.classGroups),r).forEach(([o,i])=>{Tm(i,n,o,t)}),n},Tm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Hx(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(ET(s)){Tm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Tm(i,Hx(t,o),r,n)})})},Hx=(e,t)=>{let r=e;return t.split(kg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ET=e=>e.isThemeGetter,PT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,TT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},H1="!",RT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let b=l[w];if(d===0){if(b===s&&(n||l.slice(w,w+o)===t)){c.push(l.slice(u,w)),u=w+o;continue}if(b==="/"){f=w;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(H1),x=p?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},OT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},AT=e=>({cache:TT(e.cacheSize),parseClassName:RT(e),...ST(e)}),MT=/\s+/,IT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(MT);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let x=!!p,g=n(x?m.substring(0,p):m);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const w=OT(u).join(":"),b=f?w+H1:w,v=b+g;if(o.includes(v))continue;o.push(v);const y=s(g,x);for(let j=0;j<y.length;++j){const N=y[j];o.push(b+N)}l=d+(l.length>0?" "+l:l)}return l};function DT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=G1(t))&&(n&&(n+=" "),n+=r);return n}const G1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=G1(e[n]))&&(r&&(r+=" "),r+=t);return r};function $T(e,...t){let r,n,s,o=i;function i(c){const d=t.reduce((u,f)=>f(u),e());return r=AT(d),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=IT(c,r);return s(c,u),u}return function(){return o(DT.apply(null,arguments))}}const We=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},K1=/^\[(?:([a-z-]+):)?(.+)\]$/i,LT=/^\d+\/\d+$/,FT=new Set(["px","full","screen"]),zT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=e=>Uo(e)||FT.has(e)||LT.test(e),es=e=>Ei(e,"length",ZT),Uo=e=>!!e&&!Number.isNaN(Number(e)),lf=e=>Ei(e,"number",Uo),Gi=e=>!!e&&Number.isInteger(Number(e)),WT=e=>e.endsWith("%")&&Uo(e.slice(0,-1)),je=e=>K1.test(e),ts=e=>zT.test(e),HT=new Set(["length","size","percentage"]),GT=e=>Ei(e,HT,Q1),KT=e=>Ei(e,"position",Q1),QT=new Set(["image","url"]),YT=e=>Ei(e,QT,eR),XT=e=>Ei(e,"",JT),Ki=()=>!0,Ei=(e,t,r)=>{const n=K1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ZT=e=>UT.test(e)&&!BT.test(e),Q1=()=>!1,JT=e=>qT.test(e),eR=e=>VT.test(e),tR=()=>{const e=We("colors"),t=We("spacing"),r=We("blur"),n=We("brightness"),s=We("borderColor"),o=We("borderRadius"),i=We("borderSpacing"),l=We("borderWidth"),c=We("contrast"),d=We("grayscale"),u=We("hueRotate"),f=We("invert"),m=We("gap"),p=We("gradientColorStops"),x=We("gradientColorStopPositions"),g=We("inset"),w=We("margin"),b=We("opacity"),v=We("padding"),y=We("saturate"),j=We("scale"),N=We("sepia"),_=We("skew"),S=We("space"),k=We("translate"),A=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",je,t],D=()=>[je,t],U=()=>["",Sn,es],M=()=>["auto",Uo,je],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",je],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Uo,je];return{cacheSize:500,separator:":",theme:{colors:[Ki],spacing:[Sn,es],blur:["none","",ts,je],brightness:ee(),borderColor:[e],borderRadius:["none","","full",ts,je],borderSpacing:D(),borderWidth:U(),contrast:ee(),grayscale:T(),hueRotate:ee(),invert:T(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[WT,es],inset:P(),margin:P(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:T(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[ts]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),je]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gi,je]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Gi,je]}],"grid-cols":[{"grid-cols":[Ki]}],"col-start-end":[{col:["auto",{span:["full",Gi,je]},je]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Ki]}],"row-start-end":[{row:["auto",{span:[Gi,je]},je]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,t]}],"min-w":[{"min-w":[je,t,"min","max","fit"]}],"max-w":[{"max-w":[je,t,"none","full","min","max","fit","prose",{screen:[ts]},ts]}],h:[{h:[je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ts,es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lf]}],"font-family":[{font:[Ki]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",Uo,lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,es]}],"underline-offset":[{"underline-offset":["auto",Sn,je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),KT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Sn,je]}],"outline-w":[{outline:[Sn,es]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Sn,es]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ts,XT]}],"shadow-color":[{shadow:[Ki]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ts,je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Gi,je]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,es,lf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rR=$T(tR);function le(...e){return rR(k1(e))}const nR=YP,Y1=h.forwardRef(({className:e,...t},r)=>a.jsx(y1,{ref:r,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Y1.displayName=y1.displayName;const sR=Ku("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),X1=h.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(w1,{ref:n,className:le(sR({variant:t}),e),...r}));X1.displayName=w1.displayName;const aR=h.forwardRef(({className:e,...t},r)=>a.jsx(_1,{ref:r,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));aR.displayName=_1.displayName;const Z1=h.forwardRef(({className:e,...t},r)=>a.jsx(N1,{ref:r,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Gn,{className:"h-4 w-4"})}));Z1.displayName=N1.displayName;const J1=h.forwardRef(({className:e,...t},r)=>a.jsx(b1,{ref:r,className:le("text-sm font-semibold",e),...t}));J1.displayName=b1.displayName;const ej=h.forwardRef(({className:e,...t},r)=>a.jsx(j1,{ref:r,className:le("text-sm opacity-90",e),...t}));ej.displayName=j1.displayName;function oR(){const{toasts:e}=aP();return a.jsxs(nR,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(X1,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(J1,{children:r}),n&&a.jsx(ej,{children:n})]}),s,a.jsx(Z1,{})]},t)}),a.jsx(Y1,{})]})}var Gx=["light","dark"],iR="(prefers-color-scheme: dark)",lR=h.createContext(void 0),cR={setTheme:e=>{},themes:[]},dR=()=>{var e;return(e=h.useContext(lR))!=null?e:cR};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let d=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Gx.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,g=!1,w=!0)=>{let b=i?i[x]:x,v=g?x+"|| ''":`'${b}'`,y="";return s&&w&&!g&&Gx.includes(x)&&(y+=`d.style.colorScheme = '${x}';`),r==="class"?g||b?y+=`c.add(${v})`:y+="null":b&&(y+=`d[s](n,${v})`),y},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${iR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${d?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var uR=e=>{switch(e){case"success":return mR;case"info":return gR;case"warning":return pR;case"error":return vR;default:return null}},hR=Array(12).fill(0),fR=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},hR.map((r,n)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yR=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Rm=1,wR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Rm++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],X.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(jR(c)&&!c.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>i.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Rm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Zt=new wR,bR=(e,t)=>{let r=(t==null?void 0:t.id)||Rm++;return Zt.addToast({title:e,...t,id:r}),r},jR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_R=bR,NR=()=>Zt.toasts,SR=()=>Zt.getActiveToasts(),L=Object.assign(_R,{success:Zt.success,info:Zt.info,warning:Zt.warning,error:Zt.error,custom:Zt.custom,message:Zt.message,promise:Zt.promise,dismiss:Zt.dismiss,loading:Zt.loading},{getHistory:NR,getToasts:SR});function kR(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}kR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jc(e){return e.label!==void 0}var CR=3,ER="32px",PR="16px",Kx=4e3,TR=356,RR=14,OR=20,AR=200;function Fr(...e){return e.filter(Boolean).join(" ")}function MR(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var IR=e=>{var t,r,n,s,o,i,l,c,d,u,f;let{invert:m,toast:p,unstyled:x,interacting:g,setHeights:w,visibleToasts:b,heights:v,index:y,toasts:j,expanded:N,removeToast:_,defaultRichColors:S,closeButton:k,style:A,cancelButtonStyle:C,actionButtonStyle:P,className:D="",descriptionClassName:U="",duration:M,position:q,gap:R,loadingIcon:B,expandByDefault:I,classNames:T,icons:F,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:H}=e,[re,te]=X.useState(null),[oe,me]=X.useState(null),[Y,Ne]=X.useState(!1),[Z,he]=X.useState(!1),[z,G]=X.useState(!1),[ne,we]=X.useState(!1),[Oe,be]=X.useState(!1),[pe,st]=X.useState(0),[at,Tc]=X.useState(0),Qn=X.useRef(p.duration||M||Kx),ca=X.useRef(null),Kt=X.useRef(null),Rc=y===0,yC=y+1<=b,br=p.type,ro=p.dismissible!==!1,wC=p.className||"",bC=p.descriptionClassName||"",Oc=X.useMemo(()=>v.findIndex(xe=>xe.toastId===p.id)||0,[v,p.id]),jC=X.useMemo(()=>{var xe;return(xe=p.closeButton)!=null?xe:k},[p.closeButton,k]),bv=X.useMemo(()=>p.duration||M||Kx,[p.duration,M]),kh=X.useRef(0),no=X.useRef(0),jv=X.useRef(0),so=X.useRef(null),[_C,NC]=q.split("-"),_v=X.useMemo(()=>v.reduce((xe,Fe,Qe)=>Qe>=Oc?xe:xe+Fe.height,0),[v,Oc]),Nv=yR(),SC=p.invert||m,Ch=br==="loading";no.current=X.useMemo(()=>Oc*R+_v,[Oc,_v]),X.useEffect(()=>{Qn.current=bv},[bv]),X.useEffect(()=>{Ne(!0)},[]),X.useEffect(()=>{let xe=Kt.current;if(xe){let Fe=xe.getBoundingClientRect().height;return Tc(Fe),w(Qe=>[{toastId:p.id,height:Fe,position:p.position},...Qe]),()=>w(Qe=>Qe.filter(Ir=>Ir.toastId!==p.id))}},[w,p.id]),X.useLayoutEffect(()=>{if(!Y)return;let xe=Kt.current,Fe=xe.style.height;xe.style.height="auto";let Qe=xe.getBoundingClientRect().height;xe.style.height=Fe,Tc(Qe),w(Ir=>Ir.find(Dr=>Dr.toastId===p.id)?Ir.map(Dr=>Dr.toastId===p.id?{...Dr,height:Qe}:Dr):[{toastId:p.id,height:Qe,position:p.position},...Ir])},[Y,p.title,p.description,w,p.id]);let Yn=X.useCallback(()=>{he(!0),st(no.current),w(xe=>xe.filter(Fe=>Fe.toastId!==p.id)),setTimeout(()=>{_(p)},AR)},[p,_,w,no]);X.useEffect(()=>{if(p.promise&&br==="loading"||p.duration===1/0||p.type==="loading")return;let xe;return N||g||H&&Nv?(()=>{if(jv.current<kh.current){let Fe=new Date().getTime()-kh.current;Qn.current=Qn.current-Fe}jv.current=new Date().getTime()})():Qn.current!==1/0&&(kh.current=new Date().getTime(),xe=setTimeout(()=>{var Fe;(Fe=p.onAutoClose)==null||Fe.call(p,p),Yn()},Qn.current)),()=>clearTimeout(xe)},[N,g,p,br,H,Nv,Yn]),X.useEffect(()=>{p.delete&&Yn()},[Yn,p.delete]);function kC(){var xe,Fe,Qe;return F!=null&&F.loading?X.createElement("div",{className:Fr(T==null?void 0:T.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":br==="loading"},F.loading):B?X.createElement("div",{className:Fr(T==null?void 0:T.loader,(Fe=p==null?void 0:p.classNames)==null?void 0:Fe.loader,"sonner-loader"),"data-visible":br==="loading"},B):X.createElement(fR,{className:Fr(T==null?void 0:T.loader,(Qe=p==null?void 0:p.classNames)==null?void 0:Qe.loader),visible:br==="loading"})}return X.createElement("li",{tabIndex:0,ref:Kt,className:Fr(D,wC,T==null?void 0:T.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[br],(r=p==null?void 0:p.classNames)==null?void 0:r[br]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:S,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":Y,"data-promise":!!p.promise,"data-swiped":Oe,"data-removed":Z,"data-visible":yC,"data-y-position":_C,"data-x-position":NC,"data-index":y,"data-front":Rc,"data-swiping":z,"data-dismissible":ro,"data-type":br,"data-invert":SC,"data-swipe-out":ne,"data-swipe-direction":oe,"data-expanded":!!(N||I&&Y),style:{"--index":y,"--toasts-before":y,"--z-index":j.length-y,"--offset":`${Z?pe:no.current}px`,"--initial-height":I?"auto":`${at}px`,...A,...p.style},onDragEnd:()=>{G(!1),te(null),so.current=null},onPointerDown:xe=>{Ch||!ro||(ca.current=new Date,st(no.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(G(!0),so.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Fe,Qe,Ir;if(ne||!ro)return;so.current=null;let Dr=Number(((xe=Kt.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xn=Number(((Fe=Kt.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),da=new Date().getTime()-((Qe=ca.current)==null?void 0:Qe.getTime()),$r=re==="x"?Dr:Xn,Zn=Math.abs($r)/da;if(Math.abs($r)>=OR||Zn>.11){st(no.current),(Ir=p.onDismiss)==null||Ir.call(p,p),me(re==="x"?Dr>0?"right":"left":Xn>0?"down":"up"),Yn(),we(!0),be(!1);return}G(!1),te(null)},onPointerMove:xe=>{var Fe,Qe,Ir,Dr;if(!so.current||!ro||((Fe=window.getSelection())==null?void 0:Fe.toString().length)>0)return;let Xn=xe.clientY-so.current.y,da=xe.clientX-so.current.x,$r=(Qe=e.swipeDirections)!=null?Qe:MR(q);!re&&(Math.abs(da)>1||Math.abs(Xn)>1)&&te(Math.abs(da)>Math.abs(Xn)?"x":"y");let Zn={x:0,y:0};re==="y"?($r.includes("top")||$r.includes("bottom"))&&($r.includes("top")&&Xn<0||$r.includes("bottom")&&Xn>0)&&(Zn.y=Xn):re==="x"&&($r.includes("left")||$r.includes("right"))&&($r.includes("left")&&da<0||$r.includes("right")&&da>0)&&(Zn.x=da),(Math.abs(Zn.x)>0||Math.abs(Zn.y)>0)&&be(!0),(Ir=Kt.current)==null||Ir.style.setProperty("--swipe-amount-x",`${Zn.x}px`),(Dr=Kt.current)==null||Dr.style.setProperty("--swipe-amount-y",`${Zn.y}px`)}},jC&&!p.jsx?X.createElement("button",{"aria-label":ee,"data-disabled":Ch,"data-close-button":!0,onClick:Ch||!ro?()=>{}:()=>{var xe;Yn(),(xe=p.onDismiss)==null||xe.call(p,p)},className:Fr(T==null?void 0:T.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=F==null?void 0:F.close)!=null?o:xR):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:X.createElement(X.Fragment,null,br||p.icon||p.promise?X.createElement("div",{"data-icon":"",className:Fr(T==null?void 0:T.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||kC():null,p.type!=="loading"?p.icon||(F==null?void 0:F[br])||uR(br):null):null,X.createElement("div",{"data-content":"",className:Fr(T==null?void 0:T.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},X.createElement("div",{"data-title":"",className:Fr(T==null?void 0:T.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?X.createElement("div",{"data-description":"",className:Fr(U,bC,T==null?void 0:T.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&Jc(p.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||C,onClick:xe=>{var Fe,Qe;Jc(p.cancel)&&ro&&((Qe=(Fe=p.cancel).onClick)==null||Qe.call(Fe,xe),Yn())},className:Fr(T==null?void 0:T.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&Jc(p.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:xe=>{var Fe,Qe;Jc(p.action)&&((Qe=(Fe=p.action).onClick)==null||Qe.call(Fe,xe),!xe.defaultPrevented&&Yn())},className:Fr(T==null?void 0:T.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Qx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function DR(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?PR:ER;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${i}-${d}`]=l:r[`${i}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var $R=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:m,style:p,visibleToasts:x=CR,toastOptions:g,dir:w=Qx(),gap:b=RR,loadingIcon:v,icons:y,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[_,S]=X.useState([]),k=X.useMemo(()=>Array.from(new Set([n].concat(_.filter(H=>H.position).map(H=>H.position)))),[_,n]),[A,C]=X.useState([]),[P,D]=X.useState(!1),[U,M]=X.useState(!1),[q,R]=X.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=X.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=X.useRef(null),F=X.useRef(!1),ee=X.useCallback(H=>{S(re=>{var te;return(te=re.find(oe=>oe.id===H.id))!=null&&te.delete||Zt.dismiss(H.id),re.filter(({id:oe})=>oe!==H.id)})},[]);return X.useEffect(()=>Zt.subscribe(H=>{if(H.dismiss){S(re=>re.map(te=>te.id===H.id?{...te,delete:!0}:te));return}setTimeout(()=>{Jb.flushSync(()=>{S(re=>{let te=re.findIndex(oe=>oe.id===H.id);return te!==-1?[...re.slice(0,te),{...re[te],...H},...re.slice(te+1)]:[H,...re]})})})}),[]),X.useEffect(()=>{if(u!=="system"){R(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:re})=>{R(re?"dark":"light")})}catch{H.addListener(({matches:te})=>{try{R(te?"dark":"light")}catch(oe){console.error(oe)}})}},[u]),X.useEffect(()=>{_.length<=1&&D(!1)},[_]),X.useEffect(()=>{let H=re=>{var te,oe;s.every(me=>re[me]||re.code===me)&&(D(!0),(te=B.current)==null||te.focus()),re.code==="Escape"&&(document.activeElement===B.current||(oe=B.current)!=null&&oe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),X.useEffect(()=>{if(B.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,F.current=!1)}},[B.current]),X.createElement("section",{ref:t,"aria-label":`${j} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((H,re)=>{var te;let[oe,me]=H.split("-");return _.length?X.createElement("ol",{key:H,dir:w==="auto"?Qx():w,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":oe,"data-lifted":P&&_.length>1&&!o,"data-x-position":me,style:{"--front-toast-height":`${((te=A[0])==null?void 0:te.height)||0}px`,"--width":`${TR}px`,"--gap":`${b}px`,...p,...DR(c,d)},onBlur:Y=>{F.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(F.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||F.current||(F.current=!0,T.current=Y.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{U||D(!1)},onDragEnd:()=>D(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},_.filter(Y=>!Y.position&&re===0||Y.position===H).map((Y,Ne)=>{var Z,he;return X.createElement(IR,{key:Y.id,icons:y,index:Ne,toast:Y,defaultRichColors:f,duration:(Z=g==null?void 0:g.duration)!=null?Z:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(he=g==null?void 0:g.closeButton)!=null?he:i,interacting:U,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ee,toasts:_.filter(z=>z.position==Y.position),heights:A.filter(z=>z.position==Y.position),setHeights:C,expandByDefault:o,gap:b,loadingIcon:v,expanded:P,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const LR=({...e})=>{const{theme:t="system"}=dR();return a.jsx($R,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var FR=Ep[" useId ".trim().toString()]||(()=>{}),zR=0;function Qr(e){const[t,r]=h.useState(FR());return ct(()=>{r(n=>n??String(zR++))},[e]),t?`radix-${t}`:""}const UR=["top","right","bottom","left"],Vs=Math.min,cr=Math.max,su=Math.round,ed=Math.floor,wn=e=>({x:e,y:e}),BR={left:"right",right:"left",bottom:"top",top:"bottom"},qR={start:"end",end:"start"};function Om(e,t,r){return cr(e,Vs(t,r))}function qn(e,t){return typeof e=="function"?e(t):e}function Vn(e){return e.split("-")[0]}function Pi(e){return e.split("-")[1]}function Cg(e){return e==="x"?"y":"x"}function Eg(e){return e==="y"?"height":"width"}const VR=new Set(["top","bottom"]);function pn(e){return VR.has(Vn(e))?"y":"x"}function Pg(e){return Cg(pn(e))}function WR(e,t,r){r===void 0&&(r=!1);const n=Pi(e),s=Pg(e),o=Eg(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=au(i)),[i,au(i)]}function HR(e){const t=au(e);return[Am(e),t,Am(t)]}function Am(e){return e.replace(/start|end/g,t=>qR[t])}const Yx=["left","right"],Xx=["right","left"],GR=["top","bottom"],KR=["bottom","top"];function QR(e,t,r){switch(e){case"top":case"bottom":return r?t?Xx:Yx:t?Yx:Xx;case"left":case"right":return t?GR:KR;default:return[]}}function YR(e,t,r,n){const s=Pi(e);let o=QR(Vn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Am)))),o}function au(e){return e.replace(/left|right|bottom|top/g,t=>BR[t])}function XR(e){return{top:0,right:0,bottom:0,left:0,...e}}function tj(e){return typeof e!="number"?XR(e):{top:e,right:e,bottom:e,left:e}}function ou(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Zx(e,t,r){let{reference:n,floating:s}=e;const o=pn(t),i=Pg(t),l=Eg(i),c=Vn(t),d=o==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-s.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Pi(t)){case"start":p[i]-=m*(r&&d?-1:1);break;case"end":p[i]+=m*(r&&d?-1:1);break}return p}const ZR=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=Zx(d,n,c),m=n,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:b}=l[g],{x:v,y,data:j,reset:N}=await b({x:u,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:d,platform:i,elements:{reference:e,floating:t}});u=v??u,f=y??f,p={...p,[w]:{...p[w],...j}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:u,y:f}=Zx(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:s,middlewareData:p}};async function Hl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=qn(t,e),x=tj(p),w=l[m?f==="floating"?"reference":"floating":f],b=ou(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},N=ou(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(b.top-N.top+x.top)/j.y,bottom:(N.bottom-b.bottom+x.bottom)/j.y,left:(b.left-N.left+x.left)/j.x,right:(N.right-b.right+x.right)/j.x}}const JR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=qn(e,t)||{};if(d==null)return{};const f=tj(u),m={x:r,y:n},p=Pg(s),x=Eg(p),g=await i.getDimensions(d),w=p==="y",b=w?"top":"left",v=w?"bottom":"right",y=w?"clientHeight":"clientWidth",j=o.reference[x]+o.reference[p]-m[p]-o.floating[x],N=m[p]-o.reference[p],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let S=_?_[y]:0;(!S||!await(i.isElement==null?void 0:i.isElement(_)))&&(S=l.floating[y]||o.floating[x]);const k=j/2-N/2,A=S/2-g[x]/2-1,C=Vs(f[b],A),P=Vs(f[v],A),D=C,U=S-g[x]-P,M=S/2-g[x]/2+k,q=Om(D,M,U),R=!c.arrow&&Pi(s)!=null&&M!==q&&o.reference[x]/2-(M<D?C:P)-g[x]/2<0,B=R?M<D?M-D:M-U:0;return{[p]:m[p]+B,data:{[p]:q,centerOffset:M-q-B,...R&&{alignmentOffset:B}},reset:R}}}),e4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=qn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const b=Vn(s),v=pn(l),y=Vn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(y||!g?[au(l)]:HR(l)),_=x!=="none";!m&&_&&N.push(...YR(l,g,x,j));const S=[l,...N],k=await Hl(t,w),A=[];let C=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&A.push(k[b]),f){const M=WR(s,i,j);A.push(k[M[0]],k[M[1]])}if(C=[...C,{placement:s,overflows:A}],!A.every(M=>M<=0)){var P,D;const M=(((P=o.flip)==null?void 0:P.index)||0)+1,q=S[M];if(q&&(!(f==="alignment"?v!==pn(q):!1)||C.every(I=>I.overflows[0]>0&&pn(I.placement)===v)))return{data:{index:M,overflows:C},reset:{placement:q}};let R=(D=C.filter(B=>B.overflows[0]<=0).sort((B,I)=>B.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!R)switch(p){case"bestFit":{var U;const B=(U=C.filter(I=>{if(_){const T=pn(I.placement);return T===v||T==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(T=>T>0).reduce((T,F)=>T+F,0)]).sort((I,T)=>I[1]-T[1])[0])==null?void 0:U[0];B&&(R=B);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function Jx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ey(e){return UR.some(t=>e[t]>=0)}const t4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=qn(e,t);switch(n){case"referenceHidden":{const o=await Hl(t,{...s,elementContext:"reference"}),i=Jx(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ey(i)}}}case"escaped":{const o=await Hl(t,{...s,altBoundary:!0}),i=Jx(o,r.floating);return{data:{escapedOffsets:i,escaped:ey(i)}}}default:return{}}}}},rj=new Set(["left","top"]);async function r4(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Vn(r),l=Pi(r),c=pn(r)==="y",d=rj.has(i)?-1:1,u=o&&c?-1:1,f=qn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const n4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await r4(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},s4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:b,y:v}=w;return{x:b,y:v}}},...c}=qn(e,t),d={x:r,y:n},u=await Hl(t,c),f=pn(Vn(s)),m=Cg(f);let p=d[m],x=d[f];if(o){const w=m==="y"?"top":"left",b=m==="y"?"bottom":"right",v=p+u[w],y=p-u[b];p=Om(v,p,y)}if(i){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=x+u[w],y=x-u[b];x=Om(v,x,y)}const g=l.fn({...t,[m]:p,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[f]:i}}}}}},a4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=qn(e,t),u={x:r,y:n},f=pn(s),m=Cg(f);let p=u[m],x=u[f];const g=qn(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const y=m==="y"?"height":"width",j=o.reference[m]-o.floating[y]+w.mainAxis,N=o.reference[m]+o.reference[y]-w.mainAxis;p<j?p=j:p>N&&(p=N)}if(d){var b,v;const y=m==="y"?"width":"height",j=rj.has(Vn(s)),N=o.reference[f]-o.floating[y]+(j&&((b=i.offset)==null?void 0:b[f])||0)+(j?0:w.crossAxis),_=o.reference[f]+o.reference[y]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?w.crossAxis:0);x<N?x=N:x>_&&(x=_)}return{[m]:p,[f]:x}}}},o4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=qn(e,t),u=await Hl(t,d),f=Vn(s),m=Pi(s),p=pn(s)==="y",{width:x,height:g}=o.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,w=m==="end"?"top":"bottom");const v=g-u.top-u.bottom,y=x-u.left-u.right,j=Vs(g-u[w],v),N=Vs(x-u[b],y),_=!t.middlewareData.shift;let S=j,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=v),_&&!m){const C=cr(u.left,0),P=cr(u.right,0),D=cr(u.top,0),U=cr(u.bottom,0);p?k=x-2*(C!==0||P!==0?C+P:cr(u.left,u.right)):S=g-2*(D!==0||U!==0?D+U:cr(u.top,u.bottom))}await c({...t,availableWidth:k,availableHeight:S});const A=await i.getDimensions(l.floating);return x!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Xu(){return typeof window<"u"}function Ti(e){return nj(e)?(e.nodeName||"").toLowerCase():"#document"}function hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _n(e){var t;return(t=(nj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nj(e){return Xu()?e instanceof Node||e instanceof hr(e).Node:!1}function Xr(e){return Xu()?e instanceof Element||e instanceof hr(e).Element:!1}function jn(e){return Xu()?e instanceof HTMLElement||e instanceof hr(e).HTMLElement:!1}function ty(e){return!Xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hr(e).ShadowRoot}const i4=new Set(["inline","contents"]);function gc(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Zr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!i4.has(s)}const l4=new Set(["table","td","th"]);function c4(e){return l4.has(Ti(e))}const d4=[":popover-open",":modal"];function Zu(e){return d4.some(t=>{try{return e.matches(t)}catch{return!1}})}const u4=["transform","translate","scale","rotate","perspective"],h4=["transform","translate","scale","rotate","perspective","filter"],f4=["paint","layout","strict","content"];function Tg(e){const t=Rg(),r=Xr(e)?Zr(e):e;return u4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||h4.some(n=>(r.willChange||"").includes(n))||f4.some(n=>(r.contain||"").includes(n))}function m4(e){let t=Ws(e);for(;jn(t)&&!hi(t);){if(Tg(t))return t;if(Zu(t))return null;t=Ws(t)}return null}function Rg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p4=new Set(["html","body","#document"]);function hi(e){return p4.has(Ti(e))}function Zr(e){return hr(e).getComputedStyle(e)}function Ju(e){return Xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if(Ti(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ty(e)&&e.host||_n(e);return ty(t)?t.host:t}function sj(e){const t=Ws(e);return hi(t)?e.ownerDocument?e.ownerDocument.body:e.body:jn(t)&&gc(t)?t:sj(t)}function Gl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=sj(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=hr(s);if(o){const l=Mm(i);return t.concat(i,i.visualViewport||[],gc(s)?s:[],l&&r?Gl(l):[])}return t.concat(s,Gl(s,[],r))}function Mm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aj(e){const t=Zr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=jn(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=su(r)!==o||su(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Og(e){return Xr(e)?e:e.contextElement}function Bo(e){const t=Og(e);if(!jn(t))return wn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=aj(t);let i=(o?su(r.width):r.width)/n,l=(o?su(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const g4=wn(0);function oj(e){const t=hr(e);return!Rg()||!t.visualViewport?g4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function v4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==hr(e)?!1:t}function Ba(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Og(e);let i=wn(1);t&&(n?Xr(n)&&(i=Bo(n)):i=Bo(e));const l=v4(o,r,n)?oj(o):wn(0);let c=(s.left+l.x)/i.x,d=(s.top+l.y)/i.y,u=s.width/i.x,f=s.height/i.y;if(o){const m=hr(o),p=n&&Xr(n)?hr(n):n;let x=m,g=Mm(x);for(;g&&n&&p!==x;){const w=Bo(g),b=g.getBoundingClientRect(),v=Zr(g),y=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,j=b.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=y,d+=j,x=hr(g),g=Mm(x)}}return ou({width:u,height:f,x:c,y:d})}function Ag(e,t){const r=Ju(e).scrollLeft;return t?t.left+r:Ba(_n(e)).left+r}function ij(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Ag(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function x4(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=_n(n),l=t?Zu(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},d=wn(1);const u=wn(0),f=jn(n);if((f||!f&&!o)&&((Ti(n)!=="body"||gc(i))&&(c=Ju(n)),jn(n))){const p=Ba(n);d=Bo(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=i&&!f&&!o?ij(i,c,!0):wn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function y4(e){return Array.from(e.getClientRects())}function w4(e){const t=_n(e),r=Ju(e),n=e.ownerDocument.body,s=cr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=cr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Ag(e);const l=-r.scrollTop;return Zr(n).direction==="rtl"&&(i+=cr(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function b4(e,t){const r=hr(e),n=_n(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=Rg();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const j4=new Set(["absolute","fixed"]);function _4(e,t){const r=Ba(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=jn(e)?Bo(e):wn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:i,height:l,x:c,y:d}}function ry(e,t,r){let n;if(t==="viewport")n=b4(e,r);else if(t==="document")n=w4(_n(e));else if(Xr(t))n=_4(t,r);else{const s=oj(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ou(n)}function lj(e,t){const r=Ws(e);return r===t||!Xr(r)||hi(r)?!1:Zr(r).position==="fixed"||lj(r,t)}function N4(e,t){const r=t.get(e);if(r)return r;let n=Gl(e,[],!1).filter(l=>Xr(l)&&Ti(l)!=="body"),s=null;const o=Zr(e).position==="fixed";let i=o?Ws(e):e;for(;Xr(i)&&!hi(i);){const l=Zr(i),c=Tg(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&j4.has(s.position)||gc(i)&&!c&&lj(e,i))?n=n.filter(u=>u!==i):s=l,i=Ws(i)}return t.set(e,n),n}function S4(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Zu(t)?[]:N4(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((d,u)=>{const f=ry(t,u,s);return d.top=cr(f.top,d.top),d.right=Vs(f.right,d.right),d.bottom=Vs(f.bottom,d.bottom),d.left=cr(f.left,d.left),d},ry(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function k4(e){const{width:t,height:r}=aj(e);return{width:t,height:r}}function C4(e,t,r){const n=jn(t),s=_n(t),o=r==="fixed",i=Ba(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=wn(0);function d(){c.x=Ag(s)}if(n||!n&&!o)if((Ti(t)!=="body"||gc(s))&&(l=Ju(t)),n){const p=Ba(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&d();o&&!n&&s&&d();const u=s&&!n&&!o?ij(s,l):wn(0),f=i.left+l.scrollLeft-c.x-u.x,m=i.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:i.width,height:i.height}}function cf(e){return Zr(e).position==="static"}function ny(e,t){if(!jn(e)||Zr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _n(e)===r&&(r=r.ownerDocument.body),r}function cj(e,t){const r=hr(e);if(Zu(e))return r;if(!jn(e)){let s=Ws(e);for(;s&&!hi(s);){if(Xr(s)&&!cf(s))return s;s=Ws(s)}return r}let n=ny(e,t);for(;n&&c4(n)&&cf(n);)n=ny(n,t);return n&&hi(n)&&cf(n)&&!Tg(n)?r:n||m4(e)||r}const E4=async function(e){const t=this.getOffsetParent||cj,r=this.getDimensions,n=await r(e.floating);return{reference:C4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function P4(e){return Zr(e).direction==="rtl"}const T4={convertOffsetParentRelativeRectToViewportRelativeRect:x4,getDocumentElement:_n,getClippingRect:S4,getOffsetParent:cj,getElementRects:E4,getClientRects:y4,getDimensions:k4,getScale:Bo,isElement:Xr,isRTL:P4};function dj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function R4(e,t){let r=null,n;const s=_n(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:p}=d;if(l||t(),!m||!p)return;const x=ed(f),g=ed(s.clientWidth-(u+m)),w=ed(s.clientHeight-(f+p)),b=ed(u),y={rootMargin:-x+"px "+-g+"px "+-w+"px "+-b+"px",threshold:cr(0,Vs(1,c))||1};let j=!0;function N(_){const S=_[0].intersectionRatio;if(S!==c){if(!j)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!dj(d,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(N,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return i(!0),o}function O4(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Og(e),u=s||o?[...d?Gl(d):[],...Gl(t)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),o&&b.addEventListener("resize",r)});const f=d&&l?R4(d,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let x,g=c?Ba(e):null;c&&w();function w(){const b=Ba(e);g&&!dj(g,b)&&r(),g=b,x=requestAnimationFrame(w)}return r(),()=>{var b;u.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const A4=n4,M4=s4,I4=e4,D4=o4,$4=t4,sy=JR,L4=a4,F4=(e,t,r)=>{const n=new Map,s={platform:T4,...r},o={...s.platform,_c:n};return ZR(e,t,{...s,platform:o})};var z4=typeof document<"u",U4=function(){},Sd=z4?h.useLayoutEffect:U4;function iu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!iu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!iu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function uj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ay(e,t){const r=uj(e);return Math.round(t*r)/r}function df(e){const t=h.useRef(e);return Sd(()=>{t.current=e}),t}function B4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);iu(m,n)||p(n);const[x,g]=h.useState(null),[w,b]=h.useState(null),v=h.useCallback(I=>{I!==_.current&&(_.current=I,g(I))},[]),y=h.useCallback(I=>{I!==S.current&&(S.current=I,b(I))},[]),j=o||x,N=i||w,_=h.useRef(null),S=h.useRef(null),k=h.useRef(u),A=c!=null,C=df(c),P=df(s),D=df(d),U=h.useCallback(()=>{if(!_.current||!S.current)return;const I={placement:t,strategy:r,middleware:m};P.current&&(I.platform=P.current),F4(_.current,S.current,I).then(T=>{const F={...T,isPositioned:D.current!==!1};M.current&&!iu(k.current,F)&&(k.current=F,Zs.flushSync(()=>{f(F)}))})},[m,t,r,P,D]);Sd(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[d]);const M=h.useRef(!1);Sd(()=>(M.current=!0,()=>{M.current=!1}),[]),Sd(()=>{if(j&&(_.current=j),N&&(S.current=N),j&&N){if(C.current)return C.current(j,N,U);U()}},[j,N,U,C,A]);const q=h.useMemo(()=>({reference:_,floating:S,setReference:v,setFloating:y}),[v,y]),R=h.useMemo(()=>({reference:j,floating:N}),[j,N]),B=h.useMemo(()=>{const I={position:r,left:0,top:0};if(!R.floating)return I;const T=ay(R.floating,u.x),F=ay(R.floating,u.y);return l?{...I,transform:"translate("+T+"px, "+F+"px)",...uj(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:F}},[r,l,R.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:U,refs:q,elements:R,floatingStyles:B}),[u,U,q,R,B])}const q4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?sy({element:n.current,padding:s}).fn(r):{}:n?sy({element:n,padding:s}).fn(r):{}}}},V4=(e,t)=>({...A4(e),options:[e,t]}),W4=(e,t)=>({...M4(e),options:[e,t]}),H4=(e,t)=>({...L4(e),options:[e,t]}),G4=(e,t)=>({...I4(e),options:[e,t]}),K4=(e,t)=>({...D4(e),options:[e,t]}),Q4=(e,t)=>({...$4(e),options:[e,t]}),Y4=(e,t)=>({...q4(e),options:[e,t]});var X4="Arrow",hj=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(ue.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});hj.displayName=X4;var Z4=hj;function J4(e){const[t,r]=h.useState(void 0);return ct(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Mg="Popper",[fj,Js]=ir(Mg),[eO,mj]=fj(Mg),pj=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return a.jsx(eO,{scope:t,anchor:n,onAnchorChange:s,children:r})};pj.displayName=Mg;var gj="PopperAnchor",vj=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=mj(gj,r),i=h.useRef(null),l=Se(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(ue.div,{...s,ref:l})});vj.displayName=gj;var Ig="PopperContent",[tO,rO]=fj(Ig),xj=h.forwardRef((e,t)=>{var Y,Ne,Z,he,z,G;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=mj(Ig,r),[b,v]=h.useState(null),y=Se(t,ne=>v(ne)),[j,N]=h.useState(null),_=J4(j),S=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,A=n+(o!=="center"?"-"+o:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],D=P.length>0,U={padding:C,boundary:P.filter(sO),altBoundary:D},{refs:M,floatingStyles:q,placement:R,isPositioned:B,middlewareData:I}=B4({strategy:"fixed",placement:A,whileElementsMounted:(...ne)=>O4(...ne,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[V4({mainAxis:s+k,alignmentAxis:i}),c&&W4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?H4():void 0,...U}),c&&G4({...U}),K4({...U,apply:({elements:ne,rects:we,availableWidth:Oe,availableHeight:be})=>{const{width:pe,height:st}=we.reference,at=ne.floating.style;at.setProperty("--radix-popper-available-width",`${Oe}px`),at.setProperty("--radix-popper-available-height",`${be}px`),at.setProperty("--radix-popper-anchor-width",`${pe}px`),at.setProperty("--radix-popper-anchor-height",`${st}px`)}}),j&&Y4({element:j,padding:l}),aO({arrowWidth:S,arrowHeight:k}),m&&Q4({strategy:"referenceHidden",...U})]}),[T,F]=bj(R),ee=nt(x);ct(()=>{B&&(ee==null||ee())},[B,ee]);const H=(Y=I.arrow)==null?void 0:Y.x,re=(Ne=I.arrow)==null?void 0:Ne.y,te=((Z=I.arrow)==null?void 0:Z.centerOffset)!==0,[oe,me]=h.useState();return ct(()=>{b&&me(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:B?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(he=I.transformOrigin)==null?void 0:he.x,(z=I.transformOrigin)==null?void 0:z.y].join(" "),...((G=I.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(tO,{scope:r,placedSide:T,onArrowChange:N,arrowX:H,arrowY:re,shouldHideArrow:te,children:a.jsx(ue.div,{"data-side":T,"data-align":F,...g,ref:y,style:{...g.style,animation:B?void 0:"none"}})})})});xj.displayName=Ig;var yj="PopperArrow",nO={top:"bottom",right:"left",bottom:"top",left:"right"},wj=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=rO(yj,n),i=nO[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(Z4,{...s,ref:r,style:{...s.style,display:"block"}})})});wj.displayName=yj;function sO(e){return e!==null}var aO=e=>({name:"transformOrigin",options:e,fn(t){var w,b,v;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=bj(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=i?f:`${m}px`,g=`${-c}px`):d==="top"?(x=i?f:`${m}px`,g=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=i?f:`${p}px`):d==="left"&&(x=`${n.floating.width+c}px`,g=i?f:`${p}px`),{data:{x,y:g}}}});function bj(e){const[t,r="center"]=e.split("-");return[t,r]}var Dg=pj,vc=vj,eh=xj,th=wj,[rh]=ir("Tooltip",[Js]),$g=Js(),jj="TooltipProvider",oO=700,oy="tooltip.open",[iO,_j]=rh(jj),Nj=e=>{const{__scopeTooltip:t,delayDuration:r=oO,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(iO,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:o})};Nj.displayName=jj;var Sj="Tooltip",[cz,nh]=rh(Sj),Im="TooltipTrigger",lO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=nh(Im,r),o=_j(Im,r),i=$g(r),l=h.useRef(null),c=Se(t,l,s.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(vc,{asChild:!0,...i,children:a.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Q(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Q(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Q(e.onBlur,s.onClose),onClick:Q(e.onClick,s.onClose)})})});lO.displayName=Im;var cO="TooltipPortal",[dz,dO]=rh(cO,{forceMount:void 0}),fi="TooltipContent",kj=h.forwardRef((e,t)=>{const r=dO(fi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=nh(fi,e.__scopeTooltip);return a.jsx(Rt,{present:n||i.open,children:i.disableHoverableContent?a.jsx(Cj,{side:s,...o,ref:t}):a.jsx(uO,{side:s,...o,ref:t})})}),uO=h.forwardRef((e,t)=>{const r=nh(fi,e.__scopeTooltip),n=_j(fi,e.__scopeTooltip),s=h.useRef(null),o=Se(t,s),[i,l]=h.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((x,g)=>{const w=x.currentTarget,b={x:x.clientX,y:x.clientY},v=gO(b,w.getBoundingClientRect()),y=vO(b,v),j=xO(g.getBoundingClientRect()),N=wO([...y,...j]);l(N),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const x=w=>p(w,u),g=w=>p(w,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",g)}}},[c,u,p,m]),h.useEffect(()=>{if(i){const x=g=>{const w=g.target,b={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),y=!yO(b,i);v?m():y&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,i,d,m]),a.jsx(Cj,{...e,ref:o})}),[hO,fO]=rh(Sj,{isInside:!1}),mO=dP("TooltipContent"),Cj=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=nh(fi,r),d=$g(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(oy,u),()=>document.removeEventListener(oy,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),a.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:a.jsxs(eh,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(mO,{children:n}),a.jsx(hO,{scope:r,isInside:!0,children:a.jsx(OP,{id:c.contentId,role:"tooltip",children:s||n})})]})})});kj.displayName=fi;var Ej="TooltipArrow",pO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=$g(r);return fO(Ej,r).isInside?null:a.jsx(th,{...s,...n,ref:t})});pO.displayName=Ej;function gO(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function vO(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function xO(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function yO(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(s=!s)}return s}function wO(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bO(t)}function bO(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var jO=Nj,Pj=kj;const _O=jO,NO=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(Pj,{ref:n,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));NO.displayName=Pj.displayName;var Ri=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qa=typeof window>"u"||"Deno"in globalThis;function Bt(){}function SO(e,t){return typeof e=="function"?e(t):e}function Dm(e){return typeof e=="number"&&e>=0&&e!==1/0}function Tj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ds(e,t){return typeof e=="function"?e(t):e}function Nr(e,t){return typeof e=="function"?e(t):e}function iy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Lg(i,t.options))return!1}else if(!Kl(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function ly(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Va(t.options.mutationKey)!==Va(o))return!1}else if(!Kl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Lg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Va)(e)}function Va(e){return JSON.stringify(e,(t,r)=>$m(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Kl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Kl(e[r],t[r])):!1}function Rj(e,t){if(e===t)return e;const r=cy(e)&&cy(t);if(r||$m(e)&&$m(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<i;u++){const f=r?u:o[u];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=Rj(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return s===i&&d===s?e:l}return t}function lu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function cy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $m(e){if(!dy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!dy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function dy(e){return Object.prototype.toString.call(e)==="[object Object]"}function kO(e){return new Promise(t=>{setTimeout(t,e)})}function Lm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Rj(e,t):t}function CO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function EO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Fg=Symbol();function Oj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Aj(e,t){return typeof e=="function"?e(...t):!!e}var ja,ms,Ho,T0,PO=(T0=class extends Ri{constructor(){super();fe(this,ja);fe(this,ms);fe(this,Ho);se(this,Ho,t=>{if(!qa&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,ms)||this.setEventListener(E(this,Ho))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,ms))==null||t.call(this),se(this,ms,void 0))}setEventListener(t){var r;se(this,Ho,t),(r=E(this,ms))==null||r.call(this),se(this,ms,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){E(this,ja)!==t&&(se(this,ja,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof E(this,ja)=="boolean"?E(this,ja):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ja=new WeakMap,ms=new WeakMap,Ho=new WeakMap,T0),zg=new PO,Go,ps,Ko,R0,TO=(R0=class extends Ri{constructor(){super();fe(this,Go,!0);fe(this,ps);fe(this,Ko);se(this,Ko,t=>{if(!qa&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,ps)||this.setEventListener(E(this,Ko))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,ps))==null||t.call(this),se(this,ps,void 0))}setEventListener(t){var r;se(this,Ko,t),(r=E(this,ps))==null||r.call(this),se(this,ps,t(this.setOnline.bind(this)))}setOnline(t){E(this,Go)!==t&&(se(this,Go,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return E(this,Go)}},Go=new WeakMap,ps=new WeakMap,Ko=new WeakMap,R0),cu=new TO;function Fm(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function RO(e){return Math.min(1e3*2**e,3e4)}function Mj(e){return(e??"online")==="online"?cu.isOnline():!0}var Ij=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function uf(e){return e instanceof Ij}function Dj(e){let t=!1,r=0,n=!1,s;const o=Fm(),i=g=>{var w;n||(m(new Ij(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>zg.isFocused()&&(e.networkMode==="always"||cu.isOnline())&&e.canRun(),u=()=>Mj(e.networkMode)&&e.canRun(),f=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),o.resolve(g))},m=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var w;s=b=>{(n||d())&&g(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var _;if(n)return;const v=e.retry??(qa?0:3),y=e.retryDelay??RO,j=typeof y=="function"?y(r,b):y,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!N){m(b);return}r++,(_=e.onFail)==null||_.call(e,r,b),kO(j).then(()=>d()?void 0:p()).then(()=>{t?m(b):x()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():p().then(x),o)}}var OO=e=>setTimeout(e,0);function AO(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=OO;const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var xt=AO(),_a,O0,$j=(O0=class{constructor(){fe(this,_a)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dm(this.gcTime)&&se(this,_a,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qa?1/0:5*60*1e3))}clearGcTimeout(){E(this,_a)&&(clearTimeout(E(this,_a)),se(this,_a,void 0))}},_a=new WeakMap,O0),Qo,Na,_r,Sa,It,oc,ka,Br,kn,A0,MO=(A0=class extends $j{constructor(t){super();fe(this,Br);fe(this,Qo);fe(this,Na);fe(this,_r);fe(this,Sa);fe(this,It);fe(this,oc);fe(this,ka);se(this,ka,!1),se(this,oc,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,Sa,t.client),se(this,_r,E(this,Sa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,Qo,IO(this.options)),this.state=t.state??E(this,Qo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,It))==null?void 0:t.promise}setOptions(t){this.options={...E(this,oc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,_r).remove(this)}setData(t,r){const n=Lm(this.state.data,t,this.options);return _e(this,Br,kn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){_e(this,Br,kn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=E(this,It))==null?void 0:n.promise;return(s=E(this,It))==null||s.cancel(t),r?r.then(Bt).catch(Bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Qo))}isActive(){return this.observers.some(t=>Nr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ds(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Tj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,It))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,It))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,_r).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(E(this,It)&&(E(this,ka)?E(this,It).cancel({revert:!0}):E(this,It).cancelRetry()),this.scheduleGc()),E(this,_r).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,Br,kn).call(this,{type:"invalidate"})}fetch(t,r){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,It))return E(this,It).continueRetry(),E(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(se(this,ka,!0),n.signal)})},o=()=>{const m=Oj(this.options,r),x=(()=>{const g={client:E(this,Sa),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return se(this,ka,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,Sa),state:this.state,fetchFn:o};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),se(this,Na,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&_e(this,Br,kn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var p,x,g,w;uf(m)&&m.silent||_e(this,Br,kn).call(this,{type:"error",error:m}),uf(m)||((x=(p=E(this,_r).config).onError)==null||x.call(p,m,this),(w=(g=E(this,_r).config).onSettled)==null||w.call(g,this.state.data,m,this)),this.scheduleGc()};return se(this,It,Dj({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,x,g,w;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){c(b);return}(x=(p=E(this,_r).config).onSuccess)==null||x.call(p,m,this),(w=(g=E(this,_r).config).onSettled)==null||w.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{_e(this,Br,kn).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{_e(this,Br,kn).call(this,{type:"pause"})},onContinue:()=>{_e(this,Br,kn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),E(this,It).start()}},Qo=new WeakMap,Na=new WeakMap,_r=new WeakMap,Sa=new WeakMap,It=new WeakMap,oc=new WeakMap,ka=new WeakMap,Br=new WeakSet,kn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Lj(n.data,this.options),fetchMeta:t.meta??null};case"success":return se(this,Na,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return uf(s)&&s.revert&&E(this,Na)?{...E(this,Na),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),xt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,_r).notify({query:this,type:"updated",action:t})})},A0);function Lj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function IO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var on,M0,DO=(M0=class extends Ri{constructor(t={}){super();fe(this,on);this.config=t,se(this,on,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Lg(s,r);let i=this.get(o);return i||(i=new MO({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){E(this,on).has(t.queryHash)||(E(this,on).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=E(this,on).get(t.queryHash);r&&(t.destroy(),r===t&&E(this,on).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,on).get(t)}getAll(){return[...E(this,on).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>iy(t,n)):r}notify(t){xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},on=new WeakMap,M0),ln,Ft,Ca,cn,ss,I0,$O=(I0=class extends $j{constructor(t){super();fe(this,cn);fe(this,ln);fe(this,Ft);fe(this,Ca);this.mutationId=t.mutationId,se(this,Ft,t.mutationCache),se(this,ln,[]),this.state=t.state||Fj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,ln).includes(t)||(E(this,ln).push(t),this.clearGcTimeout(),E(this,Ft).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,ln,E(this,ln).filter(r=>r!==t)),this.scheduleGc(),E(this,Ft).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,ln).length||(this.state.status==="pending"?this.scheduleGc():E(this,Ft).remove(this))}continue(){var t;return((t=E(this,Ca))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,d,u,f,m,p,x,g,w,b,v,y,j,N,_,S,k;const r=()=>{_e(this,cn,ss).call(this,{type:"continue"})};se(this,Ca,Dj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,C)=>{_e(this,cn,ss).call(this,{type:"failed",failureCount:A,error:C})},onPause:()=>{_e(this,cn,ss).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Ft).canRun(this)}));const n=this.state.status==="pending",s=!E(this,Ca).canStart();try{if(n)r();else{_e(this,cn,ss).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=E(this,Ft).config).onMutate)==null?void 0:i.call(o,t,this));const C=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));C!==this.state.context&&_e(this,cn,ss).call(this,{type:"pending",context:C,variables:t,isPaused:s})}const A=await E(this,Ca).start();return await((u=(d=E(this,Ft).config).onSuccess)==null?void 0:u.call(d,A,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,A,t,this.state.context)),await((x=(p=E(this,Ft).config).onSettled)==null?void 0:x.call(p,A,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,A,null,t,this.state.context)),_e(this,cn,ss).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(b=E(this,Ft).config).onError)==null?void 0:v.call(b,A,t,this.state.context,this)),await((j=(y=this.options).onError)==null?void 0:j.call(y,A,t,this.state.context)),await((_=(N=E(this,Ft).config).onSettled)==null?void 0:_.call(N,void 0,A,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,A,t,this.state.context)),A}finally{_e(this,cn,ss).call(this,{type:"error",error:A})}}finally{E(this,Ft).runNext(this)}}},ln=new WeakMap,Ft=new WeakMap,Ca=new WeakMap,cn=new WeakSet,ss=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xt.batch(()=>{E(this,ln).forEach(n=>{n.onMutationUpdate(t)}),E(this,Ft).notify({mutation:this,type:"updated",action:t})})},I0);function Fj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rn,qr,ic,D0,LO=(D0=class extends Ri{constructor(t={}){super();fe(this,Rn);fe(this,qr);fe(this,ic);this.config=t,se(this,Rn,new Set),se(this,qr,new Map),se(this,ic,0)}build(t,r,n){const s=new $O({mutationCache:this,mutationId:++Ac(this,ic)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){E(this,Rn).add(t);const r=td(t);if(typeof r=="string"){const n=E(this,qr).get(r);n?n.push(t):E(this,qr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,Rn).delete(t)){const r=td(t);if(typeof r=="string"){const n=E(this,qr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&E(this,qr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=td(t);if(typeof r=="string"){const n=E(this,qr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=td(t);if(typeof r=="string"){const s=(n=E(this,qr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xt.batch(()=>{E(this,Rn).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,Rn).clear(),E(this,qr).clear()})}getAll(){return Array.from(E(this,Rn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ly(r,n))}findAll(t={}){return this.getAll().filter(r=>ly(t,r))}notify(t){xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Bt))))}},Rn=new WeakMap,qr=new WeakMap,ic=new WeakMap,D0);function td(e){var t;return(t=e.options.scope)==null?void 0:t.id}function uy(e){return{onFetch:(t,r)=>{var u,f,m,p,x;const n=t.options,s=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=Oj(t.options,t.fetchOptions),v=async(y,j,N)=>{if(g)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(P),P})(),k=await b(S),{maxPages:A}=t.options,C=N?EO:CO;return{pages:C(y.pages,k,A),pageParams:C(y.pageParams,j,A)}};if(s&&o.length){const y=s==="backward",j=y?FO:hy,N={pages:o,pageParams:i},_=j(n,N);l=await v(N,_,y)}else{const y=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:hy(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function hy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function FO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var tt,gs,vs,Yo,Xo,xs,Zo,Jo,$0,zO=($0=class{constructor(e={}){fe(this,tt);fe(this,gs);fe(this,vs);fe(this,Yo);fe(this,Xo);fe(this,xs);fe(this,Zo);fe(this,Jo);se(this,tt,e.queryCache||new DO),se(this,gs,e.mutationCache||new LO),se(this,vs,e.defaultOptions||{}),se(this,Yo,new Map),se(this,Xo,new Map),se(this,xs,0)}mount(){Ac(this,xs)._++,E(this,xs)===1&&(se(this,Zo,zg.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,tt).onFocus())})),se(this,Jo,cu.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,tt).onOnline())})))}unmount(){var e,t;Ac(this,xs)._--,E(this,xs)===0&&((e=E(this,Zo))==null||e.call(this),se(this,Zo,void 0),(t=E(this,Jo))==null||t.call(this),se(this,Jo,void 0))}isFetching(e){return E(this,tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,gs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,tt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=E(this,tt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ds(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return E(this,tt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=E(this,tt).get(n.queryHash),o=s==null?void 0:s.state.data,i=SO(t,o);if(i!==void 0)return E(this,tt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return xt.batch(()=>E(this,tt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,tt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=E(this,tt);xt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=E(this,tt);return xt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=xt.batch(()=>E(this,tt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Bt).catch(Bt)}invalidateQueries(e,t={}){return xt.batch(()=>(E(this,tt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=xt.batch(()=>E(this,tt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Bt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Bt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=E(this,tt).build(this,t);return r.isStaleByTime(Ds(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bt).catch(Bt)}fetchInfiniteQuery(e){return e.behavior=uy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bt).catch(Bt)}ensureInfiniteQueryData(e){return e.behavior=uy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return cu.isOnline()?E(this,gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,tt)}getMutationCache(){return E(this,gs)}getDefaultOptions(){return E(this,vs)}setDefaultOptions(e){se(this,vs,e)}setQueryDefaults(e,t){E(this,Yo).set(Va(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,Yo).values()],r={};return t.forEach(n=>{Kl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){E(this,Xo).set(Va(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,Xo).values()],r={};return t.forEach(n=>{Kl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,vs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,vs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,tt).clear(),E(this,gs).clear()}},tt=new WeakMap,gs=new WeakMap,vs=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,xs=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,$0),Yt,Pe,lc,zt,Ea,ei,ys,ws,cc,ti,ri,Pa,Ta,bs,ni,Ie,rl,zm,Um,Bm,qm,Vm,Wm,Hm,zj,L0,UO=(L0=class extends Ri{constructor(t,r){super();fe(this,Ie);fe(this,Yt);fe(this,Pe);fe(this,lc);fe(this,zt);fe(this,Ea);fe(this,ei);fe(this,ys);fe(this,ws);fe(this,cc);fe(this,ti);fe(this,ri);fe(this,Pa);fe(this,Ta);fe(this,bs);fe(this,ni,new Set);this.options=r,se(this,Yt,t),se(this,ws,null),se(this,ys,Fm()),this.options.experimental_prefetchInRender||E(this,ys).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Pe).addObserver(this),fy(E(this,Pe),this.options)?_e(this,Ie,rl).call(this):this.updateResult(),_e(this,Ie,qm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Gm(E(this,Pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Gm(E(this,Pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,Ie,Vm).call(this),_e(this,Ie,Wm).call(this),E(this,Pe).removeObserver(this)}setOptions(t){const r=this.options,n=E(this,Pe);if(this.options=E(this,Yt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nr(this.options.enabled,E(this,Pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,Ie,Hm).call(this),E(this,Pe).setOptions(this.options),r._defaulted&&!lu(this.options,r)&&E(this,Yt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Pe),observer:this});const s=this.hasListeners();s&&my(E(this,Pe),n,this.options,r)&&_e(this,Ie,rl).call(this),this.updateResult(),s&&(E(this,Pe)!==n||Nr(this.options.enabled,E(this,Pe))!==Nr(r.enabled,E(this,Pe))||Ds(this.options.staleTime,E(this,Pe))!==Ds(r.staleTime,E(this,Pe)))&&_e(this,Ie,zm).call(this);const o=_e(this,Ie,Um).call(this);s&&(E(this,Pe)!==n||Nr(this.options.enabled,E(this,Pe))!==Nr(r.enabled,E(this,Pe))||o!==E(this,bs))&&_e(this,Ie,Bm).call(this,o)}getOptimisticResult(t){const r=E(this,Yt).getQueryCache().build(E(this,Yt),t),n=this.createResult(r,t);return qO(this,n)&&(se(this,zt,n),se(this,ei,this.options),se(this,Ea,E(this,Pe).state)),n}getCurrentResult(){return E(this,zt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){E(this,ni).add(t)}getCurrentQuery(){return E(this,Pe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=E(this,Yt).defaultQueryOptions(t),n=E(this,Yt).getQueryCache().build(E(this,Yt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return _e(this,Ie,rl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,zt)))}createResult(t,r){var A;const n=E(this,Pe),s=this.options,o=E(this,zt),i=E(this,Ea),l=E(this,ei),d=t!==n?t.state:E(this,lc),{state:u}=t;let f={...u},m=!1,p;if(r._optimisticResults){const C=this.hasListeners(),P=!C&&fy(t,r),D=C&&my(t,n,r,s);(P||D)&&(f={...f,...Lj(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=f;p=f.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let C;o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(C=o.data,b=!0):C=typeof r.placeholderData=="function"?r.placeholderData((A=E(this,ri))==null?void 0:A.state.data,E(this,ri)):r.placeholderData,C!==void 0&&(w="success",p=Lm(o==null?void 0:o.data,C,r),m=!0)}if(r.select&&p!==void 0&&!b)if(o&&p===(i==null?void 0:i.data)&&r.select===E(this,cc))p=E(this,ti);else try{se(this,cc,r.select),p=r.select(p),p=Lm(o==null?void 0:o.data,p,r),se(this,ti,p),se(this,ws,null)}catch(C){se(this,ws,C)}E(this,ws)&&(x=E(this,ws),p=E(this,ti),g=Date.now(),w="error");const v=f.fetchStatus==="fetching",y=w==="pending",j=w==="error",N=y&&v,_=p!==void 0,k={status:w,fetchStatus:f.fetchStatus,isPending:y,isSuccess:w==="success",isError:j,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&_,isStale:Ug(t,r),refetch:this.refetch,promise:E(this,ys),isEnabled:Nr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=U=>{k.status==="error"?U.reject(k.error):k.data!==void 0&&U.resolve(k.data)},P=()=>{const U=se(this,ys,k.promise=Fm());C(U)},D=E(this,ys);switch(D.status){case"pending":t.queryHash===n.queryHash&&C(D);break;case"fulfilled":(k.status==="error"||k.data!==D.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==D.reason)&&P();break}}return k}updateResult(){const t=E(this,zt),r=this.createResult(E(this,Pe),this.options);if(se(this,Ea,E(this,Pe).state),se(this,ei,this.options),E(this,Ea).data!==void 0&&se(this,ri,E(this,Pe)),lu(r,t))return;se(this,zt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!E(this,ni).size)return!0;const i=new Set(o??E(this,ni));return this.options.throwOnError&&i.add("error"),Object.keys(E(this,zt)).some(l=>{const c=l;return E(this,zt)[c]!==t[c]&&i.has(c)})};_e(this,Ie,zj).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,Ie,qm).call(this)}},Yt=new WeakMap,Pe=new WeakMap,lc=new WeakMap,zt=new WeakMap,Ea=new WeakMap,ei=new WeakMap,ys=new WeakMap,ws=new WeakMap,cc=new WeakMap,ti=new WeakMap,ri=new WeakMap,Pa=new WeakMap,Ta=new WeakMap,bs=new WeakMap,ni=new WeakMap,Ie=new WeakSet,rl=function(t){_e(this,Ie,Hm).call(this);let r=E(this,Pe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Bt)),r},zm=function(){_e(this,Ie,Vm).call(this);const t=Ds(this.options.staleTime,E(this,Pe));if(qa||E(this,zt).isStale||!Dm(t))return;const n=Tj(E(this,zt).dataUpdatedAt,t)+1;se(this,Pa,setTimeout(()=>{E(this,zt).isStale||this.updateResult()},n))},Um=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Pe)):this.options.refetchInterval)??!1},Bm=function(t){_e(this,Ie,Wm).call(this),se(this,bs,t),!(qa||Nr(this.options.enabled,E(this,Pe))===!1||!Dm(E(this,bs))||E(this,bs)===0)&&se(this,Ta,setInterval(()=>{(this.options.refetchIntervalInBackground||zg.isFocused())&&_e(this,Ie,rl).call(this)},E(this,bs)))},qm=function(){_e(this,Ie,zm).call(this),_e(this,Ie,Bm).call(this,_e(this,Ie,Um).call(this))},Vm=function(){E(this,Pa)&&(clearTimeout(E(this,Pa)),se(this,Pa,void 0))},Wm=function(){E(this,Ta)&&(clearInterval(E(this,Ta)),se(this,Ta,void 0))},Hm=function(){const t=E(this,Yt).getQueryCache().build(E(this,Yt),this.options);if(t===E(this,Pe))return;const r=E(this,Pe);se(this,Pe,t),se(this,lc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},zj=function(t){xt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(E(this,zt))}),E(this,Yt).getQueryCache().notify({query:E(this,Pe),type:"observerResultsUpdated"})})},L0);function BO(e,t){return Nr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function fy(e,t){return BO(e,t)||e.state.data!==void 0&&Gm(e,t,t.refetchOnMount)}function Gm(e,t,r){if(Nr(t.enabled,e)!==!1&&Ds(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ug(e,t)}return!1}function my(e,t,r,n){return(e!==t||Nr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ug(e,r)}function Ug(e,t){return Nr(t.enabled,e)!==!1&&e.isStaleByTime(Ds(t.staleTime,e))}function qO(e,t){return!lu(e.getCurrentResult(),t)}var js,_s,Xt,On,Ln,kd,Km,F0,VO=(F0=class extends Ri{constructor(r,n){super();fe(this,Ln);fe(this,js);fe(this,_s);fe(this,Xt);fe(this,On);se(this,js,r),this.setOptions(n),this.bindMethods(),_e(this,Ln,kd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=E(this,js).defaultMutationOptions(r),lu(this.options,n)||E(this,js).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Xt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Va(n.mutationKey)!==Va(this.options.mutationKey)?this.reset():((s=E(this,Xt))==null?void 0:s.state.status)==="pending"&&E(this,Xt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,Xt))==null||r.removeObserver(this)}onMutationUpdate(r){_e(this,Ln,kd).call(this),_e(this,Ln,Km).call(this,r)}getCurrentResult(){return E(this,_s)}reset(){var r;(r=E(this,Xt))==null||r.removeObserver(this),se(this,Xt,void 0),_e(this,Ln,kd).call(this),_e(this,Ln,Km).call(this)}mutate(r,n){var s;return se(this,On,n),(s=E(this,Xt))==null||s.removeObserver(this),se(this,Xt,E(this,js).getMutationCache().build(E(this,js),this.options)),E(this,Xt).addObserver(this),E(this,Xt).execute(r)}},js=new WeakMap,_s=new WeakMap,Xt=new WeakMap,On=new WeakMap,Ln=new WeakSet,kd=function(){var n;const r=((n=E(this,Xt))==null?void 0:n.state)??Fj();se(this,_s,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Km=function(r){xt.batch(()=>{var n,s,o,i,l,c,d,u;if(E(this,On)&&this.hasListeners()){const f=E(this,_s).variables,m=E(this,_s).context;(r==null?void 0:r.type)==="success"?((s=(n=E(this,On)).onSuccess)==null||s.call(n,r.data,f,m),(i=(o=E(this,On)).onSettled)==null||i.call(o,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=E(this,On)).onError)==null||c.call(l,r.error,f,m),(u=(d=E(this,On)).onSettled)==null||u.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(E(this,_s))})})},F0),Uj=h.createContext(void 0),sh=e=>{const t=h.useContext(Uj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},WO=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Uj.Provider,{value:e,children:t})),Bj=h.createContext(!1),HO=()=>h.useContext(Bj);Bj.Provider;function GO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var KO=h.createContext(GO()),QO=()=>h.useContext(KO),YO=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},XO=e=>{h.useEffect(()=>{e.clearReset()},[e])},ZO=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Aj(r,[e.error,n])),JO=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eA=(e,t)=>e.isLoading&&e.isFetching&&!t,tA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,py=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rA(e,t,r){var f,m,p,x,g;const n=HO(),s=QO(),o=sh(),i=o.defaultQueryOptions(e);(m=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",JO(i),YO(i,s),XO(s);const l=!o.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(o,i)),d=c.getOptimisticResult(i),u=!n&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(w=>{const b=u?c.subscribe(xt.batchCalls(w)):Bt;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i)},[i,c]),tA(i,d))throw py(i,c,s);if(ZO({result:d,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((x=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,i,d),i.experimental_prefetchInRender&&!qa&&eA(d,n)){const w=l?py(i,c,s):(g=o.getQueryCache().get(i.queryHash))==null?void 0:g.promise;w==null||w.catch(Bt).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function En(e,t){return rA(e,UO)}function qo(e,t){const r=sh(),[n]=h.useState(()=>new VO(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const s=h.useSyncExternalStore(h.useCallback(i=>n.subscribe(xt.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=h.useCallback((i,l)=>{n.mutate(i,l).catch(Bt)},[n]);if(s.error&&Aj(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}var ks;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ks||(ks={}));const gy="popstate";function nA(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return Qm("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:du(s)}return aA(t,r,null,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sA(){return Math.random().toString(36).substr(2,8)}function vy(e,t){return{usr:e.state,key:e.key,idx:t}}function Qm(e,t,r,n){return r===void 0&&(r=null),Ql({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oi(t):t,{state:r,key:t&&t.key||n||sA()})}function du(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aA(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=ks.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Ql({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function f(){l=ks.Pop;let w=u(),b=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:b})}function m(w,b){l=ks.Push;let v=Qm(g.location,w,b);d=u()+1;let y=vy(v,d),j=g.createHref(v);try{i.pushState(y,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(w,b){l=ks.Replace;let v=Qm(g.location,w,b);d=u();let y=vy(v,d),j=g.createHref(v);i.replaceState(y,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function x(w){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:du(w);return v=v.replace(/ $/,"%20"),lt(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gy,f),c=w,()=>{s.removeEventListener(gy,f),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let b=x(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(w){return i.go(w)}};return g}var xy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xy||(xy={}));function oA(e,t,r){return r===void 0&&(r="/"),iA(e,t,r)}function iA(e,t,r,n){let s=typeof t=="string"?Oi(t):t,o=Bg(s.pathname||"/",r);if(o==null)return null;let i=Vj(e);lA(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=wA(o);l=vA(i[c],d)}return l}function Vj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(lt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=$s([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Vj(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:pA(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of Wj(o.path))s(o,i,c)}),t}function Wj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Wj(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function lA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cA=/^:[\w-]+$/,dA=3,uA=2,hA=1,fA=10,mA=-2,yy=e=>e==="*";function pA(e,t){let r=e.split("/"),n=r.length;return r.some(yy)&&(n+=mA),t&&(n+=uA),r.filter(s=>!yy(s)).reduce((s,o)=>s+(cA.test(o)?dA:o===""?hA:fA),n)}function gA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function vA(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",f=xA({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:$s([o,f.pathname]),pathnameBase:NA($s([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=$s([o,f.pathnameBase]))}return i}function xA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yA(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let g=l[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function yA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function wA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function bA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Oi(e):e;return{pathname:r?r.startsWith("/")?r:jA(r,t):t,search:SA(n),hash:kA(s)}}function jA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function hf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _A(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qg(e,t){let r=_A(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Vg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Oi(e):(s=Ql({},e),lt(!s.pathname||!s.pathname.includes("?"),hf("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),hf("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),hf("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=bA(s,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),NA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hj=["post","put","patch","delete"];new Set(Hj);const EA=["get",...Hj];new Set(EA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}const Wg=h.createContext(null),PA=h.createContext(null),ea=h.createContext(null),ah=h.createContext(null),Kn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Gj=h.createContext(null);function TA(e,t){let{relative:r}=t===void 0?{}:t;Ai()||lt(!1);let{basename:n,navigator:s}=h.useContext(ea),{hash:o,pathname:i,search:l}=Yj(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:$s([n,i])),s.createHref({pathname:c,search:l,hash:o})}function Ai(){return h.useContext(ah)!=null}function ta(){return Ai()||lt(!1),h.useContext(ah).location}function Kj(e){h.useContext(ea).static||h.useLayoutEffect(e)}function Ot(){let{isDataRoute:e}=h.useContext(Kn);return e?qA():RA()}function RA(){Ai()||lt(!1);let e=h.useContext(Wg),{basename:t,future:r,navigator:n}=h.useContext(ea),{matches:s}=h.useContext(Kn),{pathname:o}=ta(),i=JSON.stringify(qg(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return Kj(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=Vg(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$s([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,o,e])}function Qj(){let{matches:e}=h.useContext(Kn),t=e[e.length-1];return t?t.params:{}}function Yj(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(ea),{matches:s}=h.useContext(Kn),{pathname:o}=ta(),i=JSON.stringify(qg(s,n.v7_relativeSplatPath));return h.useMemo(()=>Vg(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function OA(e,t){return AA(e,t)}function AA(e,t,r,n){Ai()||lt(!1);let{navigator:s}=h.useContext(ea),{matches:o}=h.useContext(Kn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=ta(),u;if(t){var f;let w=typeof t=="string"?Oi(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||lt(!1),u=w}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=oA(e,{pathname:p}),g=LA(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:$s([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:$s([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&g?h.createElement(ah.Provider,{value:{location:Yl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ks.Pop}},g):g}function MA(){let e=BA(),t=CA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const IA=h.createElement(MA,null);class DA extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Kn.Provider,{value:this.props.routeContext},h.createElement(Gj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $A(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(Wg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Kn.Provider,{value:t},n)}function LA(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||lt(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:p}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,m)=>{let p,x=!1,g=null,w=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||IA,c&&(d<0&&m===0?(VA("route-fallback"),x=!0,w=null):d===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,m+1)),v=()=>{let y;return p?y=g:x?y=w:f.route.Component?y=h.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=u,h.createElement($A,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(DA,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var Xj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xj||{}),Zj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zj||{});function FA(e){let t=h.useContext(Wg);return t||lt(!1),t}function zA(e){let t=h.useContext(PA);return t||lt(!1),t}function UA(e){let t=h.useContext(Kn);return t||lt(!1),t}function Jj(e){let t=UA(),r=t.matches[t.matches.length-1];return r.route.id||lt(!1),r.route.id}function BA(){var e;let t=h.useContext(Gj),r=zA(),n=Jj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qA(){let{router:e}=FA(Xj.UseNavigateStable),t=Jj(Zj.UseNavigateStable),r=h.useRef(!1);return Kj(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Yl({fromRouteId:t},o)))},[e,t])}const wy={};function VA(e,t,r){wy[e]||(wy[e]=!0)}function WA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ra(e){let{to:t,replace:r,state:n,relative:s}=e;Ai()||lt(!1);let{future:o,static:i}=h.useContext(ea),{matches:l}=h.useContext(Kn),{pathname:c}=ta(),d=Ot(),u=Vg(t,qg(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:s}),[d,f,s,r,n]),null}function ot(e){lt(!1)}function HA(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ks.Pop,navigator:o,static:i=!1,future:l}=e;Ai()&&lt(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:o,static:i,future:Yl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Oi(n));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:x="default"}=n,g=h.useMemo(()=>{let w=Bg(u,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:p,key:x},navigationType:s}},[c,u,f,m,p,x,s]);return g==null?null:h.createElement(ea.Provider,{value:d},h.createElement(ah.Provider,{children:r,value:g}))}function GA(e){let{children:t,location:r}=e;return OA(Ym(t),r)}new Promise(()=>{});function Ym(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Ym(n.props.children,o));return}n.type!==ot&&lt(!1),!n.props.index||!n.props.children||lt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ym(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(this,arguments)}function KA(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function QA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YA(e,t){return e.button===0&&(!t||t==="_self")&&!QA(e)}function Zm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function XA(e,t){let r=Zm(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const ZA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JA="6";try{window.__reactRouterVersion=JA}catch{}const eM="startTransition",by=Ep[eM];function tM(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=nA({window:s,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=h.useCallback(f=>{d&&by?by(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>i.listen(u),[i,u]),h.useEffect(()=>WA(n),[n]),h.createElement(HA,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const rM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=KA(t,ZA),{basename:p}=h.useContext(ea),x,g=!1;if(typeof d=="string"&&nM.test(d)&&(x=d,rM))try{let y=new URL(window.location.href),j=d.startsWith("//")?new URL(y.protocol+d):new URL(d),N=Bg(j.pathname,p);j.origin===y.origin&&N!=null?d=N+j.search+j.hash:g=!0}catch{}let w=TA(d,{relative:s}),b=sM(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:f});function v(y){n&&n(y),y.defaultPrevented||b(y)}return h.createElement("a",Xm({},m,{href:x||w,onClick:g||o?n:v,ref:r,target:c}))});var jy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jy||(jy={}));var _y;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_y||(_y={}));function sM(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Ot(),d=ta(),u=Yj(e,{relative:i});return h.useCallback(f=>{if(YA(f,r)){f.preventDefault();let m=n!==void 0?n:du(d)===du(u);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,n,s,r,e,o,i,l])}function Hg(e){let t=h.useRef(Zm(e)),r=h.useRef(!1),n=ta(),s=h.useMemo(()=>XA(n.search,r.current?null:t.current),[n.search]),o=Ot(),i=h.useCallback((l,c)=>{const d=Zm(typeof l=="function"?l(s):l);r.current=!0,o("?"+d,c)},[o,s]);return[s,i]}const e_=h.createContext(void 0),t_=()=>{const e=h.useContext(e_);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},aM=({children:e,defaultTheme:t="light"})=>{const[r,n]=h.useState(()=>localStorage.getItem("orkadia-theme")||t);h.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark","christmas","new-year"),i.classList.add(r),localStorage.setItem("orkadia-theme",r)},[r]);const o={theme:r,setTheme:n,toggleTheme:()=>{n(i=>{switch(i){case"light":return"dark";case"dark":return"light";case"christmas":return"new-year";case"new-year":return"christmas";default:return"light"}})}};return a.jsx(e_.Provider,{value:o,children:e})},oM=()=>a.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[Array.from({length:50}).map((e,t)=>a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-snowfall opacity-60",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*10}s`,animationDuration:`${10+Math.random()*10}s`}},t)),a.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-red-500 via-green-500 to-red-500 opacity-30"}),Array.from({length:20}).map((e,t)=>a.jsx("div",{className:"absolute w-2 h-2 bg-yellow-300 rounded-full animate-twinkle",style:{top:`${Math.random()*50}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`}},`star-${t}`))]}),iM=()=>a.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[Array.from({length:10}).map((e,t)=>a.jsx("div",{className:"absolute w-4 h-4 bg-gradient-to-r from-yellow-400 to-purple-500 rounded-full animate-fireworks",style:{top:`${20+Math.random()*60}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`}},`firework-${t}`)),Array.from({length:30}).map((e,t)=>a.jsx("div",{className:"absolute w-2 h-2 animate-confetti",style:{left:`${Math.random()*100}%`,backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"][Math.floor(Math.random()*5)],animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*4}s`}},`confetti-${t}`)),Array.from({length:25}).map((e,t)=>a.jsx("div",{className:"absolute w-1 h-1 bg-yellow-300 rounded-full animate-sparkle",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`}},`sparkle-${t}`)),a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 opacity-50"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 opacity-50"})]}),lM=()=>{const{theme:e}=t_();switch(e){case"christmas":return a.jsx(oM,{});case"new-year":return a.jsx(iM,{});default:return null}},cM="/assets/global-background-B97sj5hZ.png",r_=({children:e,className:t=""})=>a.jsxs("div",{className:`min-h-screen relative ${t}`,children:[a.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:`url(${cM})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-black/5 via-transparent to-black/10 z-1 pointer-events-none"}),a.jsx("div",{className:"relative z-10 min-h-screen",children:e})]}),dM=Ku("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?lP:"button";return a.jsx(i,{className:le(dM({variant:t,size:r,className:e})),ref:o,...s})});$.displayName="Button";var uM=h.createContext(void 0);function xc(e){const t=h.useContext(uM);return e||t||"ltr"}var ff=0;function oh(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ny()),document.body.insertAdjacentElement("beforeend",e[1]??Ny()),ff++,()=>{ff===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ff--}},[])}function Ny(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mf="focusScope.autoFocusOnMount",pf="focusScope.autoFocusOnUnmount",Sy={bubbles:!1,cancelable:!0},hM="FocusScope",yc=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=nt(s),u=nt(o),f=h.useRef(null),m=Se(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(y){if(p.paused||!l)return;const j=y.target;l.contains(j)?f.current=j:as(f.current,{select:!0})},w=function(y){if(p.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||as(f.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const N of y)N.removedNodes.length>0&&as(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){Cy.add(p);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(mf,Sy);l.addEventListener(mf,d),l.dispatchEvent(b),b.defaultPrevented||(fM(xM(n_(l)),{select:!0}),document.activeElement===g&&as(l))}return()=>{l.removeEventListener(mf,d),setTimeout(()=>{const b=new CustomEvent(pf,Sy);l.addEventListener(pf,u),l.dispatchEvent(b),b.defaultPrevented||as(g??document.body,{select:!0}),l.removeEventListener(pf,u),Cy.remove(p)},0)}}},[l,d,u,p]);const x=h.useCallback(g=>{if(!r&&!n||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(w&&b){const v=g.currentTarget,[y,j]=mM(v);y&&j?!g.shiftKey&&b===j?(g.preventDefault(),r&&as(y,{select:!0})):g.shiftKey&&b===y&&(g.preventDefault(),r&&as(j,{select:!0})):b===v&&g.preventDefault()}},[r,n,p.paused]);return a.jsx(ue.div,{tabIndex:-1,...i,ref:m,onKeyDown:x})});yc.displayName=hM;function fM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(as(n,{select:t}),document.activeElement!==r)return}function mM(e){const t=n_(e),r=ky(t,e),n=ky(t.reverse(),e);return[r,n]}function n_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ky(e,t){for(const r of e)if(!pM(r,{upTo:t}))return r}function pM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gM(e){return e instanceof HTMLInputElement&&"select"in e}function as(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&gM(e)&&t&&e.select()}}var Cy=vM();function vM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ey(e,t),e.unshift(t)},remove(t){var r;e=Ey(e,t),(r=e[0])==null||r.resume()}}}function Ey(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function xM(e){return e.filter(t=>t.tagName!=="A")}var gf="rovingFocusGroup.onEntryFocus",yM={bubbles:!1,cancelable:!0},wc="RovingFocusGroup",[Jm,s_,wM]=Wu(wc),[bM,ih]=ir(wc,[wM]),[jM,_M]=bM(wc),a_=h.forwardRef((e,t)=>a.jsx(Jm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Jm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(NM,{...e,ref:t})})}));a_.displayName=wc;var NM=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),p=Se(t,m),x=xc(o),[g,w]=Bs({prop:i,defaultProp:l??null,onChange:c,caller:wc}),[b,v]=h.useState(!1),y=nt(d),j=s_(r),N=h.useRef(!1),[_,S]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(gf,y),()=>k.removeEventListener(gf,y)},[y]),a.jsx(jM,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(k=>w(k),[w]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>S(k=>k-1),[]),children:a.jsx(ue.div,{tabIndex:b||_===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{N.current=!0}),onFocus:Q(e.onFocus,k=>{const A=!N.current;if(k.target===k.currentTarget&&A&&!b){const C=new CustomEvent(gf,yM);if(k.currentTarget.dispatchEvent(C),!C.defaultPrevented){const P=j().filter(R=>R.focusable),D=P.find(R=>R.active),U=P.find(R=>R.id===g),q=[D,U,...P].filter(Boolean).map(R=>R.ref.current);l_(q,u)}}N.current=!1}),onBlur:Q(e.onBlur,()=>v(!1))})})}),o_="RovingFocusGroupItem",i_=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Qr(),d=o||c,u=_M(o_,r),f=u.currentTabStopId===d,m=s_(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),a.jsx(Jm.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:a.jsx(ue.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Q(e.onMouseDown,w=>{n?u.onItemFocus(d):w.preventDefault()}),onFocus:Q(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Q(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=CM(w,u.orientation,u.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=m().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const j=y.indexOf(w.currentTarget);y=u.loop?EM(y,j+1):y.slice(j+1)}setTimeout(()=>l_(y))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});i_.displayName=o_;var SM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CM(e,t,r){const n=kM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return SM[n]}function l_(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function EM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var c_=a_,d_=i_,PM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},oo=new WeakMap,rd=new WeakMap,nd={},vf=0,u_=function(e){return e&&(e.host||u_(e.parentNode))},TM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=u_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},RM=function(e,t,r,n){var s=TM(t,Array.isArray(e)?e:[e]);nd[r]||(nd[r]=new WeakMap);var o=nd[r],i=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),x=p!==null&&p!=="false",g=(oo.get(m)||0)+1,w=(o.get(m)||0)+1;oo.set(m,g),o.set(m,w),i.push(m),g===1&&x&&rd.set(m,!0),w===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return u(t),l.clear(),vf++,function(){i.forEach(function(f){var m=oo.get(f)-1,p=o.get(f)-1;oo.set(f,m),o.set(f,p),m||(rd.has(f)||f.removeAttribute(n),rd.delete(f)),p||f.removeAttribute(r)}),vf--,vf||(oo=new WeakMap,oo=new WeakMap,rd=new WeakMap,nd={})}},lh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=PM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),RM(n,s,r,"aria-hidden")):function(){return null}},hn=function(){return hn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},hn.apply(this,arguments)};function h_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function OM(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Cd="right-scroll-bar-position",Ed="width-before-scroll-bar",AM="with-scroll-bars-hidden",MM="--removed-body-scroll-bar-size";function xf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IM(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var DM=typeof window<"u"?h.useLayoutEffect:h.useEffect,Py=new WeakMap;function $M(e,t){var r=IM(null,function(n){return e.forEach(function(s){return xf(s,n)})});return DM(function(){var n=Py.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||xf(l,null)}),o.forEach(function(l){s.has(l)||xf(l,i)})}Py.set(r,e)},[e]),r}function LM(e){return e}function FM(e,t){t===void 0&&(t=LM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),r}}}};return s}function zM(e){e===void 0&&(e={});var t=FM(null);return t.options=hn({async:!0,ssr:!1},e),t}var f_=function(e){var t=e.sideCar,r=h_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,hn({},r))};f_.isSideCarExport=!0;function UM(e,t){return e.useMedium(t),f_}var m_=zM(),yf=function(){},ch=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:yf,onWheelCapture:yf,onTouchMoveCapture:yf}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,w=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=e.gapMode,j=h_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,_=$M([r,t]),S=hn(hn({},j),s);return h.createElement(h.Fragment,null,u&&h.createElement(N,{sideCar:m_,removeScrollBar:d,shards:f,noRelative:p,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!w,lockRef:r,gapMode:y}),i?h.cloneElement(h.Children.only(l),hn(hn({},S),{ref:_})):h.createElement(v,hn({},S,{className:c,ref:_}),l))});ch.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ch.classNames={fullWidth:Ed,zeroRight:Cd};var BM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BM();return t&&e.setAttribute("nonce",t),e}function VM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function WM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qM())&&(VM(t,r),WM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GM=function(){var e=HM();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},p_=function(){var e=GM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},KM={left:0,top:0,right:0,gap:0},wf=function(e){return parseInt(e||"",10)||0},QM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[wf(r),wf(n),wf(s)]},YM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KM;var t=QM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},XM=p_(),Vo="data-scroll-locked",ZM=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(AM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Vo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cd,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cd," .").concat(Cd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vo,`] {
    `).concat(MM,": ").concat(l,`px;
  }
`)},Ty=function(){var e=parseInt(document.body.getAttribute(Vo)||"0",10);return isFinite(e)?e:0},JM=function(){h.useEffect(function(){return document.body.setAttribute(Vo,(Ty()+1).toString()),function(){var e=Ty()-1;e<=0?document.body.removeAttribute(Vo):document.body.setAttribute(Vo,e.toString())}},[])},eI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;JM();var o=h.useMemo(function(){return YM(s)},[s]);return h.createElement(XM,{styles:ZM(o,!t,s,r?"":"!important")})},ep=!1;if(typeof window<"u")try{var sd=Object.defineProperty({},"passive",{get:function(){return ep=!0,!0}});window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{ep=!1}var io=ep?{passive:!1}:!1,tI=function(e){return e.tagName==="TEXTAREA"},g_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tI(e)&&r[t]==="visible")},rI=function(e){return g_(e,"overflowY")},nI=function(e){return g_(e,"overflowX")},Ry=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=v_(e,n);if(s){var o=x_(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},sI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},aI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},v_=function(e,t){return e==="v"?rI(t):nI(t)},x_=function(e,t){return e==="v"?sI(t):aI(t)},oI=function(e,t){return e==="h"&&t==="rtl"?-1:1},iI=function(e,t,r,n,s){var o=oI(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),d=!1,u=i>0,f=0,m=0;do{if(!l)break;var p=x_(e,l),x=p[0],g=p[1],w=p[2],b=g-w-o*x;(x||b)&&v_(e,l)&&(f+=b,m+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(m)<1)&&(d=!0),d},ad=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Oy=function(e){return[e.deltaX,e.deltaY]},Ay=function(e){return e&&"current"in e?e.current:e},lI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dI=0,lo=[];function uI(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(dI++)[0],o=h.useState(p_)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=OM([e.lockRef.current],(e.shards||[]).map(Ay),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var b=ad(g),v=r.current,y="deltaX"in g?g.deltaX:v[0]-b[0],j="deltaY"in g?g.deltaY:v[1]-b[1],N,_=g.target,S=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in g&&S==="h"&&_.type==="range")return!1;var k=Ry(S,_);if(!k)return!0;if(k?N=S:(N=S==="v"?"h":"v",k=Ry(S,_)),!k)return!1;if(!n.current&&"changedTouches"in g&&(y||j)&&(n.current=N),!N)return!0;var A=n.current||N;return iI(A,w,g,A==="h"?y:j)},[]),c=h.useCallback(function(g){var w=g;if(!(!lo.length||lo[lo.length-1]!==o)){var b="deltaY"in w?Oy(w):ad(w),v=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&lI(N.delta,b)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(Ay).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=y.length>0?l(w,y[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(g,w,b,v){var y={name:g,delta:w,target:b,should:v,shadowParent:hI(b)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),u=h.useCallback(function(g){r.current=ad(g),n.current=void 0},[]),f=h.useCallback(function(g){d(g.type,Oy(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,ad(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return lo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,io),document.addEventListener("touchmove",c,io),document.addEventListener("touchstart",u,io),function(){lo=lo.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,io),document.removeEventListener("touchmove",c,io),document.removeEventListener("touchstart",u,io)}},[]);var p=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(o,{styles:cI(s)}):null,p?h.createElement(eI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fI=UM(m_,uI);var bc=h.forwardRef(function(e,t){return h.createElement(ch,hn({},e,{ref:t,sideCar:fI}))});bc.classNames=ch.classNames;var tp=["Enter"," "],mI=["ArrowDown","PageUp","Home"],y_=["ArrowUp","PageDown","End"],pI=[...mI,...y_],gI={ltr:[...tp,"ArrowRight"],rtl:[...tp,"ArrowLeft"]},vI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jc="Menu",[Xl,xI,yI]=Wu(jc),[Za,w_]=ir(jc,[yI,Js,ih]),dh=Js(),b_=ih(),[wI,Ja]=Za(jc),[bI,_c]=Za(jc),j_=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=dh(t),[c,d]=h.useState(null),u=h.useRef(!1),f=nt(o),m=xc(s);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(Dg,{...l,children:a.jsx(wI,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:a.jsx(bI,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:i,children:n})})})};j_.displayName=jc;var jI="MenuAnchor",Gg=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=dh(r);return a.jsx(vc,{...s,...n,ref:t})});Gg.displayName=jI;var Kg="MenuPortal",[_I,__]=Za(Kg,{forceMount:void 0}),N_=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Ja(Kg,t);return a.jsx(_I,{scope:t,forceMount:r,children:a.jsx(Rt,{present:r||o.open,children:a.jsx(Ci,{asChild:!0,container:s,children:n})})})};N_.displayName=Kg;var Pr="MenuContent",[NI,Qg]=Za(Pr),S_=h.forwardRef((e,t)=>{const r=__(Pr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Ja(Pr,e.__scopeMenu),i=_c(Pr,e.__scopeMenu);return a.jsx(Xl.Provider,{scope:e.__scopeMenu,children:a.jsx(Rt,{present:n||o.open,children:a.jsx(Xl.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(SI,{...s,ref:t}):a.jsx(kI,{...s,ref:t})})})})}),SI=h.forwardRef((e,t)=>{const r=Ja(Pr,e.__scopeMenu),n=h.useRef(null),s=Se(t,n);return h.useEffect(()=>{const o=n.current;if(o)return lh(o)},[]),a.jsx(Yg,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),kI=h.forwardRef((e,t)=>{const r=Ja(Pr,e.__scopeMenu);return a.jsx(Yg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),CI=Us("MenuContent.ScrollLock"),Yg=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,w=Ja(Pr,r),b=_c(Pr,r),v=dh(r),y=b_(r),j=xI(r),[N,_]=h.useState(null),S=h.useRef(null),k=Se(t,S,w.onContentChange),A=h.useRef(0),C=h.useRef(""),P=h.useRef(0),D=h.useRef(null),U=h.useRef("right"),M=h.useRef(0),q=x?bc:h.Fragment,R=x?{as:CI,allowPinchZoom:!0}:void 0,B=T=>{var Y,Ne;const F=C.current+T,ee=j().filter(Z=>!Z.disabled),H=document.activeElement,re=(Y=ee.find(Z=>Z.ref.current===H))==null?void 0:Y.textValue,te=ee.map(Z=>Z.textValue),oe=FI(te,F,re),me=(Ne=ee.find(Z=>Z.textValue===oe))==null?void 0:Ne.ref.current;(function Z(he){C.current=he,window.clearTimeout(A.current),he!==""&&(A.current=window.setTimeout(()=>Z(""),1e3))})(F),me&&setTimeout(()=>me.focus())};h.useEffect(()=>()=>window.clearTimeout(A.current),[]),oh();const I=h.useCallback(T=>{var ee,H;return U.current===((ee=D.current)==null?void 0:ee.side)&&UI(T,(H=D.current)==null?void 0:H.area)},[]);return a.jsx(NI,{scope:r,searchRef:C,onItemEnter:h.useCallback(T=>{I(T)&&T.preventDefault()},[I]),onItemLeave:h.useCallback(T=>{var F;I(T)||((F=S.current)==null||F.focus(),_(null))},[I]),onTriggerLeave:h.useCallback(T=>{I(T)&&T.preventDefault()},[I]),pointerGraceTimerRef:P,onPointerGraceIntentChange:h.useCallback(T=>{D.current=T},[]),children:a.jsx(q,{...R,children:a.jsx(yc,{asChild:!0,trapped:s,onMountAutoFocus:Q(o,T=>{var F;T.preventDefault(),(F=S.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:a.jsx(c_,{asChild:!0,...y,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:Q(c,T=>{b.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(eh,{role:"menu","aria-orientation":"vertical","data-state":U_(w.open),"data-radix-menu-content":"",dir:b.dir,...v,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:Q(g.onKeyDown,T=>{const ee=T.target.closest("[data-radix-menu-content]")===T.currentTarget,H=T.ctrlKey||T.altKey||T.metaKey,re=T.key.length===1;ee&&(T.key==="Tab"&&T.preventDefault(),!H&&re&&B(T.key));const te=S.current;if(T.target!==te||!pI.includes(T.key))return;T.preventDefault();const me=j().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);y_.includes(T.key)&&me.reverse(),$I(me)}),onBlur:Q(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(A.current),C.current="")}),onPointerMove:Q(e.onPointerMove,Zl(T=>{const F=T.target,ee=M.current!==T.clientX;if(T.currentTarget.contains(F)&&ee){const H=T.clientX>M.current?"right":"left";U.current=H,M.current=T.clientX}}))})})})})})})});S_.displayName=Pr;var EI="MenuGroup",Xg=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{role:"group",...n,ref:t})});Xg.displayName=EI;var PI="MenuLabel",k_=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{...n,ref:t})});k_.displayName=PI;var uu="MenuItem",My="menu.itemSelect",uh=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=h.useRef(null),i=_c(uu,e.__scopeMenu),l=Qg(uu,e.__scopeMenu),c=Se(t,o),d=h.useRef(!1),u=()=>{const f=o.current;if(!r&&f){const m=new CustomEvent(My,{bubbles:!0,cancelable:!0});f.addEventListener(My,p=>n==null?void 0:n(p),{once:!0}),yg(f,m),m.defaultPrevented?d.current=!1:i.onClose()}};return a.jsx(C_,{...s,ref:c,disabled:r,onClick:Q(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:Q(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Q(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||tp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});uh.displayName=uu;var C_=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=Qg(uu,r),l=b_(r),c=h.useRef(null),d=Se(t,c),[u,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[o.children]),a.jsx(Xl.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:a.jsx(d_,{asChild:!0,...l,focusable:!n,children:a.jsx(ue.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:Q(e.onPointerMove,Zl(x=>{n?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,Zl(x=>i.onItemLeave(x))),onFocus:Q(e.onFocus,()=>f(!0)),onBlur:Q(e.onBlur,()=>f(!1))})})})}),TI="MenuCheckboxItem",E_=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(A_,{scope:e.__scopeMenu,checked:r,children:a.jsx(uh,{role:"menuitemcheckbox","aria-checked":hu(r)?"mixed":r,...s,ref:t,"data-state":Jg(r),onSelect:Q(s.onSelect,()=>n==null?void 0:n(hu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});E_.displayName=TI;var P_="MenuRadioGroup",[RI,OI]=Za(P_,{value:void 0,onValueChange:()=>{}}),T_=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=nt(n);return a.jsx(RI,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(Xg,{...s,ref:t})})});T_.displayName=P_;var R_="MenuRadioItem",O_=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=OI(R_,e.__scopeMenu),o=r===s.value;return a.jsx(A_,{scope:e.__scopeMenu,checked:o,children:a.jsx(uh,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Jg(o),onSelect:Q(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});O_.displayName=R_;var Zg="MenuItemIndicator",[A_,AI]=Za(Zg,{checked:!1}),M_=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=AI(Zg,r);return a.jsx(Rt,{present:n||hu(o.checked)||o.checked===!0,children:a.jsx(ue.span,{...s,ref:t,"data-state":Jg(o.checked)})})});M_.displayName=Zg;var MI="MenuSeparator",I_=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});I_.displayName=MI;var II="MenuArrow",D_=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=dh(r);return a.jsx(th,{...s,...n,ref:t})});D_.displayName=II;var DI="MenuSub",[hz,$_]=Za(DI),nl="MenuSubTrigger",L_=h.forwardRef((e,t)=>{const r=Ja(nl,e.__scopeMenu),n=_c(nl,e.__scopeMenu),s=$_(nl,e.__scopeMenu),o=Qg(nl,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Gg,{asChild:!0,...d,children:a.jsx(C_,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":U_(r.open),...e,ref:Vu(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,Zl(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Q(e.onPointerLeave,Zl(f=>{var p,x;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",b=w?-5:5,v=m[w?"left":"right"],y=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:m.top},{x:y,y:m.top},{x:y,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,f=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||gI[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});L_.displayName=nl;var F_="MenuSubContent",z_=h.forwardRef((e,t)=>{const r=__(Pr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Ja(Pr,e.__scopeMenu),i=_c(Pr,e.__scopeMenu),l=$_(F_,e.__scopeMenu),c=h.useRef(null),d=Se(t,c);return a.jsx(Xl.Provider,{scope:e.__scopeMenu,children:a.jsx(Rt,{present:n||o.open,children:a.jsx(Xl.Slot,{scope:e.__scopeMenu,children:a.jsx(Yg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Q(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:Q(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),m=vI[i.dir].includes(u.key);f&&m&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});z_.displayName=F_;function U_(e){return e?"open":"closed"}function hu(e){return e==="indeterminate"}function Jg(e){return hu(e)?"indeterminate":e?"checked":"unchecked"}function $I(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function LI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function FI(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=LI(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function zI(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(s=!s)}return s}function UI(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return zI(r,t)}function Zl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var BI=j_,qI=Gg,VI=N_,WI=S_,HI=Xg,GI=k_,KI=uh,QI=E_,YI=T_,XI=O_,ZI=M_,JI=I_,e5=D_,t5=L_,r5=z_,hh="DropdownMenu",[n5]=ir(hh,[w_]),Gt=w_(),[s5,B_]=n5(hh),q_=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Gt(t),d=h.useRef(null),[u,f]=Bs({prop:s,defaultProp:o??!1,onChange:i,caller:hh});return a.jsx(s5,{scope:t,triggerId:Qr(),triggerRef:d,contentId:Qr(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(BI,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};q_.displayName=hh;var V_="DropdownMenuTrigger",W_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=B_(V_,r),i=Gt(r);return a.jsx(qI,{asChild:!0,...i,children:a.jsx(ue.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Vu(t,o.triggerRef),onPointerDown:Q(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Q(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});W_.displayName=V_;var a5="DropdownMenuPortal",H_=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gt(t);return a.jsx(VI,{...n,...r})};H_.displayName=a5;var G_="DropdownMenuContent",K_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=B_(G_,r),o=Gt(r),i=h.useRef(!1);return a.jsx(WI,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:Q(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Q(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});K_.displayName=G_;var o5="DropdownMenuGroup",i5=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(HI,{...s,...n,ref:t})});i5.displayName=o5;var l5="DropdownMenuLabel",Q_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(GI,{...s,...n,ref:t})});Q_.displayName=l5;var c5="DropdownMenuItem",Y_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(KI,{...s,...n,ref:t})});Y_.displayName=c5;var d5="DropdownMenuCheckboxItem",X_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(QI,{...s,...n,ref:t})});X_.displayName=d5;var u5="DropdownMenuRadioGroup",h5=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(YI,{...s,...n,ref:t})});h5.displayName=u5;var f5="DropdownMenuRadioItem",Z_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(XI,{...s,...n,ref:t})});Z_.displayName=f5;var m5="DropdownMenuItemIndicator",J_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(ZI,{...s,...n,ref:t})});J_.displayName=m5;var p5="DropdownMenuSeparator",eN=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(JI,{...s,...n,ref:t})});eN.displayName=p5;var g5="DropdownMenuArrow",v5=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(e5,{...s,...n,ref:t})});v5.displayName=g5;var x5="DropdownMenuSubTrigger",tN=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(t5,{...s,...n,ref:t})});tN.displayName=x5;var y5="DropdownMenuSubContent",rN=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Gt(r);return a.jsx(r5,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rN.displayName=y5;var w5=q_,b5=W_,j5=H_,nN=K_,sN=Q_,aN=Y_,oN=X_,iN=Z_,lN=J_,cN=eN,dN=tN,uN=rN;const hN=w5,fN=b5,_5=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(dN,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Ng,{className:"ml-auto h-4 w-4"})]}));_5.displayName=dN.displayName;const N5=h.forwardRef(({className:e,...t},r)=>a.jsx(uN,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));N5.displayName=uN.displayName;const ev=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(j5,{children:a.jsx(nN,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ev.displayName=nN.displayName;const Ro=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(aN,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ro.displayName=aN.displayName;const S5=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(oN,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(lN,{children:a.jsx(_g,{className:"h-4 w-4"})})}),t]}));S5.displayName=oN.displayName;const k5=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(iN,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(lN,{children:a.jsx(O1,{className:"h-2 w-2 fill-current"})})}),t]}));k5.displayName=iN.displayName;const C5=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(sN,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));C5.displayName=sN.displayName;const mN=h.forwardRef(({className:e,...t},r)=>a.jsx(cN,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));mN.displayName=cN.displayName;const bf={light:z1,dark:mT,christmas:jT,"new-year":$n},E5={light:"Tema Claro",dark:"Tema Escuro",christmas:"Tema de Natal","new-year":"Tema de Ano Novo"},Nc=()=>{const{theme:e,setTheme:t}=t_(),r=bf[e];return a.jsxs(hN,{children:[a.jsx(fN,{asChild:!0,children:a.jsxs($,{variant:"outline",size:"icon",className:"relative",children:[a.jsx(r,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Alterar tema"})]})}),a.jsx(ev,{align:"end",className:"w-48",children:Object.keys(bf).map(n=>{const s=bf[n],o=e===n;return a.jsxs(Ro,{onClick:()=>t(n),className:`flex items-center gap-2 cursor-pointer ${o?"bg-primary/10 text-primary":""}`,children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{children:E5[n]}),o&&a.jsx("div",{className:"ml-auto w-2 h-2 bg-primary rounded-full"})]},n)})})]})},Mi="/assets/Orkadia-logo-D2C_jCoE.png",P5=()=>{const e=Ot(),t=[{icon:q1,title:"Perfil",description:"Seu perfil  sua casa virtual. Personalize e receba visitantes!"},{icon:mt,title:"Clubes",description:"Junte-se a comunidades com seus interesses e hobbies."},{icon:qs,title:"Amigos",description:"Conecte-se com pessoas de verdade e construa amizades duradouras."}];return a.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-20 w-1 h-1 bg-white/40 rounded-full animate-particle-float",style:{animationDelay:"0s"}}),a.jsx("div",{className:"absolute top-32 right-32 w-1 h-1 bg-white/30 rounded-full animate-particle-float",style:{animationDelay:"3s"}}),a.jsx("div",{className:"absolute bottom-32 right-20 w-1 h-1 bg-white/35 rounded-full animate-particle-float",style:{animationDelay:"6s"}}),a.jsx("div",{className:"absolute bottom-48 left-2/3 w-1 h-1 bg-white/25 rounded-full animate-particle-float",style:{animationDelay:"9s"}}),a.jsx("div",{className:"fixed top-4 right-4 z-50",children:a.jsx(Nc,{})}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 pt-16 pb-12",children:a.jsxs("div",{className:"text-center space-y-8 animate-fade-in",children:[a.jsx("div",{className:"inline-block",children:a.jsx("img",{src:Mi,alt:"Orkadia Logo",className:"mx-auto mb-6 w-72 h-auto drop-shadow-lg"})}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-3xl p-8 mx-auto max-w-4xl border border-white/20",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white max-w-2xl mx-auto leading-relaxed mb-4",children:"Onde as conexes voltam a ser humanas"}),a.jsx("p",{className:"text-lg text-gray-200 max-w-3xl mx-auto leading-relaxed",children:"Uma rede social inspirada no clssico Orkut. Construa sua casa virtual, participe de clubes e conecte-se com pessoas de verdade!"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-6",children:[a.jsx($,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 text-lg px-10 py-3 rounded-full font-semibold",onClick:()=>e("/auth"),children:"Entrar na Cidade"}),a.jsx($,{size:"lg",className:"bg-white/20 backdrop-blur-md border-2 border-white/50 text-white hover:bg-white hover:text-gray-800 text-lg px-10 py-3 rounded-full transition-all duration-300 font-semibold shadow-lg hover:shadow-xl",onClick:()=>e("/auth?mode=signup"),children:"Criar Conta"})]})]})}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16",children:[a.jsx("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-6 mx-auto max-w-md mb-16 border border-white/20",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-white",children:"Explore a Cidade"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:t.map((r,n)=>a.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-8 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-105 animate-slide-up border border-white/60 hover:bg-white/95",style:{animationDelay:`${n*.2}s`},children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-400 to-purple-500 rounded-2xl shadow-lg",children:a.jsx(r.icon,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:r.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description})]})},n))})]}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 py-16",children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-3xl p-12 text-center text-white shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/50 via-purple-600/50 to-pink-600/50"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Pronto para comear sua jornada?"}),a.jsx("p",{className:"text-xl mb-10 opacity-95 max-w-2xl mx-auto leading-relaxed",children:"Junte-se a milhares de pessoas que j fazem parte da Orkadia"}),a.jsx($,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-50 text-xl px-12 py-4 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>e("/auth?mode=signup"),children:"Criar Minha Casa Virtual"})]})]})}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 pb-8",children:a.jsxs("div",{className:"flex justify-center space-x-6",children:[a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx(La,{className:"w-6 h-6 text-blue-200"})}),a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx(In,{className:"w-6 h-6 text-purple-200"})}),a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx(za,{className:"w-6 h-6 text-pink-200"})}),a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx(Ul,{className:"w-6 h-6 text-cyan-200"})}),a.jsx("div",{className:"p-4 bg-black/50 rounded-full backdrop-blur-md border border-white/30 hover:bg-black/60 transition-all duration-300",children:a.jsx(zl,{className:"w-6 h-6 text-indigo-200"})})]})})]})},ht=h.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ht.displayName="Input";const V=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));V.displayName="Card";const Ve=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));Ve.displayName="CardHeader";const Ge=h.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ge.displayName="CardTitle";const gn=h.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));gn.displayName="CardDescription";const Me=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));Me.displayName="CardContent";const T5=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));T5.displayName="CardFooter";const R5="modulepreload",O5=function(e){return"/"+e},Iy={},Sc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=O5(c),c in Iy)return;Iy[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":R5,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},A5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class tv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Dy extends tv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $y extends tv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ly extends tv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rp||(rp={}));var M5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class I5{constructor(t,{headers:r={},customFetch:n,region:s=rp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=A5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return M5(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i,signal:l}=r;let c={},{region:d}=r;d||(d=this.region);const u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(c["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let f;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=i):typeof i=="string"?(c["Content-Type"]="text/plain",f=i):typeof FormData<"u"&&i instanceof FormData?f=i:(c["Content-Type"]="application/json",f=JSON.stringify(i)));const m=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new Dy(w)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new $y(m);if(!m.ok)throw new Ly(m);let x=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return x==="application/json"?g=yield m.json():x==="application/octet-stream"?g=yield m.blob():x==="text/event-stream"?g=m:x==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Dy(s)}:{data:null,error:s,response:s instanceof Ly||s instanceof $y?s.context:void 0}}})}}var er={},rv={},fh={},kc={},mh={},ph={},D5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mi=D5();const $5=mi.fetch,pN=mi.fetch.bind(mi),gN=mi.Headers,L5=mi.Request,F5=mi.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:gN,Request:L5,Response:F5,default:pN,fetch:$5},Symbol.toStringTag,{value:"Module"})),z5=EC(Ii);var gh={};Object.defineProperty(gh,"__esModule",{value:!0});let U5=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gh.default=U5;var vN=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ph,"__esModule",{value:!0});const B5=vN(z5),q5=vN(gh);let V5=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=B5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,d;let u=null,f=null,m=null,p=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await o.text();try{u=JSON.parse(w),Array.isArray(u)&&o.status===404&&(f=[],u=null,p=200,x="OK")}catch{o.status===404&&w===""?(p=204,x="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new q5.default(u)}return{error:u,data:f,count:m,status:p,statusText:x}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ph.default=V5;var W5=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mh,"__esModule",{value:!0});const H5=W5(ph);let G5=class extends H5.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};mh.default=G5;var K5=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kc,"__esModule",{value:!0});const Q5=K5(mh);let Y5=class extends Q5.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};kc.default=Y5;var X5=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fh,"__esModule",{value:!0});const Qi=X5(kc);let Z5=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new Qi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const o="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Qi.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Qi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};fh.default=Z5;var xN=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rv,"__esModule",{value:!0});const J5=xN(fh),eD=xN(kc);let tD=class yN{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new J5.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new yN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",d=r);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new eD.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};rv.default=tD;var Di=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(er,"__esModule",{value:!0});er.PostgrestError=er.PostgrestBuilder=er.PostgrestTransformBuilder=er.PostgrestFilterBuilder=er.PostgrestQueryBuilder=er.PostgrestClient=void 0;const wN=Di(rv);er.PostgrestClient=wN.default;const bN=Di(fh);er.PostgrestQueryBuilder=bN.default;const jN=Di(kc);er.PostgrestFilterBuilder=jN.default;const _N=Di(mh);er.PostgrestTransformBuilder=_N.default;const NN=Di(ph);er.PostgrestBuilder=NN.default;const SN=Di(gh);er.PostgrestError=SN.default;var rD=er.default={PostgrestClient:wN.default,PostgrestQueryBuilder:bN.default,PostgrestFilterBuilder:jN.default,PostgrestTransformBuilder:_N.default,PostgrestBuilder:NN.default,PostgrestError:SN.default};const{PostgrestClient:nD,PostgrestQueryBuilder:xz,PostgrestFilterBuilder:yz,PostgrestTransformBuilder:wz,PostgrestBuilder:bz,PostgrestError:jz}=rD;class sD{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const aD="2.15.5",oD=`realtime-js/${aD}`,iD="1.0.0",np=1e4,lD=1e3,cD=100;var yl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yl||(yl={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var Wr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wr||(Wr={}));var sp;(function(e){e.websocket="websocket"})(sp||(sp={}));var xa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xa||(xa={}));class dD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const d=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class kN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ue||(Ue={}));const Fy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=uD(i,e,t,s),o),{})},uD=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?CN(o,i):ap(i)},CN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return pD(t,r)}switch(e){case Ue.bool:return hD(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return fD(t);case Ue.json:case Ue.jsonb:return mD(t);case Ue.timestamp:return gD(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return ap(t);default:return ap(t)}},ap=e=>e,hD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>CN(t,l))}return e},gD=e=>typeof e=="string"?e.replace(" ","T"):e,EN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class jf{constructor(t,r,n={},s=np){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zy||(zy={}));class wl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=wl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wl.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const f=o[d];if(f){const m=u.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),x=u.filter(w=>p.indexOf(w.presence_ref)<0),g=f.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(i,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uy||(Uy={}));var bl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bl||(bl={}));var Pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class nv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jf(this,Wr.join,this.params,this.timeout),this.rejoinTimer=new kN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new wl(this),this.broadcastEndpointURL=EN(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[bl.PRESENCE]&&this.bindings[bl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Pn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Pn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(Pn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,b=[];for(let v=0;v<w;v++){const y=g[v],{filter:{event:j,schema:N,table:_,filter:S}}=y,k=p&&p[v];if(k&&k.event===j&&k.schema===N&&k.table===_&&k.filter===S)b.push(Object.assign(Object.assign({},y),{id:k.id}));else{this.unsubscribe(),this.state=pt.errored,t==null||t(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Pn.SUBSCRIBED);return}}).receive("error",p=>{this.state=pt.errored,t==null||t(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pt.joined&&t===bl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new jf(this,Wr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jf(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Wr;if(n&&[l,c,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,g,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var x,g,w,b,v,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,N=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:w,commit_timestamp:b,type:v,errors:y}=x;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:b,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&nv.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wr.close,{},t)}_onError(t){this._on(Wr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fy(t.columns,t.old_record)),r}}const _f=()=>{},od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vD=[1e3,2e3,5e3,1e4],xD=1e4,yD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wD{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=np,this.transport=null,this.heartbeatIntervalMs=od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_f,this.ref=0,this.reconnectTimer=null,this.logger=_f,this.conn=null,this.sendBuffer=[],this.serializer=new dD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>Sc(async()=>{const{default:l}=await Promise.resolve().then(()=>Ii);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${sp.websocket}`,this.httpEndpoint=EN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yl.connecting:return xa.Connecting;case yl.open:return xa.Open;case yl.closing:return xa.Closing;default:return xa.Closed}}isConnected(){return this.connectionState()===xa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new nv(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},od.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([yD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:oD};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Wr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},od.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:np,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:od.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:_f,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>vD[f-1]||xD,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,m)=>m(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class sv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bD extends sv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class op extends sv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var jD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const PN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_D=()=>jD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sc(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),ip=e=>{if(Array.isArray(e))return e.map(r=>ip(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=ip(n)}),t},ND=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var eo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Nf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SD=(e,t,r)=>eo(void 0,void 0,void 0,function*(){const n=yield _D();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new bD(Nf(s),o,i))}).catch(s=>{t(new op(Nf(s),s))}):t(new op(Nf(e),e))}),kD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(ND(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Cc(e,t,r,n,s,o){return eo(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,kD(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>SD(c,l,n))})})}function fu(e,t,r,n){return eo(this,void 0,void 0,function*(){return Cc(e,"GET",t,r,n)})}function an(e,t,r,n,s){return eo(this,void 0,void 0,function*(){return Cc(e,"POST",t,n,s,r)})}function lp(e,t,r,n,s){return eo(this,void 0,void 0,function*(){return Cc(e,"PUT",t,n,s,r)})}function CD(e,t,r,n){return eo(this,void 0,void 0,function*(){return Cc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function TN(e,t,r,n,s){return eo(this,void 0,void 0,function*(){return Cc(e,"DELETE",t,n,s,r)})}var ED=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class PD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ED(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var TD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class RD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new PD(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return TD(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var Qt=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const OD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},By={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AD{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=PN(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Qt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},By),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?lp:an)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Qt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:By.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield lp(this.fetch,l.toString(),c,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Qt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield an(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new sv("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qt(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield an(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Qt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield an(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Qt(this,void 0,void 0,function*(){try{const s=yield an(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>fu(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new RD(c,this.shouldThrowOnError)}info(t){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ip(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}exists(t){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield CD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n)&&n instanceof op){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Qt(this,void 0,void 0,function*(){try{return{data:yield TN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},OD),r),{prefix:t||""});return{data:yield an(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}listV2(t,r){return Qt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield an(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const MD="2.12.2",ID={"X-Client-Info":`storage-js/${MD}`};var co=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class DD{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},ID),r),this.fetch=PN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return co(this,void 0,void 0,function*(){try{return{data:yield fu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield fu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return co(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return co(this,void 0,void 0,function*(){try{return{data:yield lp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield TN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}class $D extends DD{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new AD(this.url,this.headers,t,this.fetch)}}const LD="2.58.0";let sl="";typeof Deno<"u"?sl="deno":typeof document<"u"?sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sl="react-native":sl="node";const FD={"X-Client-Info":`supabase-js-${sl}/${LD}`},zD={headers:FD},UD={schema:"public"},BD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qD={};var VD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const WD=e=>{let t;return e?t=e:typeof fetch>"u"?t=pN:t=fetch,(...r)=>t(...r)},HD=()=>typeof Headers>"u"?gN:Headers,GD=(e,t,r)=>{const n=WD(r),s=HD();return(o,i)=>VD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:d}))})};var KD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function QD(e){return e.endsWith("/")?e:e+"/"}function YD(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>KD(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function XD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const RN="2.72.0",go=30*1e3,cp=3,Sf=cp*go,ZD="http://localhost:9999",JD="supabase.auth.token",e3={"X-Client-Info":`gotrue-js/${RN}`},dp="X-Supabase-Api-Version",ON={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,r3=10*60*1e3;let av=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class n3 extends av{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function s3(e){return ye(e)&&e.name==="AuthApiError"}class AN extends av{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class na extends av{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class os extends na{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function a3(e){return ye(e)&&e.name==="AuthSessionMissingError"}class Yi extends na{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class id extends na{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ld extends na{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function o3(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class qy extends na{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class up extends na{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function kf(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class Vy extends na{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hp extends na{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wy=` 	
\r=`.split(""),i3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Wy.length;t+=1)e[Wy[t].charCodeAt(0)]=-2;for(let t=0;t<mu.length;t+=1)e[mu[t].charCodeAt(0)]=t;return e})();function Hy(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mu[n]),t.queuedBits-=6}}function MN(e,t,r){const n=i3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{d3(i,n,r)};for(let i=0;i<e.length;i+=1)MN(e.charCodeAt(i),s,o);return t.join("")}function l3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function c3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}l3(n,t)}}function d3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function u3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)MN(e.charCodeAt(s),r,n);return new Uint8Array(t)}function h3(e){const t=[];return c3(e,r=>t.push(r)),new Uint8Array(t)}function f3(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Hy(s,r,n)),Hy(null,r,n),t.join("")}function m3(e){return Math.round(Date.now()/1e3)+e}function p3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const jr=()=>typeof window<"u"&&typeof document<"u",ua={tested:!1,writable:!1},IN=()=>{if(!jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ua.tested)return ua.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ua.tested=!0,ua.writable=!0}catch{ua.tested=!0,ua.writable=!1}return ua.writable};function g3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const DN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},v3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ha=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rs=async(e,t)=>{await e.removeItem(t)};class vh{constructor(){this.promise=new vh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vh.promiseConstructor=Promise;function Cf(e){const t=e.split(".");if(t.length!==3)throw new hp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!t3.test(t[n]))throw new hp("JWT not in base64url format");return{header:JSON.parse(Gy(t[0])),payload:JSON.parse(Gy(t[1])),signature:u3(t[2]),raw:{header:t[0],payload:t[1]}}}async function x3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function y3(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function w3(e){return("0"+e.toString(16)).substr(-2)}function b3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,w3).join("")}async function j3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function _3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await j3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uo(e,t,r=!1){const n=b3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await vo(e,`${t}-code-verifier`,s);const o=await _3(n);return[o,n===o?"plain":"s256"]}const N3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S3(e){const t=e.headers.get(dp);if(!t||!t.match(N3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function k3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function C3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(e){if(!E3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ef(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ky(e){return JSON.parse(JSON.stringify(e))}var P3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),T3=[502,503,504];async function Qy(e){var t;if(!v3(e))throw new up(pa(e),0);if(T3.includes(e.status))throw new up(pa(e),e.status);let r;try{r=await e.json()}catch(o){throw new AN(pa(o),o)}let n;const s=S3(e);if(s&&s.getTime()>=ON["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vy(pa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new os}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Vy(pa(r),e.status,r.weak_password.reasons);throw new n3(pa(r),e.status||500,n)}const R3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[dp]||(o[dp]=ON["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await O3(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function O3(e,t,r,n,s,o){const i=R3(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new up(pa(c),0)}if(l.ok||await Qy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Qy(c)}}function nn(e){var t;let r=null;D3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=m3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Yy(e){const t=nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function A3(e){return{data:e,error:null}}function M3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=P3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function I3(e){return e}function D3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pf=["global","local","others"];var $3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class L3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=DN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Pf[0]){if(Pf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pf.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fs})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=$3(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:M3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fs})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:I3});if(u.error)throw u.error;const f=await u.json(),m=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);d[`${w}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(ye(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ho(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fs})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ho(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fs})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ho(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fs})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ho(t.userId);try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ho(t.userId),ho(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}function Xy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function F3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fo={debug:!!(globalThis&&IN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $N extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class z3 extends $N{}async function U3(e,t,r){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new z3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function LN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function B3(e){return parseInt(e,16)}function q3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function V3(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:d,scheme:u,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=LN(e.address),x=u?`${u}://${n}`:n,g=e.statement?`${e.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${p}

${g}`;let b=`URI: ${f}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),d){let v=`
Resources:`;for(const y of d){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);v+=`
- ${y}`}b+=v}return`${w}
${b}`}F3();const W3={url:ZD,storageKey:JD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zy(e,t,r){return await r()}const mo={};class Jl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jl.nextInstanceID,Jl.nextInstanceID+=1,this.instanceID>0&&jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},W3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new L3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=DN(s.fetch),this.lock=s.lock||Zy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=U3:this.lock=Zy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:IN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xy(this.memoryStorage)),jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=mo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=mo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${RN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=g3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),jr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),o3(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?{error:r}:{error:new AN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:nn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:u,password:f,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await uo(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:nn})}else if("phone"in t){const{phone:u,password:f,options:m}=t;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:nn})}else throw new id("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yy})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yy})}else throw new id("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Yi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,l,c,d,u,f,m;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:g,wallet:w,statement:b,options:v}=t;let y;if(jr())if(typeof w=="object")y=w;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")y=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),N=await y.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=LN(N[0]);let S=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const A=await y.request({method:"eth_chainId"});S=B3(A)}const k={domain:j.host,address:_,statement:b,uri:j.href,version:"1",chainId:S,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=V3(k),x=await y.request({method:"personal_sign",params:[q3(p),_]})}try{const{data:g,error:w}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:nn});if(w)throw w;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Yi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:w})}catch(g){if(ye(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,s,o,i,l,c,d,u,f,m,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:b,statement:v,options:y}=t;let j;if(jr())if(typeof b=="object")j=b;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)x=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:w,error:b}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:f3(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:nn});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Yi}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(ye(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await ha(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nn});if(await rs(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Yi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ye(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nn}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Yi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await uo(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new id("You must provide either an email or phone number.")}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:nn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await uo(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:A3})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new os;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new id("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ha(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Ef()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fs}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new os}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:fs})})}catch(r){if(ye(r))return a3(r)&&(await this._removeSession(),await rs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new os;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await uo(this.storage,this.storageKey));const{data:d,error:u}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:fs});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new os;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Cf(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ye(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new os;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!jr())throw new ld("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ld(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ld("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qy("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=t;if(!o||!l||!i||!d)throw new ld("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const p=m-u;p*1e3<=go&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=m-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:g,error:w}=await this._getUser(o);if(w)throw w;const b={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(ye(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(s3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await rs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=p3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await uo(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,d,u;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ye(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await y3(async s=>(s>0&&await x3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&kf(o)&&Date.now()+i-n<go})}catch(n){if(this._debug(r,"error",n),ye(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ha(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await vo(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Ef()}else if(s&&!s.user&&!s.user){const i=await ha(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await rs(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,s)):s.user=Ef()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sf;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Sf}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),kf(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new os;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vh;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new os;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ye(o)){const i={session:null,error:o};return kf(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Ky(s);await vo(this.storage,this.storageKey,o)}else{const s=Ky(r);await vo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await rs(this.storage,this.storageKey),await rs(this.storage,this.storageKey+"-code-verifier"),await rs(this.storage,this.storageKey+"-user"),this.userStorage&&await rs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),go);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/go);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${go}ms, refresh threshold is ${cp} ticks`),s<=cp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $N)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await uo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Cf(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+r3>s)return n;const{data:o,error:i}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Cf(n);r!=null&&r.allowExpired||k3(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=C3(s.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,h3(`${l}.${c}`)))throw new hp("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}Jl.nextInstanceID=0;const H3=Jl;class G3 extends H3{constructor(t){super(t)}}var K3=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class Q3{constructor(t,r,n){var s,o,i;this.supabaseUrl=t,this.supabaseKey=r;const l=XD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:UD,realtime:qD,auth:Object.assign(Object.assign({},BD),{storageKey:c}),global:zD},u=YD(n??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=GD(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new nD(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new $D(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new I5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return K3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:l,lock:c,debug:d},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G3({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new wD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y3=(e,t,r)=>new Q3(e,t,r);function X3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}X3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Z3="https://fwwqduljnrsbsidxejqa.supabase.co",J3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ3d3FkdWxqbnJzYnNpZHhlanFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NzEzMjUsImV4cCI6MjA3NzE0NzMyNX0.CA1GhsWBXII9BeNbt_8fyI8rPmh7pejl5XT8KD7zxyA",O=Y3(Z3,J3,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}}),bt=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(null),[s,o]=h.useState(!0),i=Ot();h.useEffect(()=>{const{data:{subscription:m}}=O.auth.onAuthStateChange((p,x)=>{n(x),t((x==null?void 0:x.user)??null),o(!1)});return O.auth.getSession().then(({data:{session:p}})=>{n(p),t((p==null?void 0:p.user)??null),o(!1)}),()=>m.unsubscribe()},[]);const l=async(m,p,x,g,w)=>{const b=`${window.location.origin}/`,{data:v,error:y}=await O.auth.signUp({email:m,password:p,options:{emailRedirectTo:b,data:{username:x,display_name:g,invite_code:w}}});if(!y&&v.user&&w)try{await c(w,v.user.id)}catch(j){console.error("Erro ao processar cdigo de convite:",j)}return{error:y,user:v.user}},c=async(m,p)=>{try{if(!m||!m.startsWith("ORK-"))throw new Error("Cdigo de convite invlido");console.log("Cdigo de convite processado:",m,"para usurio:",p),await O.from("profiles").update({points:100}).eq("id",p)}catch(x){throw console.error("Erro ao processar convite:",x),x}};return{user:e,session:r,loading:s,signUp:l,signIn:async(m,p)=>{const{error:x}=await O.auth.signInWithPassword({email:m,password:p});return x||i("/dashboard"),{error:x}},signInWithGoogle:async()=>{const{error:m}=await O.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});return{error:m}},signOut:async()=>{await O.auth.signOut(),i("/")}}};var Ae;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of o)i[l]=s[l];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ae||(Ae={}));var Jy;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Jy||(Jy={}));const ce=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ds=e=>{switch(typeof e){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(e)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(e)?ce.array:e===null?ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ce.promise:typeof Map<"u"&&e instanceof Map?ce.map:typeof Set<"u"&&e instanceof Set?ce.set:typeof Date<"u"&&e instanceof Date?ce.date:ce.object;default:return ce.unknown}},K=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Jr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(i))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(t){if(!(t instanceof Jr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Jr.create=e=>new Jr(e);const fp=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===ce.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ae.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ae.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ae.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${Ae.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ae.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ae.assertNever(e)}return{message:r}};let e$=fp;function t$(){return e$}const r$=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(i,{data:t,defaultError:l}).message;return{...s,path:o,message:l}};function ae(e,t){const r=t$(),n=r$({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===fp?void 0:fp].filter(s=>!!s)});e.common.issues.push(n)}class pr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ge;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return pr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return ge;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const ge=Object.freeze({status:"aborted"}),al=e=>({status:"dirty",value:e}),Ar=e=>({status:"valid",value:e}),e0=e=>e.status==="aborted",t0=e=>e.status==="dirty",pi=e=>e.status==="valid",pu=e=>typeof Promise<"u"&&e instanceof Promise;var de;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(de||(de={}));class Hs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const r0=(e,t)=>{if(pi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Jr(e.common.issues);return this._error=r,this._error}}};function Ce(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Re{get description(){return this._def.description}_getType(t){return ds(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ds(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pr,ctx:{common:t.parent.common,data:t.data,parsedType:ds(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(pu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ds(t)},s=this._parseSync({data:t,path:n.path,parent:n});return r0(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ds(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:r});return pi(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(s=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(o=>pi(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ds(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(pu(s)?s:Promise.resolve(s));return r0(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=t(s),l=()=>o.addIssue({code:K.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new vi({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ls.create(this,this._def)}nullable(){return xi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bn.create(this)}promise(){return yu.create(this,this._def)}or(t){return vu.create([this,t],this._def)}and(t){return xu.create(this,t,this._def)}transform(t){return new vi({...Ce(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new pp({...Ce(this._def),innerType:this,defaultValue:r,typeName:ve.ZodDefault})}brand(){return new S$({typeName:ve.ZodBranded,type:this,...Ce(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new gp({...Ce(this._def),innerType:this,catchValue:r,typeName:ve.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ov.create(this,t)}readonly(){return vp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const n$=/^c[^\s-]{8,}$/i,s$=/^[0-9a-z]+$/,a$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,o$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,i$=/^[a-z0-9_-]{21}$/i,l$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,c$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,d$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,u$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tf;const h$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,f$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,m$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,p$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,g$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,v$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,FN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",x$=new RegExp(`^${FN}$`);function zN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function y$(e){return new RegExp(`^${zN(e)}$`)}function w$(e){let t=`${FN}T${zN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function b$(e,t){return!!((t==="v4"||!t)&&h$.test(e)||(t==="v6"||!t)&&m$.test(e))}function j$(e,t){if(!l$.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function _$(e,t){return!!((t==="v4"||!t)&&f$.test(e)||(t==="v6"||!t)&&p$.test(e))}class Cs extends Re{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const o=this._getOrReturnCtx(t);return ae(o,{code:K.invalid_type,expected:ce.string,received:o.parsedType}),ge}const n=new pr;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,l=t.data.length<o.value;(i||l)&&(s=this._getOrReturnCtx(t,s),i?ae(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&ae(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")d$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"email",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Tf||(Tf=new RegExp(u$,"u")),Tf.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"emoji",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")o$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"uuid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")i$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"nanoid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")n$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cuid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")s$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cuid2",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")a$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"ulid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ae(s,{validation:"url",code:K.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"regex",code:K.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?w$(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?x$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?y$(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?c$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"duration",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?b$(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"ip",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?j$(t.data,o.alg)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"jwt",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?_$(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cidr",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?g$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"base64",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?v$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"base64url",code:K.invalid_string,message:o.message}),n.dirty()):Ae.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:K.invalid_string,...de.errToObj(n)})}_addCheck(t){return new Cs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...de.errToObj(t)})}url(t){return this._addCheck({kind:"url",...de.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...de.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...de.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...de.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...de.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...de.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...de.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...de.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...de.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...de.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...de.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...de.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...de.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...de.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...de.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...de.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...de.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...de.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...de.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...de.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...de.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...de.errToObj(r)})}nonempty(t){return this.min(1,de.errToObj(t))}trim(){return new Cs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Cs.create=e=>new Cs({checks:[],typeName:ve.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ce(e)});function N$(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return o%i/10**s}class ec extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const o=this._getOrReturnCtx(t);return ae(o,{code:K.invalid_type,expected:ce.number,received:o.parsedType}),ge}let n;const s=new pr;for(const o of this._def.checks)o.kind==="int"?Ae.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ae(n,{code:K.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?N$(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_finite,message:o.message}),s.dirty()):Ae.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,de.toString(r))}gt(t,r){return this.setLimit("min",t,!1,de.toString(r))}lte(t,r){return this.setLimit("max",t,!0,de.toString(r))}lt(t,r){return this.setLimit("max",t,!1,de.toString(r))}setLimit(t,r,n,s){return new ec({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:de.toString(s)}]})}_addCheck(t){return new ec({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:de.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:de.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:de.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ae.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ec.create=e=>new ec({checks:[],typeName:ve.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ce(e)});class tc extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ce.bigint)return this._getInvalidInput(t);let n;const s=new pr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ae.assertNever(o);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ae(r,{code:K.invalid_type,expected:ce.bigint,received:r.parsedType}),ge}gte(t,r){return this.setLimit("min",t,!0,de.toString(r))}gt(t,r){return this.setLimit("min",t,!1,de.toString(r))}lte(t,r){return this.setLimit("max",t,!0,de.toString(r))}lt(t,r){return this.setLimit("max",t,!1,de.toString(r))}setLimit(t,r,n,s){return new tc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:de.toString(s)}]})}_addCheck(t){return new tc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:de.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}tc.create=e=>new tc({checks:[],typeName:ve.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ce(e)});class n0 extends Re{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.boolean,received:n.parsedType}),ge}return Ar(t.data)}}n0.create=e=>new n0({typeName:ve.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ce(e)});class gu extends Re{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const o=this._getOrReturnCtx(t);return ae(o,{code:K.invalid_type,expected:ce.date,received:o.parsedType}),ge}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return ae(o,{code:K.invalid_date}),ge}const n=new pr;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Ae.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new gu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:de.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:de.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}gu.create=e=>new gu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ve.ZodDate,...Ce(e)});class s0 extends Re{_parse(t){if(this._getType(t)!==ce.symbol){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.symbol,received:n.parsedType}),ge}return Ar(t.data)}}s0.create=e=>new s0({typeName:ve.ZodSymbol,...Ce(e)});class a0 extends Re{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.undefined,received:n.parsedType}),ge}return Ar(t.data)}}a0.create=e=>new a0({typeName:ve.ZodUndefined,...Ce(e)});class o0 extends Re{_parse(t){if(this._getType(t)!==ce.null){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.null,received:n.parsedType}),ge}return Ar(t.data)}}o0.create=e=>new o0({typeName:ve.ZodNull,...Ce(e)});class i0 extends Re{constructor(){super(...arguments),this._any=!0}_parse(t){return Ar(t.data)}}i0.create=e=>new i0({typeName:ve.ZodAny,...Ce(e)});class l0 extends Re{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ar(t.data)}}l0.create=e=>new l0({typeName:ve.ZodUnknown,...Ce(e)});class Gs extends Re{_parse(t){const r=this._getOrReturnCtx(t);return ae(r,{code:K.invalid_type,expected:ce.never,received:r.parsedType}),ge}}Gs.create=e=>new Gs({typeName:ve.ZodNever,...Ce(e)});class c0 extends Re{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.void,received:n.parsedType}),ge}return Ar(t.data)}}c0.create=e=>new c0({typeName:ve.ZodVoid,...Ce(e)});class bn extends Re{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ce.array)return ae(r,{code:K.invalid_type,expected:ce.array,received:r.parsedType}),ge;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(i||l)&&(ae(r,{code:i?K.too_big:K.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ae(r,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ae(r,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>s.type._parseAsync(new Hs(r,i,r.path,l)))).then(i=>pr.mergeArray(n,i));const o=[...r.data].map((i,l)=>s.type._parseSync(new Hs(r,i,r.path,l)));return pr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new bn({...this._def,minLength:{value:t,message:de.toString(r)}})}max(t,r){return new bn({...this._def,maxLength:{value:t,message:de.toString(r)}})}length(t,r){return new bn({...this._def,exactLength:{value:t,message:de.toString(r)}})}nonempty(t){return this.min(1,t)}}bn.create=(e,t)=>new bn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...Ce(t)});function xo(e){if(e instanceof ut){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ls.create(xo(n))}return new ut({...e._def,shape:()=>t})}else return e instanceof bn?new bn({...e._def,type:xo(e.element)}):e instanceof Ls?Ls.create(xo(e.unwrap())):e instanceof xi?xi.create(xo(e.unwrap())):e instanceof Wa?Wa.create(e.items.map(t=>xo(t))):e}class ut extends Re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ae.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ce.object){const d=this._getOrReturnCtx(t);return ae(d,{code:K.invalid_type,expected:ce.object,received:d.parsedType}),ge}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const d in s.data)i.includes(d)||l.push(d);const c=[];for(const d of i){const u=o[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Hs(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Gs){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(ae(s,{code:K.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Hs(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>pr.mergeObjectSync(n,d)):pr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return de.errToObj,new ut({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,i;const s=((i=(o=this._def).errorMap)==null?void 0:i.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:de.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ut({...this._def,unknownKeys:"strip"})}passthrough(){return new ut({...this._def,unknownKeys:"passthrough"})}extend(t){return new ut({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ut({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ve.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ut({...this._def,catchall:t})}pick(t){const r={};for(const n of Ae.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ut({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ae.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ut({...this._def,shape:()=>r})}deepPartial(){return xo(this)}partial(t){const r={};for(const n of Ae.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new ut({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ae.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Ls;)o=o._def.innerType;r[n]=o}return new ut({...this._def,shape:()=>r})}keyof(){return UN(Ae.objectKeys(this.shape))}}ut.create=(e,t)=>new ut({shape:()=>e,unknownKeys:"strip",catchall:Gs.create(),typeName:ve.ZodObject,...Ce(t)});ut.strictCreate=(e,t)=>new ut({shape:()=>e,unknownKeys:"strict",catchall:Gs.create(),typeName:ve.ZodObject,...Ce(t)});ut.lazycreate=(e,t)=>new ut({shape:e,unknownKeys:"strip",catchall:Gs.create(),typeName:ve.ZodObject,...Ce(t)});class vu extends Re{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new Jr(l.ctx.common.issues));return ae(r,{code:K.invalid_union,unionErrors:i}),ge}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(c=>new Jr(c));return ae(r,{code:K.invalid_union,unionErrors:l}),ge}}get options(){return this._def.options}}vu.create=(e,t)=>new vu({options:e,typeName:ve.ZodUnion,...Ce(t)});function mp(e,t){const r=ds(e),n=ds(t);if(e===t)return{valid:!0,data:e};if(r===ce.object&&n===ce.object){const s=Ae.objectKeys(t),o=Ae.objectKeys(e).filter(l=>s.indexOf(l)!==-1),i={...e,...t};for(const l of o){const c=mp(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===ce.array&&n===ce.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],l=t[o],c=mp(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ce.date&&n===ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class xu extends Re{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(e0(o)||e0(i))return ge;const l=mp(o.value,i.value);return l.valid?((t0(o)||t0(i))&&r.dirty(),{status:r.value,value:l.data}):(ae(n,{code:K.invalid_intersection_types}),ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xu.create=(e,t,r)=>new xu({left:e,right:t,typeName:ve.ZodIntersection,...Ce(r)});class Wa extends Re{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.array)return ae(n,{code:K.invalid_type,expected:ce.array,received:n.parsedType}),ge;if(n.data.length<this._def.items.length)return ae(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&n.data.length>this._def.items.length&&(ae(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Hs(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>pr.mergeArray(r,i)):pr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new Wa({...this._def,rest:t})}}Wa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wa({items:e,typeName:ve.ZodTuple,rest:null,...Ce(t)})};class d0 extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.map)return ae(n,{code:K.invalid_type,expected:ce.map,received:n.parsedType}),ge;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new Hs(n,l,n.path,[d,"key"])),value:o._parse(new Hs(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ge;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ge;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}d0.create=(e,t,r)=>new d0({valueType:t,keyType:e,typeName:ve.ZodMap,...Ce(r)});class rc extends Re{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.set)return ae(n,{code:K.invalid_type,expected:ce.set,received:n.parsedType}),ge;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ae(n,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ae(n,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ge;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>o._parse(new Hs(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new rc({...this._def,minSize:{value:t,message:de.toString(r)}})}max(t,r){return new rc({...this._def,maxSize:{value:t,message:de.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}rc.create=(e,t)=>new rc({valueType:e,minSize:null,maxSize:null,typeName:ve.ZodSet,...Ce(t)});class u0 extends Re{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}u0.create=(e,t)=>new u0({getter:e,typeName:ve.ZodLazy,...Ce(t)});class h0 extends Re{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ae(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:t.data}}get value(){return this._def.value}}h0.create=(e,t)=>new h0({value:e,typeName:ve.ZodLiteral,...Ce(t)});function UN(e,t){return new gi({values:e,typeName:ve.ZodEnum,...Ce(t)})}class gi extends Re{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ae(r,{expected:Ae.joinValues(n),received:r.parsedType,code:K.invalid_type}),ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ae(r,{received:r.data,code:K.invalid_enum_value,options:n}),ge}return Ar(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gi.create(t,{...this._def,...r})}exclude(t,r=this._def){return gi.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}gi.create=UN;class f0 extends Re{_parse(t){const r=Ae.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ce.string&&n.parsedType!==ce.number){const s=Ae.objectValues(r);return ae(n,{expected:Ae.joinValues(s),received:n.parsedType,code:K.invalid_type}),ge}if(this._cache||(this._cache=new Set(Ae.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ae.objectValues(r);return ae(n,{received:n.data,code:K.invalid_enum_value,options:s}),ge}return Ar(t.data)}get enum(){return this._def.values}}f0.create=(e,t)=>new f0({values:e,typeName:ve.ZodNativeEnum,...Ce(t)});class yu extends Re{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ce.promise&&r.common.async===!1)return ae(r,{code:K.invalid_type,expected:ce.promise,received:r.parsedType}),ge;const n=r.parsedType===ce.promise?r.data:Promise.resolve(r.data);return Ar(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}yu.create=(e,t)=>new yu({type:e,typeName:ve.ZodPromise,...Ce(t)});class vi extends Re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{ae(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return ge;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ge:c.status==="dirty"||r.value==="dirty"?al(c.value):c});{if(r.value==="aborted")return ge;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?ge:l.status==="dirty"||r.value==="dirty"?al(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ge:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ge:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pi(i))return ge;const l=s.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>pi(i)?Promise.resolve(s.transform(i.value,o)).then(l=>({status:r.value,value:l})):ge);Ae.assertNever(s)}}vi.create=(e,t,r)=>new vi({schema:e,typeName:ve.ZodEffects,effect:t,...Ce(r)});vi.createWithPreprocess=(e,t,r)=>new vi({schema:t,effect:{type:"preprocess",transform:e},typeName:ve.ZodEffects,...Ce(r)});class Ls extends Re{_parse(t){return this._getType(t)===ce.undefined?Ar(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ls.create=(e,t)=>new Ls({innerType:e,typeName:ve.ZodOptional,...Ce(t)});class xi extends Re{_parse(t){return this._getType(t)===ce.null?Ar(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xi.create=(e,t)=>new xi({innerType:e,typeName:ve.ZodNullable,...Ce(t)});class pp extends Re{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}pp.create=(e,t)=>new pp({innerType:e,typeName:ve.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ce(t)});class gp extends Re{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return pu(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Jr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Jr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}gp.create=(e,t)=>new gp({innerType:e,typeName:ve.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ce(t)});class m0 extends Re{_parse(t){if(this._getType(t)!==ce.nan){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.nan,received:n.parsedType}),ge}return{status:"valid",value:t.data}}}m0.create=e=>new m0({typeName:ve.ZodNaN,...Ce(e)});class S$ extends Re{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ov extends Re{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ge:o.status==="dirty"?(r.dirty(),al(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ge:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ov({in:t,out:r,typeName:ve.ZodPipeline})}}class vp extends Re{_parse(t){const r=this._def.innerType._parse(t),n=s=>(pi(s)&&(s.value=Object.freeze(s.value)),s);return pu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}vp.create=(e,t)=>new vp({innerType:e,typeName:ve.ZodReadonly,...Ce(t)});var ve;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ve||(ve={}));const Oo=Cs.create;Gs.create;bn.create;const BN=ut.create;vu.create;xu.create;Wa.create;gi.create;yu.create;Ls.create;xi.create;const k$=BN({email:Oo().email("Email invlido"),password:Oo().min(8,"Senha deve ter no mnimo 8 caracteres").regex(/[A-Z]/,"Senha deve conter pelo menos uma letra maiscula").regex(/[0-9]/,"Senha deve conter pelo menos um nmero"),username:Oo().min(3,"Nome de usurio deve ter no mnimo 3 caracteres").max(20,"Nome de usurio deve ter no mximo 20 caracteres").regex(/^[a-zA-Z0-9_]+$/,"Nome de usurio s pode conter letras, nmeros e _"),displayName:Oo().min(2,"Nome de exibio deve ter no mnimo 2 caracteres").max(50,"Nome de exibio deve ter no mximo 50 caracteres")}),C$=BN({email:Oo().email("Email invlido"),password:Oo().min(1,"Senha  obrigatria")}),E$=()=>{const[e]=Hg(),t=e.get("mode")==="signup"?"signup":"login",r=e.get("invite"),[n,s]=h.useState(r?"signup":t),[o,i]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(""),[f,m]=h.useState(""),[p,x]=h.useState(!1),[g,w]=h.useState(""),[b,v]=h.useState(""),[y,j]=h.useState(""),[N,_]=h.useState(""),[S,k]=h.useState(r||""),[A,C]=h.useState(!1),[P,D]=h.useState({}),{signIn:U,signUp:M,user:q}=bt(),R=Ot();h.useEffect(()=>{q&&R("/dashboard")},[q,R]);const B=async T=>{T.preventDefault(),D({});try{C$.parse({email:d,password:f})}catch(F){if(F instanceof Jr){const ee={};F.errors.forEach(H=>{H.path[0]&&(ee[`login_${H.path[0]}`]=H.message)}),D(ee);return}}x(!0);try{const{error:F}=await U(d,f);F?F.message.includes("Invalid login credentials")?L.error("Email ou senha incorretos"):L.error(F.message):L.success("Login realizado com sucesso!")}catch{L.error("Ocorreu um erro. Tente novamente.")}finally{x(!1)}},I=async T=>{if(T.preventDefault(),D({}),y!==N){D({confirm_password:"As senhas no coincidem"});return}try{k$.parse({email:b,password:y,username:g,displayName:g})}catch(F){if(F instanceof Jr){const ee={};F.errors.forEach(H=>{H.path[0]&&(ee[`signup_${H.path[0]}`]=H.message)}),D(ee);return}}C(!0);try{const{error:F}=await M(b,y,g,g,S||void 0);F?F.message.includes("already registered")?L.error("Este email j est cadastrado"):L.error(F.message):(S?L.success(" Conta criada com convite aplicado! Redirecionando..."):L.success("Conta criada! Redirecionando..."),R("/dashboard"))}catch{L.error("Ocorreu um erro. Tente novamente.")}finally{C(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5 flex items-center justify-center p-4",children:[a.jsx("div",{className:"fixed top-4 right-4 z-50",children:a.jsx(Nc,{})}),a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:Mi,alt:"Orkadia Logo",className:"w-48 h-auto"})}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-1 flex",children:[a.jsx("button",{onClick:()=>s("login"),className:`px-6 py-2 rounded-md font-medium transition-all ${n==="login"?"bg-blue-500 text-white shadow-lg":"text-muted-foreground hover:text-foreground"}`,children:"Entrar"}),a.jsx("button",{onClick:()=>s("signup"),className:`px-6 py-2 rounded-md font-medium transition-all ${n==="signup"?"bg-blue-500 text-white shadow-lg":"text-muted-foreground hover:text-foreground"}`,children:"Registrar"})]})})]}),n==="login"&&a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm shadow-elevated",children:[a.jsx(Ve,{className:"text-center pb-4",children:a.jsx(Ge,{className:"text-3xl bg-gradient-orkut bg-clip-text text-transparent",children:"Entrar na Orkadia"})}),a.jsx(Me,{children:a.jsxs("form",{onSubmit:B,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pm,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(ht,{type:"email",placeholder:"E-mail",value:d,onChange:T=>u(T.target.value),className:"pl-10 h-12"}),P.login_email&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:P.login_email})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Nd,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(ht,{type:o?"text":"password",placeholder:"Senha",value:f,onChange:T=>m(T.target.value),className:"pl-10 pr-10 h-12"}),a.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:o?a.jsx(af,{className:"h-5 w-5"}):a.jsx(Fo,{className:"h-5 w-5"})}),P.login_password&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:P.login_password})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",className:"text-sm text-muted-foreground hover:text-foreground",children:"Esqueceu sua senha?"})}),a.jsx($,{type:"submit",disabled:p,className:"w-full h-12 bg-gradient-orkut hover:opacity-90 text-white font-semibold",children:p?"Entrando...":"Entrar"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"No tem uma conta? "}),a.jsx("button",{type:"button",onClick:()=>s("signup"),className:"text-sm text-primary hover:underline font-medium",children:"Registrar"})]})]})})]}),n==="signup"&&a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm shadow-elevated",children:[a.jsx(Ve,{className:"text-center pb-4",children:a.jsx(Ge,{className:"text-3xl bg-gradient-orkut bg-clip-text text-transparent",children:"Registrar na Orkadia"})}),a.jsx(Me,{children:a.jsxs("form",{onSubmit:I,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(q1,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(ht,{type:"text",placeholder:"Nome de Usurio",value:g,onChange:T=>w(T.target.value),className:"pl-10 h-12"}),P.signup_username&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:P.signup_username})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pm,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(ht,{type:"email",placeholder:"E-mail",value:b,onChange:T=>v(T.target.value),className:"pl-10 h-12"}),P.signup_email&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:P.signup_email})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Nd,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(ht,{type:o?"text":"password",placeholder:"Senha",value:y,onChange:T=>j(T.target.value),className:"pl-10 pr-10 h-12"}),a.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:o?a.jsx(af,{className:"h-5 w-5"}):a.jsx(Fo,{className:"h-5 w-5"})}),P.signup_password&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:P.signup_password})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Nd,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(ht,{type:l?"text":"password",placeholder:"Confirmar Senha",value:N,onChange:T=>_(T.target.value),className:"pl-10 pr-10 h-12"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:l?a.jsx(af,{className:"h-5 w-5"}):a.jsx(Fo,{className:"h-5 w-5"})}),P.confirm_password&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:P.confirm_password})]}),a.jsxs("div",{className:"relative",children:[a.jsx(mr,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),a.jsx(ht,{type:"text",placeholder:"Cdigo de Convite (opcional)",value:S,onChange:T=>k(T.target.value.toUpperCase()),className:"pl-10 h-12"}),S&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Cdigo de convite aplicado!"})]}),a.jsx($,{type:"submit",disabled:A,className:"w-full h-12 bg-gradient-orkut hover:opacity-90 text-white font-semibold",children:A?"Criando Conta...":"Criar Conta"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"J tem uma conta? "}),a.jsx("button",{type:"button",onClick:()=>s("login"),className:"text-sm text-primary hover:underline font-medium",children:"Entrar"})]})]})})]}),a.jsxs("div",{className:"text-center mt-8",children:[a.jsx("button",{onClick:()=>R("/"),className:"text-muted-foreground hover:text-foreground text-sm",children:"Voltar para o incio"}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Ao criar uma conta, voc concorda com nossos"," ",a.jsx($e,{to:"/terms",className:"text-primary hover:underline",children:"Termos de Uso"})," ","e"," ",a.jsx($e,{to:"/privacy",className:"text-primary hover:underline",children:"Poltica de Privacidade"})]})]})]})]})};function P$(){const[e]=Hg(),t=Ot(),[r,n]=h.useState(!1);e.get("error");const s=e.get("error_code"),o=e.get("error_description");h.useEffect(()=>{s==="unexpected_failure"&&(o!=null&&o.includes("Database error"))&&i()},[s,o]);const i=async()=>{var d,u,f,m;n(!0);try{const{data:{user:p}}=await O.auth.getUser();if(p){const{data:x}=await O.from("profiles").select("id").eq("id",p.id).single();if(x){t("/dashboard");return}else{const g=((d=p.email)==null?void 0:d.split("@")[0])||"user",w=Math.floor(Math.random()*1e4),b=`${g}${w}`,{error:v}=await O.from("profiles").insert({id:p.id,username:b,display_name:((u=p.user_metadata)==null?void 0:u.full_name)||((f=p.email)==null?void 0:f.split("@")[0])||"Usurio",avatar_url:((m=p.user_metadata)==null?void 0:m.avatar_url)||null,email:p.email});if(v)console.error("Erro ao criar perfil:",v),L.error("Erro ao criar perfil. Tente novamente.");else{L.success("Perfil criado com sucesso!"),t("/dashboard");return}}}}catch(p){console.error("Erro ao corrigir problema:",p),L.error("Erro ao corrigir problema.")}finally{n(!1)}},c=s==="unexpected_failure"&&(o!=null&&o.includes("Database error"))?{title:"Erro na Criao do Perfil",description:"Houve um problema ao criar seu perfil. Estamos tentando corrigir automaticamente.",canFix:!0}:{title:"Erro de Autenticao",description:o||"Ocorreu um erro durante o login.",canFix:!1};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(V,{className:"w-full max-w-md",children:[a.jsxs(Ve,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:a.jsx(U1,{className:"w-6 h-6 text-destructive"})}),a.jsx(Ge,{className:"text-xl",children:c.title})]}),a.jsxs(Me,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground text-center",children:c.description}),r&&a.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary",children:[a.jsx($1,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Corrigindo problema..."})]}),a.jsxs("div",{className:"space-y-2",children:[c.canFix&&!r&&a.jsx($,{onClick:i,className:"w-full",children:"Tentar Corrigir"}),a.jsx($,{variant:"outline",onClick:()=>t("/auth"),className:"w-full",children:"Voltar ao Login"})]}),!1]})]})})}const gt=({icon:e,label:t,active:r,onClick:n,className:s})=>a.jsxs("button",{onClick:n,className:le("flex flex-col items-center gap-2 p-4 rounded-lg transition-all duration-300 group","hover:scale-105 hover:shadow-elevated",r?"bg-gradient-orkut text-primary-foreground shadow-glow":"bg-card hover:bg-muted",s),children:[a.jsx("div",{className:le("p-3 rounded-full transition-all duration-300",r?"bg-white/20":"bg-primary/10 group-hover:bg-primary/20"),children:a.jsx(e,{className:le("w-6 h-6",r?"text-white":"text-primary")})}),a.jsx("span",{className:le("text-sm font-medium",r?"text-white":"text-foreground"),children:t})]}),Vt=h.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Vt.displayName="Textarea";var xh="Dialog",[qN]=ir(xh),[T$,tn]=qN(xh),VN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=Bs({prop:n,defaultProp:s??!1,onChange:o,caller:xh});return a.jsx(T$,{scope:t,triggerRef:l,contentRef:c,contentId:Qr(),titleId:Qr(),descriptionId:Qr(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:i,children:r})};VN.displayName=xh;var WN="DialogTrigger",HN=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=tn(WN,r),o=Se(t,s.triggerRef);return a.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cv(s.open),...n,ref:o,onClick:Q(e.onClick,s.onOpenToggle)})});HN.displayName=WN;var iv="DialogPortal",[R$,GN]=qN(iv,{forceMount:void 0}),KN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=tn(iv,t);return a.jsx(R$,{scope:t,forceMount:r,children:h.Children.map(n,i=>a.jsx(Rt,{present:r||o.open,children:a.jsx(Ci,{asChild:!0,container:s,children:i})}))})};KN.displayName=iv;var wu="DialogOverlay",QN=h.forwardRef((e,t)=>{const r=GN(wu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=tn(wu,e.__scopeDialog);return o.modal?a.jsx(Rt,{present:n||o.open,children:a.jsx(A$,{...s,ref:t})}):null});QN.displayName=wu;var O$=Us("DialogOverlay.RemoveScroll"),A$=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=tn(wu,r);return a.jsx(bc,{as:O$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ue.div,{"data-state":cv(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ha="DialogContent",YN=h.forwardRef((e,t)=>{const r=GN(Ha,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=tn(Ha,e.__scopeDialog);return a.jsx(Rt,{present:n||o.open,children:o.modal?a.jsx(M$,{...s,ref:t}):a.jsx(I$,{...s,ref:t})})});YN.displayName=Ha;var M$=h.forwardRef((e,t)=>{const r=tn(Ha,e.__scopeDialog),n=h.useRef(null),s=Se(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return lh(o)},[]),a.jsx(XN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault())})}),I$=h.forwardRef((e,t)=>{const r=tn(Ha,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(XN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),XN=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=tn(Ha,r),c=h.useRef(null),d=Se(t,c);return oh(),a.jsxs(a.Fragment,{children:[a.jsx(yc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Xa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cv(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(D$,{titleId:l.titleId}),a.jsx(L$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),lv="DialogTitle",ZN=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=tn(lv,r);return a.jsx(ue.h2,{id:s.titleId,...n,ref:t})});ZN.displayName=lv;var JN="DialogDescription",eS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=tn(JN,r);return a.jsx(ue.p,{id:s.descriptionId,...n,ref:t})});eS.displayName=JN;var tS="DialogClose",rS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=tn(tS,r);return a.jsx(ue.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});rS.displayName=tS;function cv(e){return e?"open":"closed"}var nS="DialogTitleWarning",[Nz,sS]=oP(nS,{contentName:Ha,titleName:lv,docsSlug:"dialog"}),D$=({titleId:e})=>{const t=sS(nS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$$="DialogDescriptionWarning",L$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sS($$).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},F$=VN,z$=HN,U$=KN,aS=QN,oS=YN,iS=ZN,lS=eS,B$=rS;const gr=F$,p0=z$,q$=U$,cS=h.forwardRef(({className:e,...t},r)=>a.jsx(aS,{ref:r,className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cS.displayName=aS.displayName;const or=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(q$,{children:[a.jsx(cS,{}),a.jsxs(oS,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(B$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Gn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));or.displayName=oS.displayName;const vr=({className:e,...t})=>a.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vr.displayName="DialogHeader";const xr=h.forwardRef(({className:e,...t},r)=>a.jsx(iS,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));xr.displayName=iS.displayName;const sa=h.forwardRef(({className:e,...t},r)=>a.jsx(lS,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));sa.displayName=lS.displayName;function xp(e,[t,r]){return Math.min(r,Math.max(t,e))}function V$(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var dv="ScrollArea",[dS]=ir(dv),[W$,Mr]=dS(dv),uS=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[p,x]=h.useState(null),[g,w]=h.useState(null),[b,v]=h.useState(0),[y,j]=h.useState(0),[N,_]=h.useState(!1),[S,k]=h.useState(!1),A=Se(t,P=>c(P)),C=xc(s);return a.jsx(W$,{scope:r,type:n,dir:C,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:j,children:a.jsx(ue.div,{dir:C,...i,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});uS.displayName=dv;var hS="ScrollAreaViewport",fS=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=e,i=Mr(hS,r),l=h.useRef(null),c=Se(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});fS.displayName=hS;var Nn="ScrollAreaScrollbar",uv=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Mr(Nn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(H$,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(G$,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(mS,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(hv,{...n,ref:t}):null});uv.displayName=Nn;var H$=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Mr(Nn,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Rt,{present:r||o,children:a.jsx(mS,{"data-state":o?"visible":"hidden",...n,ref:t})})}),G$=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Mr(Nn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=wh(()=>c("SCROLL_END"),100),[l,c]=V$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const d=s.viewport,u=o?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const p=d[u];f!==p&&(c("SCROLL"),i()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,o,c,i]),a.jsx(Rt,{present:r||l!=="hidden",children:a.jsx(hv,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),mS=h.forwardRef((e,t)=>{const r=Mr(Nn,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=wh(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?d:u)}},10);return yi(r.viewport,c),yi(r.content,c),a.jsx(Rt,{present:n||o,children:a.jsx(hv,{"data-state":o?"visible":"hidden",...s,ref:t})})}),hv=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Mr(Nn,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=yS(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return J$(m,i.current,l,p)}return r==="horizontal"?a.jsx(K$,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,p=g0(m,l,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?a.jsx(Q$,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,p=g0(m,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),K$=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Mr(Nn,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=Se(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(gS,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const m=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),bS(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ju(i.paddingLeft),paddingEnd:ju(i.paddingRight)}})}})}),Q$=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Mr(Nn,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=Se(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(gS,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const m=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),bS(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ju(i.paddingTop),paddingEnd:ju(i.paddingBottom)}})}})}),[Y$,pS]=dS(Nn),gS=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,p=Mr(Nn,r),[x,g]=h.useState(null),w=Se(t,A=>g(A)),b=h.useRef(null),v=h.useRef(""),y=p.viewport,j=n.content-n.viewport,N=nt(u),_=nt(c),S=wh(f,10);function k(A){if(b.current){const C=A.clientX-b.current.left,P=A.clientY-b.current.top;d({x:C,y:P})}}return h.useEffect(()=>{const A=C=>{const P=C.target;(x==null?void 0:x.contains(P))&&N(C,j)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[y,x,j,N]),h.useEffect(_,[n,_]),yi(x,S),yi(p.content,S),a.jsx(Y$,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:nt(o),onThumbPointerUp:nt(i),onThumbPositionChange:_,onThumbPointerDown:nt(l),children:a.jsx(ue.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:Q(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(A))}),onPointerMove:Q(e.onPointerMove,k),onPointerUp:Q(e.onPointerUp,A=>{const C=A.target;C.hasPointerCapture(A.pointerId)&&C.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),bu="ScrollAreaThumb",vS=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=pS(bu,e.__scopeScrollArea);return a.jsx(Rt,{present:r||s.hasThumb,children:a.jsx(X$,{ref:t,...n})})}),X$=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=Mr(bu,r),i=pS(bu,r),{onThumbPositionChange:l}=i,c=Se(t,f=>i.onThumbChange(f)),d=h.useRef(void 0),u=wh(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const m=()=>{if(u(),!d.current){const p=eL(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,u,l]),a.jsx(ue.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Q(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,g=f.clientY-p.top;i.onThumbPointerDown({x,y:g})}),onPointerUp:Q(e.onPointerUp,i.onThumbPointerUp)})});vS.displayName=bu;var fv="ScrollAreaCorner",xS=h.forwardRef((e,t)=>{const r=Mr(fv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(Z$,{...e,ref:t}):null});xS.displayName=fv;var Z$=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Mr(fv,r),[o,i]=h.useState(0),[l,c]=h.useState(0),d=!!(o&&l);return yi(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),yi(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),d?a.jsx(ue.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ju(e){return e?parseInt(e,10):0}function yS(e,t){const r=e/t;return isNaN(r)?0:r}function yh(e){const t=yS(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function J$(e,t,r,n="ltr"){const s=yh(r),o=s/2,i=t||o,l=s-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return wS([c,d],f)(e)}function g0(e,t,r="ltr"){const n=yh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],d=xp(e,c);return wS([0,i],[0,l])(d)}function wS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bS(e,t){return e>0&&e<t}var eL=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function wh(e,t){const r=nt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function yi(e,t){const r=nt(t);ct(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var jS=uS,tL=fS,rL=xS;const $i=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(jS,{ref:n,className:le("relative overflow-hidden",e),...r,children:[a.jsx(tL,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(_S,{}),a.jsx(rL,{})]}));$i.displayName=jS.displayName;const _S=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(uv,{ref:n,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(vS,{className:"relative flex-1 rounded-full bg-border"})}));_S.displayName=uv.displayName;const aa=()=>{const{user:e}=bt(),[t,r]=h.useState({level:1,experience:0,totalExperience:0}),[n,s]=h.useState({postsCreated:0,commentsMade:0,likesGiven:0,likesReceived:0,clubsJoined:0,loginStreak:0}),[o,i]=h.useState([]),[l,c]=h.useState(!0),d=j=>Math.floor(Math.sqrt(j/100))+1,u=j=>j*j*100,f=()=>{const j=(t.level-1)*(t.level-1)*100,N=t.level*t.level*100,_=t.totalExperience-j,S=N-j,k=_/S*100;return{current:_,needed:S,percentage:Math.min(k,100)}},m=()=>{if(e)try{const j=localStorage.getItem(`gamification_level_${e.id}`),N=localStorage.getItem(`gamification_stats_${e.id}`),_=localStorage.getItem(`gamification_achievements_${e.id}`);if(j){const S=JSON.parse(j);r(S)}if(N){const S=JSON.parse(N);s(S)}if(_){const S=JSON.parse(_);i(S)}else x()}catch(j){console.error("Erro ao carregar dados de gamificao:",j),x()}finally{c(!1)}},p=()=>{e&&(localStorage.setItem(`gamification_level_${e.id}`,JSON.stringify(t)),localStorage.setItem(`gamification_stats_${e.id}`,JSON.stringify(n)),localStorage.setItem(`gamification_achievements_${e.id}`,JSON.stringify(o)))},x=()=>{i([{id:"1",name:"Primeiro Passo",description:"Crie sua primeira postagem",icon:"",points:50,unlocked:!1},{id:"2",name:"Conversador",description:"Faa 10 comentrios",icon:"",points:100,unlocked:!1},{id:"3",name:"Socivel",description:"D 25 curtidas",icon:"",points:75,unlocked:!1},{id:"4",name:"Popular",description:"Receba 50 curtidas",icon:"",points:150,unlocked:!1},{id:"5",name:"Escritor",description:"Crie 10 postagens",icon:"",points:200,unlocked:!1},{id:"6",name:"Explorador",description:"Entre em 3 clubes",icon:"",points:100,unlocked:!1},{id:"7",name:"Dedicado",description:"Faa login por 7 dias seguidos",icon:"",points:200,unlocked:!1}])},g=(j,N)=>{r(_=>{const S=_.totalExperience+j,k=d(S),A=S-(k-1)*(k-1)*100;return{level:k,experience:A,totalExperience:S}}),N&&console.log(`+${j} XP: ${N}`)},w=()=>{i(j=>j.map(N=>{if(N.unlocked)return N;let _=!1;switch(N.id){case"1":_=n.postsCreated>=1;break;case"2":_=n.commentsMade>=10;break;case"3":_=n.likesGiven>=25;break;case"4":_=n.likesReceived>=50;break;case"5":_=n.postsCreated>=10;break;case"6":_=n.clubsJoined>=3;break;case"7":_=n.loginStreak>=7;break}return _&&!N.unlocked?(g(N.points,`Conquista desbloqueada: ${N.name}`),{...N,unlocked:!0}):N}))},b={postCreated:()=>{s(j=>({...j,postsCreated:j.postsCreated+1})),g(25,"Postagem criada")},commentMade:()=>{s(j=>({...j,commentsMade:j.commentsMade+1})),g(10,"Comentrio feito")},likeGiven:()=>{s(j=>({...j,likesGiven:j.likesGiven+1})),g(5,"Curtida dada")},likeReceived:()=>{s(j=>({...j,likesReceived:j.likesReceived+1})),g(15,"Curtida recebida")},clubJoined:()=>{s(j=>({...j,clubsJoined:j.clubsJoined+1})),g(50,"Entrou em um clube")},dailyLogin:()=>{const j=new Date().toDateString(),N=localStorage.getItem(`last_login_${e==null?void 0:e.id}`);if(N!==j){const _=new Date;_.setDate(_.getDate()-1),N===_.toDateString()?s(S=>({...S,loginStreak:S.loginStreak+1})):s(S=>({...S,loginStreak:1})),localStorage.setItem(`last_login_${e==null?void 0:e.id}`,j),g(20,"Login dirio")}}},v=()=>o.filter(j=>j.unlocked),y=()=>[{username:"Voc",level:t.level,experience:t.totalExperience,position:1}];return h.useEffect(()=>{e&&(m(),b.dailyLogin())},[e]),h.useEffect(()=>{w()},[n]),h.useEffect(()=>{p()},[t,n,o]),{userLevel:t,userStats:n,achievements:o,loading:l,addExperience:g,trackActivity:b,getLevelProgress:f,getExperienceForNextLevel:u,getUnlockedAchievements:v,getRanking:y,calculateLevel:d}},nL=({postId:e,isOpen:t,onClose:r})=>{const{trackActivity:n}=aa(),[s,o]=h.useState([]),[i,l]=h.useState(""),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,p]=h.useState({}),[x,g]=h.useState({}),[w,b]=h.useState({});h.useEffect(()=>{t&&v()},[t,e]);const v=async()=>{d(!0);try{const{data:N,error:_}=await O.from("comments").select(`
          *,
          profiles:author_id (*)
        `).eq("post_id",e).order("created_at",{ascending:!0});if(_)throw _;o(N||[]);const S=(N||[]).map(k=>k.id);if(S.length>0)try{const{data:k,error:A}=await O.from("comment_replies").select(`
              *,
              profiles:author_id (*)
            `).in("comment_id",S).order("created_at",{ascending:!0});if(A)p({});else{const C={};(k||[]).forEach(P=>{const D=P.comment_id;C[D]||(C[D]=[]),C[D].push(P)}),p(C)}}catch{p({})}else p({})}catch(N){console.error("Erro ao carregar comentrios:",N),L.error("Erro ao carregar comentrios")}finally{d(!1)}},y=async()=>{if(i.trim()){f(!0);try{const{data:{user:N}}=await O.auth.getUser();if(!N)throw new Error("Usurio no autenticado");const{error:_}=await O.from("comments").insert({post_id:e,user_id:N.id,author_id:N.id,content:i.trim()});if(_)throw _;l(""),n.commentMade(),L.success("Comentrio adicionado! +10 XP"),v()}catch(N){console.error("Erro ao criar comentrio:",N),L.error("Erro ao adicionar comentrio")}finally{f(!1)}}},j=async N=>{const _=(x[N]||"").trim();if(_){b(S=>({...S,[N]:!0}));try{const{data:{user:S}}=await O.auth.getUser();if(!S)throw new Error("Usurio no autenticado");const{error:k}=await O.from("comment_replies").insert({comment_id:N,user_id:S.id,author_id:S.id,content:_});if(k)throw k;g(P=>({...P,[N]:""})),L.success("Resposta adicionada!");const{data:A,error:C}=await O.from("comment_replies").select(`
          *,
          profiles:author_id (*)
        `).eq("comment_id",N).order("created_at",{ascending:!0});C||p(P=>({...P,[N]:A||[]}))}catch(S){console.error("Erro ao responder comentrio:",S),L.error("Respostas indisponveis: configure a tabela comment_replies ou polticas")}finally{b(S=>({...S,[N]:!1}))}}};return a.jsx(gr,{open:t,onOpenChange:r,children:a.jsxs(or,{className:"max-w-2xl max-h-[80vh]","aria-describedby":void 0,children:[a.jsxs(vr,{children:[a.jsx(xr,{children:"Comentrios"}),a.jsx(sa,{children:"Converse com outros cidados. Seja gentil e respeitoso."})]}),a.jsx($i,{className:"h-[400px] pr-4",children:c?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum comentrio ainda. Seja o primeiro!"}):a.jsx("div",{className:"space-y-4",children:s.map(N=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold flex-shrink-0",children:N.profiles.display_name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 bg-muted rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-semibold text-sm",children:N.profiles.display_name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(N.created_at).toLocaleDateString("pt-BR")})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.content}),a.jsxs("div",{className:"mt-3 space-y-2",children:[(m[N.id]||[]).map(_=>{var S,k,A,C;return a.jsxs("div",{className:"flex gap-2 ml-8",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-orkut flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:(A=(k=(S=_.profiles)==null?void 0:S.display_name)==null?void 0:k.charAt(0))==null?void 0:A.toUpperCase()}),a.jsxs("div",{className:"flex-1 bg-background/60 rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-semibold text-xs",children:(C=_.profiles)==null?void 0:C.display_name}),a.jsx("span",{className:"text-[10px] text-muted-foreground",children:_.created_at?new Date(_.created_at).toLocaleDateString("pt-BR"):""})]}),a.jsx("p",{className:"text-xs whitespace-pre-wrap",children:_.content})]})]},_.id)}),a.jsxs("div",{className:"flex gap-2 ml-8 pt-2",children:[a.jsx(Vt,{placeholder:"Responder...",value:x[N.id]||"",onChange:_=>g(S=>({...S,[N.id]:_.target.value})),className:"min-h-[40px] text-xs",onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),j(N.id))}}),a.jsx($,{onClick:()=>j(N.id),disabled:!(x[N.id]||"").trim()||!!w[N.id],size:"icon",className:"h-8 w-8",children:a.jsx(Fa,{className:"w-3 h-3"})})]})]})]})]},N.id))})}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsx(Vt,{placeholder:"Escreva um comentrio...",value:i,onChange:N=>l(N.target.value),className:"min-h-[80px]",onKeyDown:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),y())}}),a.jsx($,{onClick:y,disabled:!i.trim()||u,size:"icon",className:"h-10 w-10",children:a.jsx(Fa,{className:"w-4 h-4"})})]})]})})};var NS={exports:{}},SS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=h;function sL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aL=typeof Object.is=="function"?Object.is:sL,oL=wi.useState,iL=wi.useEffect,lL=wi.useLayoutEffect,cL=wi.useDebugValue;function dL(e,t){var r=t(),n=oL({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return lL(function(){s.value=r,s.getSnapshot=t,Rf(s)&&o({inst:s})},[e,r,t]),iL(function(){return Rf(s)&&o({inst:s}),e(function(){Rf(s)&&o({inst:s})})},[e]),cL(r),r}function Rf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!aL(e,r)}catch{return!0}}function uL(e,t){return t()}var hL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uL:dL;SS.useSyncExternalStore=wi.useSyncExternalStore!==void 0?wi.useSyncExternalStore:hL;NS.exports=SS;var fL=NS.exports;function mL(){return fL.useSyncExternalStore(pL,()=>!0,()=>!1)}function pL(){return()=>{}}var mv="Avatar",[gL]=ir(mv),[vL,kS]=gL(mv),CS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=h.useState("idle");return a.jsx(vL,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(ue.span,{...n,ref:t})})});CS.displayName=mv;var ES="AvatarImage",PS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=kS(ES,r),l=xL(n,o),c=nt(d=>{s(d),i.onImageLoadingStatusChange(d)});return ct(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(ue.img,{...o,ref:t,src:n}):null});PS.displayName=ES;var TS="AvatarFallback",RS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=kS(TS,r),[i,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(ue.span,{...s,ref:t}):null});RS.displayName=TS;function v0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xL(e,{referrerPolicy:t,crossOrigin:r}){const n=mL(),s=h.useRef(null),o=n?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>v0(o,e));return ct(()=>{l(v0(o,e))},[o,e]),ct(()=>{const c=f=>()=>{l(f)};if(!o)return;const d=c("loaded"),u=c("error");return o.addEventListener("load",d),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",d),o.removeEventListener("error",u)}},[o,r,t]),i}var OS=CS,AS=PS,MS=RS;const Nt=h.forwardRef(({className:e,...t},r)=>a.jsx(OS,{ref:r,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Nt.displayName=OS.displayName;const St=h.forwardRef(({className:e,...t},r)=>a.jsx(AS,{ref:r,className:le("aspect-square h-full w-full",e),...t}));St.displayName=AS.displayName;const kt=h.forwardRef(({className:e,...t},r)=>a.jsx(MS,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));kt.displayName=MS.displayName;function yL({storyGroup:e,onClose:t}){const{user:r}=bt(),[n,s]=h.useState(0),[o,i]=h.useState(!1),[l,c]=h.useState(0),d=h.useRef(null),u=e.stories[n],f=5e3;h.useEffect(()=>(o?p():m(),()=>p()),[n,o]),h.useEffect(()=>{r&&u&&u.user_id!==r.id&&x(u.id)},[n,r]);const m=()=>{c(0);const v=Date.now();d.current=setInterval(()=>{const j=(Date.now()-v)/f*100;j>=100?w():c(j)},50)},p=()=>{d.current&&(clearInterval(d.current),d.current=null)},x=async v=>{r&&await O.from("story_views").insert({story_id:v,viewer_id:r.id}).select().single()},g=()=>{n>0&&s(n-1)},w=()=>{n<e.stories.length-1?s(n+1):t()},b=()=>{i(!o)};return Zs.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden shadow-2xl max-w-md w-full aspect-[9/16] max-h-[90vh]",onClick:v=>v.stopPropagation(),children:[a.jsx("div",{className:"absolute top-3 left-3 right-3 flex gap-1 z-10",children:e.stories.map((v,y)=>a.jsx("div",{className:"flex-1 h-0.5 bg-white/30 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-white transition-all duration-100",style:{width:y<n?"100%":y===n?`${l}%`:"0%"}})},y))}),a.jsxs("div",{className:"absolute top-6 left-3 right-3 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Nt,{className:"h-8 w-8 border-2 border-white",children:[a.jsx(St,{src:e.avatar_url||void 0}),a.jsx(kt,{children:e.display_name[0]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-sm",children:e.display_name}),a.jsx("p",{className:"text-white/80 text-xs",children:new Date(u.created_at).toLocaleDateString("pt-BR")})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx($,{size:"icon",variant:"ghost",onClick:b,className:"h-8 w-8 text-white hover:bg-white/20",children:o?a.jsx(vT,{className:"h-4 w-4"}):a.jsx(gT,{className:"h-4 w-4"})}),a.jsx($,{size:"icon",variant:"ghost",onClick:t,className:"h-8 w-8 text-white hover:bg-white/20",children:a.jsx(Gn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[u.media_type==="image"?a.jsx("img",{src:u.media_url,alt:"Story",className:"w-full h-full object-cover"}):a.jsx("video",{src:u.media_url,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0}),a.jsxs("div",{className:"absolute inset-0 flex",children:[a.jsx("div",{className:"w-1/3 h-full cursor-pointer",onClick:g}),a.jsx("div",{className:"w-1/3 h-full cursor-pointer",onClick:b}),a.jsx("div",{className:"w-1/3 h-full cursor-pointer",onClick:w})]})]}),n>0&&a.jsx($,{size:"icon",variant:"ghost",onClick:g,className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 text-white hover:bg-white/20 opacity-70 hover:opacity-100",children:a.jsx(R1,{className:"h-6 w-6"})}),n<e.stories.length-1&&a.jsx($,{size:"icon",variant:"ghost",onClick:w,className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 text-white hover:bg-white/20 opacity-70 hover:opacity-100",children:a.jsx(Ng,{className:"h-6 w-6"})})]})}),document.body)}var wL="Label",IS=h.forwardRef((e,t)=>a.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));IS.displayName=wL;var DS=IS;const bL=Ku("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yt=h.forwardRef(({className:e,...t},r)=>a.jsx(DS,{ref:r,className:le(bL(),e),...t}));yt.displayName=DS.displayName;function jL({onClose:e,onSuccess:t}){const{user:r}=bt(),[n,s]=h.useState(!1),[o,i]=h.useState(null),[l,c]=h.useState(null),[d,u]=h.useState("image"),f=p=>{var b;const x=(b=p.target.files)==null?void 0:b[0];if(!x)return;if(x.size>10*1024*1024){L.error("Arquivo muito grande! Mximo 10MB");return}const g=x.type.startsWith("video/");u(g?"video":"image"),c(x);const w=new FileReader;w.onloadend=()=>{i(w.result)},w.readAsDataURL(x)},m=async()=>{if(!(!r||!l)){s(!0);try{const p=l.name.split(".").pop(),g=`${`${r.id}-${Date.now()}.${p}`}`,{error:w,data:b}=await O.storage.from("post-images").upload(g,l);if(w)throw w;const{data:{publicUrl:v}}=O.storage.from("post-images").getPublicUrl(g),{error:y}=await O.from("stories").insert({user_id:r.id,media_url:v,media_type:d});if(y)throw y;t()}catch(p){console.error("Error uploading story:",p),L.error("Erro ao publicar story")}finally{s(!1)}}};return a.jsx(gr,{open:!0,onOpenChange:e,children:a.jsxs(or,{className:"sm:max-w-md",children:[a.jsx(vr,{children:a.jsx(xr,{children:"Adicionar Story"})}),a.jsxs("div",{className:"space-y-4",children:[o?a.jsxs("div",{className:"relative",children:[d==="image"?a.jsx("img",{src:o,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}):a.jsx("video",{src:o,className:"w-full h-64 object-cover rounded-lg",controls:!0}),a.jsx($,{size:"icon",variant:"ghost",onClick:()=>{i(null),c(null)},className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white",children:a.jsx(Gn,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[a.jsx(yt,{htmlFor:"story-upload",className:"cursor-pointer",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(Wl,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique para selecionar uma foto ou vdeo"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Mximo 10MB"})]})}),a.jsx(ht,{id:"story-upload",type:"file",accept:"image/*,video/*",onChange:f,className:"hidden"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:e,children:"Cancelar"}),a.jsx($,{onClick:m,disabled:!l||n,children:n?"Publicando...":"Publicar Story"})]})]})]})})}function _L(){const{user:e}=bt(),[t,r]=h.useState([]),[n,s]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState([]),[d,u]=h.useState(null);h.useEffect(()=>{e&&(m(),f())},[e]);const f=async()=>{if(!e)return;const{data:g}=await O.from("profiles").select("avatar_url").eq("id",e.id).single();u(g)},m=async()=>{if(!e)return;const{data:g,error:w}=await O.from("stories").select(`
        *,
        profiles!stories_user_id_fkey (
          username,
          display_name,
          avatar_url
        )
      `).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(w){console.error("Error loading stories:",w);return}const{data:b}=await O.from("story_views").select("story_id").eq("viewer_id",e.id),v=new Set((b==null?void 0:b.map(_=>_.story_id))||[]),y=(g||[]).reduce((_,S)=>{const k=v.has(S.id),A={...S,profile:S.profiles,hasViewed:k},C=_.find(P=>P.user_id===S.user_id);return C?(C.stories.push(A),C.hasViewed=C.hasViewed&&k):_.push({user_id:S.user_id,username:S.profiles.username,display_name:S.profiles.display_name,avatar_url:S.profiles.avatar_url,stories:[A],hasViewed:k}),_},[]),j=y.filter(_=>_.user_id===e.id),N=y.filter(_=>_.user_id!==e.id);j.length>0?c(j[0].stories):c([]),N.sort((_,S)=>_.hasViewed!==S.hasViewed?_.hasViewed?1:-1:new Date(S.stories[0].created_at).getTime()-new Date(_.stories[0].created_at).getTime()),r(N)},p=g=>{s(g)},x=()=>{i(!1),m(),L.success("Story publicado!")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 px-4 sm:px-0 scrollbar-hide",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0",children:[a.jsxs("div",{onClick:()=>l.length>0?p({user_id:e.id,username:"",display_name:"Seu Story",avatar_url:null,stories:l,hasViewed:!1}):i(!0),className:"relative cursor-pointer",children:[a.jsx("div",{className:`p-1 rounded-full ${l.length>0?"bg-gradient-to-tr from-yellow-400 via-orange-500 to-pink-500":"bg-muted"}`,children:a.jsxs(Nt,{className:"h-16 w-16 border-2 border-background",children:[a.jsx(St,{src:d==null?void 0:d.avatar_url}),a.jsx(kt,{children:"Voc"})]})}),l.length===0&&a.jsx("div",{className:"absolute bottom-0 right-0 bg-primary rounded-full p-1",children:a.jsx(Sg,{className:"h-4 w-4 text-primary-foreground"})})]}),a.jsx("span",{className:"text-xs text-center max-w-[70px] truncate",children:l.length>0?"Seu Story":"Adicionar"})]}),t.map(g=>a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer",onClick:()=>p(g),children:[a.jsx("div",{className:`p-1 rounded-full ${g.hasViewed?"bg-muted":"bg-gradient-to-tr from-yellow-400 via-orange-500 to-pink-500"}`,children:a.jsxs(Nt,{className:"h-16 w-16 border-2 border-background",children:[a.jsx(St,{src:g.avatar_url||void 0}),a.jsx(kt,{children:g.display_name[0]})]})}),a.jsx("span",{className:"text-xs text-center max-w-[70px] truncate",children:g.display_name})]},g.user_id))]}),n&&a.jsx(yL,{storyGroup:n,onClose:()=>{s(null),m()}}),o&&a.jsx(jL,{onClose:()=>i(!1),onSuccess:x})]})}const NL=[{type:"arretado",emoji:"",label:"Arretado!",color:"text-accent"},{type:"oxente",emoji:"",label:"Oxente!",color:"text-secondary"},{type:"saudade",emoji:"",label:"Saudade",color:"text-primary"},{type:"conversa",emoji:"",label:"Boa conversa!",color:"text-muted-foreground"}],SL=({postId:e,onReact:t,selectedReaction:r})=>{const[n,s]=h.useState(!1),o=i=>{t==null||t(i)};return a.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:NL.map(i=>{const l=r===i.type;return a.jsxs($,{variant:l?"default":"ghost",size:"sm",onClick:()=>o(i.type),className:le("gap-1 transition-all hover:scale-110",l&&"shadow-glow"),children:[a.jsx("span",{className:"text-lg",children:i.emoji}),a.jsx("span",{className:le("text-xs font-medium",l&&"text-primary-foreground"),children:i.label})]},i.type)})})},kL={poet:{type:"poet",icon:D1,label:"Cidado Potico",color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-950"},chronicler:{type:"chronicler",icon:$n,label:"Cronista da Praa",color:"text-secondary",bgColor:"bg-secondary/20"},humorist:{type:"humorist",icon:wT,label:"Humorista da Vila",color:"text-accent",bgColor:"bg-accent/20"},star:{type:"star",icon:Ua,label:"Estrela da Cidade",color:"text-primary",bgColor:"bg-primary/20"}},CL=({type:e,size:t="md",showLabel:r=!0})=>{const n=kL[e],s=n.icon,o={sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"},i={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return a.jsxs("div",{className:le("inline-flex items-center gap-1.5 rounded-full font-medium transition-all hover:scale-105",n.color,n.bgColor,o[t]),children:[a.jsx(s,{className:i[t]}),r&&a.jsx("span",{children:n.label})]})},EL=()=>{const e=["poet","chronicler","humorist","star"];return e[Math.floor(Math.random()*e.length)]},PL=e=>{const t=new Date,r=new Date(e),n=Math.floor((t.getTime()-r.getTime())/6e4);if(n<1)return"agora";if(n<60)return`h ${n}m`;const s=Math.floor(n/60);if(s<24)return`h ${s}h`;const o=Math.floor(s/24);return o===1?"ontem":o<7?`h ${o} dias`:r.toLocaleDateString("pt-BR")},TL=()=>{const e=new Date().getHours();return e<12?{text:"Bom dia, Orkadianos!",icon:bT,message:"O sol nasceu na Praa Central  compartilhe sua histria de hoje."}:e<18?{text:"Boa tarde, Orkadianos!",icon:Vl,message:"A cidade est animada  veja o que est acontecendo!"}:{text:"Boa noite, Orkadianos!",icon:Ua,message:"As estrelas brilham na Praa  conte como foi seu dia."}},RL=({setActiveSection:e})=>{var he;const{user:t,loading:r}=bt(),{trackActivity:n}=aa(),[s,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState({}),[u,f]=h.useState([]),[m,p]=h.useState(null),[x,g]=h.useState([]),[w,b]=h.useState(""),[v,y]=h.useState(null),[j,N]=h.useState(null),[_,S]=h.useState(!0),[k,A]=h.useState(!0),[C,P]=h.useState(!0),[D,U]=h.useState(!1),[M,q]=h.useState(!1),[R,B]=h.useState(null),I=h.useRef(null),[T,F]=h.useState(0),ee=async()=>{try{const{data:z,error:G}=await O.rpc("calculate_weekly_ranking");if(G)throw G;if(l(z||[]),z&&z.length>0){const ne=z.map(be=>be.user_id),{data:we,error:Oe}=await O.from("profiles").select("*").in("id",ne);if(!Oe&&we){const be=we.reduce((pe,st)=>(pe[st.id]=st,pe),{});d(be)}}}catch(z){console.error("Erro ao carregar ranking:",z)}finally{A(!1)}},H=async()=>{try{const{data:z,error:G}=await O.from("announcements").select("*").order("created_at",{ascending:!1});if(G)throw G;g(z||[])}catch(z){console.error("Erro ao carregar anncios:",z),L.error("Erro ao carregar anncios")}finally{P(!1)}};h.useEffect(()=>{if(t){re(),ee(),H();const z=O.channel("praa-central",{config:{presence:{key:t.id}}});return z.on("presence",{event:"sync"},()=>{const G=z.presenceState(),we=Object.values(G).flat().reduce((Oe,be)=>(Oe.find(pe=>pe.user_id===be.user_id)||Oe.push(be),Oe),[]);f(we)}).on("presence",{event:"join"},({key:G,newPresences:ne})=>{console.log("join",G,ne)}).on("presence",{event:"leave"},({key:G,leftPresences:ne})=>{console.log("leave",G,ne)}).subscribe(async G=>{if(G==="SUBSCRIBED"){const{data:ne}=await O.from("profiles").select("*").eq("id",t.id).single();await z.track({user_id:t.id,display_name:ne==null?void 0:ne.display_name,username:ne==null?void 0:ne.username,avatar_url:ne==null?void 0:ne.avatar_url}),ne&&p(ne)}}),()=>{O.removeChannel(z)}}},[t]),h.useEffect(()=>{(async()=>{if(t)try{const{count:G,error:ne}=await O.from("posts").select("id",{count:"exact",head:!0}).eq("user_id",t.id);F(!ne&&G!==null?G:0)}catch(G){console.error("Erro ao contar posts do usurio:",G),F(0)}})()},[t]);const re=async()=>{S(!0);try{const{data:z,error:G}=await O.from("posts").select(`
          *,
          profiles:user_id (*)
        `).order("created_at",{ascending:!1}).limit(20);if(G)throw G;if(z)if(t){const ne=z.map(pe=>pe.id);let we=new Set,Oe=new Map;if(ne.length>0){try{const{data:pe}=await O.from("post_likes").select("post_id").eq("user_id",t.id).in("post_id",ne);pe&&(we=new Set(pe.map(st=>st.post_id)))}catch{console.log("Could not fetch likes")}try{const{data:pe}=await O.from("post_reactions").select("post_id, type").eq("user_id",t.id).in("post_id",ne);pe&&(Oe=new Map(pe.map(st=>[st.post_id,st.type])))}catch{console.log("Could not fetch reactions")}}const be=z.map(pe=>({...pe,user_liked:we.has(pe.id),user_reaction:Oe.get(pe.id)||null}));o(be)}else o(z)}catch(z){console.error("Erro ao carregar posts:",z),L.error("Erro ao carregar posts")}finally{S(!1)}},te=async(z,G)=>{try{const{data:ne}=await O.auth.getUser(),we=ne==null?void 0:ne.user;if(!we){L.error("Voc precisa estar autenticado para reagir.");return}try{const{data:Oe}=await O.from("post_reactions").select("id, type").eq("post_id",z).eq("user_id",we.id).limit(1),be=Oe==null?void 0:Oe[0];if(be&&be.type===G){const{error:pe}=await O.from("post_reactions").delete().eq("id",be.id);if(pe)throw pe;o(st=>st.map(at=>at.id===z?{...at,user_reaction:null}:at)),L.success("Reao removida")}else if(be){const{error:pe}=await O.from("post_reactions").update({type:G}).eq("id",be.id);if(pe)throw pe;o(st=>st.map(at=>at.id===z?{...at,user_reaction:G}:at)),L.success("Reao atualizada!")}else{const{error:pe}=await O.from("post_reactions").insert({post_id:z,user_id:we.id,type:G});if(pe)throw pe;o(st=>st.map(at=>at.id===z?{...at,user_reaction:G}:at)),L.success(`Reagiu com ${G}!`)}}catch(Oe){console.error("post_reactions table not available:",Oe),L.error("Sistema de reaes temporariamente indisponvel")}}catch(ne){console.error("Erro ao reagir:",ne),L.error("No foi possvel registrar a reao")}},oe=z=>{var ne;const G=(ne=z.target.files)==null?void 0:ne[0];if(G){if(G.size>5*1024*1024){L.error("Imagem muito grande. Mximo 5MB.");return}y(G);const we=new FileReader;we.onloadend=()=>{N(we.result)},we.readAsDataURL(G)}},me=()=>{y(null),N(null),I.current&&(I.current.value="")},Y=async()=>{if(!(!w.trim()&&!v||!t)){U(!0);try{let z=null;if(v){q(!0);const we=v.name.split(".").pop(),Oe=`${t.id}/${Date.now()}.${we}`;try{const{error:be}=await O.storage.from("post-images").upload(Oe,v);if(be)throw be;const{data:{publicUrl:pe}}=O.storage.from("post-images").getPublicUrl(Oe);z=pe}catch(be){console.error("Erro ao enviar imagem para Storage:",be);const pe=(be==null?void 0:be.status)??(be==null?void 0:be.code);pe===404?L.error("Bucket 'post-images' no existe no projeto Supabase."):pe===401||pe===403?L.error("Sem permisso para enviar imagem. Verifique polticas do Storage."):L.error("Erro ao enviar imagem. Tente novamente."),q(!1),U(!1);return}finally{q(!1)}}const G={content:w.trim()||"",image_url:z,user_id:t.id,author_id:t.id},{error:ne}=await O.from("posts").insert(G);if(ne){const we=ne.message||"Erro ao criar post";throw console.error("Erro ao criar post:",ne),L.error(we),ne}b(""),y(null),N(null),I.current&&(I.current.value=""),n.postCreated(),L.success(" Post criado! +25 XP"),re()}catch(z){if(z){const G=(z==null?void 0:z.message)||(z==null?void 0:z.error_description)||"Erro ao criar post";console.error("Erro ao criar post (geral):",z),L.error(G)}else L.error("Erro ao criar post")}finally{U(!1),q(!1)}}},Ne=z=>{const G=`${window.location.origin}/feed?post=${z}`;navigator.clipboard.writeText(G),L.success("Link copiado para a rea de transferncia!")};if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!t)return a.jsx(ra,{to:"/auth",replace:!0});const Z=TL();return a.jsxs("div",{className:"min-h-screen py-4 sm:py-8",children:[a.jsxs("div",{className:"container mx-auto",children:[a.jsx(V,{className:"mb-6 bg-gradient-to-r from-primary/10 via-accent/10 to-secondary/10 border-primary/30",children:a.jsxs(Me,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Z.icon,{className:"w-6 h-6 text-primary"}),a.jsx("h2",{className:"text-xl font-bold",children:Z.text})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:Z.message}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-background/50 rounded-lg p-3",children:[a.jsx(mt,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{children:[a.jsx("strong",{children:u.length})," cidados online agora"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-background/50 rounded-lg p-3",children:[a.jsx(ql,{className:"w-4 h-4 text-blue-500"}),a.jsxs("span",{children:[a.jsx("strong",{children:s.length})," conversas na praa"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-background/50 rounded-lg p-3",children:[a.jsx(Et,{className:"w-4 h-4 text-amber-500"}),a.jsx("span",{children:"Ranking atualizado hoje"})]})]})]})}),a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm border-primary/20 mb-6 overflow-hidden",children:[a.jsx(Ve,{className:"pb-2",children:a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx($n,{className:"w-5 h-5"}),"Luzes da Cidade"]})}),a.jsx(Me,{className:"px-0 sm:px-6",children:a.jsx(_L,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-8",children:[a.jsx("aside",{className:"hidden lg:block",children:a.jsxs("div",{className:"sticky top-24 space-y-6",children:[a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm border-primary/20",children:[a.jsx(Ve,{children:a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(mt,{className:"w-5 h-5"}),"Cidados Online"]})}),a.jsx(Me,{children:u.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ningum online no momento."}):a.jsx("ul",{className:"space-y-2",children:u.map(z=>a.jsx("li",{children:a.jsxs($e,{to:`/profile/${z.username}`,className:"flex items-center gap-3 hover:bg-primary/10 p-2 rounded-lg transition-all hover:scale-105",children:[a.jsxs("div",{className:"relative",children:[z.avatar_url?a.jsx("img",{src:z.avatar_url,alt:z.display_name,className:"w-10 h-10 rounded-full object-cover shadow-md"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold shadow-md",children:z.display_name.charAt(0).toUpperCase()}),a.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 block h-3 w-3 rounded-full bg-green-500 ring-2 ring-background animate-pulse"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:z.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",z.username]})]})]})},`${z.user_id}-${z.presence_ref||""}`))})})]}),a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm border-primary/20 overflow-hidden shadow-elevated",children:[a.jsx("div",{className:"relative h-20 bg-gradient-to-r from-primary/10 via-accent/10 to-secondary/10"}),a.jsxs("div",{className:"flex flex-col items-center -mt-10 pb-4 px-4",children:[a.jsx("div",{onClick:()=>e("profile"),className:"relative cursor-pointer",children:m!=null&&m.avatar_url?a.jsx("img",{src:m.avatar_url,alt:m.display_name||"",className:"w-20 h-20 rounded-full object-cover border-4 border-background shadow-lg"}):a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold border-4 border-background shadow-lg",children:a.jsx("span",{className:"text-3xl",children:(he=m==null?void 0:m.display_name)==null?void 0:he.charAt(0).toUpperCase()})})}),a.jsxs("div",{onClick:()=>e("profile"),className:"text-center mt-2 hover:underline cursor-pointer",children:[a.jsx("p",{className:"font-semibold text-lg",children:m==null?void 0:m.display_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",m==null?void 0:m.username]})]})]}),a.jsxs("div",{className:"border-t border-border/50 px-4 py-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center text-muted-foreground hover:bg-muted/50 p-2 rounded-md -mx-2",children:[a.jsx("span",{children:"Visualizaes do perfil"}),a.jsx("span",{className:"font-bold text-primary",children:"123"})]}),a.jsxs("div",{className:"flex justify-between items-center text-muted-foreground hover:bg-muted/50 p-2 rounded-md -mx-2",children:[a.jsx("span",{children:"Posts na Praa"}),a.jsx("span",{className:"font-bold text-primary",children:T})]})]}),a.jsx("div",{className:"border-t border-border/50 px-4 py-3",children:a.jsx($,{variant:"outline",className:"w-full",onClick:()=>e("profile"),children:"Ver meu perfil"})})]}),a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm border-primary/20 shadow-elevated",children:[a.jsx(Ve,{children:a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx($n,{className:"w-5 h-5 text-secondary"}),"Acesso Rpido"]})}),a.jsx(Me,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx($e,{to:"/dashboard",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Praa Central"})}),a.jsx($e,{to:"/explore",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Explorar"})}),a.jsx($e,{to:"/city-hall",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Prefeitura"})}),a.jsx($e,{to:"/clubs",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Clubes"})}),a.jsx($e,{to:"/cinema",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Cinema"})}),a.jsx($e,{to:"/messages",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Mensagens"})}),a.jsx($e,{to:"/profile",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Meu Perfil"})}),a.jsx($e,{to:"/privacy-settings",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Privacidade"})}),a.jsx($e,{to:"/moderation",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Moderao"})}),a.jsx($e,{to:"/terms",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Termos"})}),a.jsx($e,{to:"/privacy",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Privacidade"})}),a.jsx($e,{to:"/",children:a.jsx($,{variant:"ghost",className:"justify-start",children:"Incio"})})]})})]})]})}),a.jsxs("main",{className:"lg:col-span-2",children:[a.jsxs(V,{className:"p-6 mb-8 shadow-elevated border-2 border-primary/30 bg-gradient-to-br from-card/95 to-secondary/5 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-orkut rounded-full flex items-center justify-center shadow-glow",children:a.jsx(Vl,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Coreto Digital"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"O pulso da cidade em tempo real"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-pink-500/10 to-pink-600/5 rounded-lg p-4 hover:from-pink-500/20 hover:to-pink-600/10 transition-all border border-pink-500/20 hover:border-pink-500/40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(tT,{className:"w-5 h-5 text-pink-500"}),a.jsx("p",{className:"font-semibold text-sm",children:"Aniversariantes"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0 pessoas fazendo aniversrio hoje "})]}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-amber-600/5 rounded-lg p-4 hover:from-amber-500/20 hover:to-amber-600/10 transition-all border border-amber-500/20 hover:border-amber-500/40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Et,{className:"w-5 h-5 text-amber-500"}),a.jsx("p",{className:"font-semibold text-sm",children:"Conquistas"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Nenhuma conquista recente "})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 rounded-lg p-4 hover:from-blue-500/20 hover:to-blue-600/10 transition-all border border-blue-500/20 hover:border-blue-500/40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(cT,{className:"w-5 h-5 text-orange-500"}),a.jsx("p",{className:"font-semibold text-sm",children:"Em Alta"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Seja o primeiro a postar! "})]})]})]}),a.jsxs(V,{className:"p-6 mb-8 shadow-elevated bg-gradient-to-br from-card/95 to-primary/5 backdrop-blur-sm rounded-xl border-2 border-primary/20 hover:border-primary/40 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx($n,{className:"w-5 h-5 text-primary"}),a.jsx("h3",{className:"font-semibold text-lg bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"O que est acontecendo na praa?"})]}),a.jsx(Vt,{placeholder:"Compartilhe algo com a comunidade... ",value:w,onChange:z=>b(z.target.value),className:"mb-4 min-h-[100px] border-primary/30 focus:border-primary/60"}),j&&a.jsxs("div",{className:"relative mb-4 bg-muted rounded-lg",children:[a.jsx("img",{src:j,alt:"Preview",className:"max-h-96 rounded-lg object-contain w-full"}),a.jsx($,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:me,children:a.jsx(Gn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:I,type:"file",accept:"image/*",className:"hidden",onChange:oe}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>{var z;return(z=I.current)==null?void 0:z.click()},disabled:M,children:[M?a.jsx(Bl,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(zo,{className:"w-4 h-4 mr-2"}),"Foto"]})]}),a.jsxs($,{onClick:Y,disabled:!w.trim()&&!v||D||M,className:"bg-gradient-orkut hover:opacity-90 shadow-md hover:shadow-glow transition-all",children:[D?a.jsx(Bl,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Publicar na Praa"]})]})]}),a.jsx("div",{className:"space-y-6",children:_?a.jsxs(V,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando posts..."})]}):s.length===0?a.jsx(V,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Nenhum post ainda. Seja o primeiro a compartilhar algo!"})}):s.map(z=>{var G;return a.jsx(V,{className:"p-6 shadow-card hover:shadow-elevated transition-all bg-card/95 backdrop-blur-sm rounded-xl border-l-4 border-l-primary/30",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx($e,{to:`/profile/${z.profiles.username}`,className:"flex-shrink-0",children:z.profiles.avatar_url?a.jsx("img",{src:z.profiles.avatar_url,alt:z.profiles.display_name||"",className:"w-12 h-12 rounded-full object-cover hover:scale-110 transition-transform shadow-md"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold hover:scale-110 transition-transform shadow-md",children:(G=z.profiles.display_name)==null?void 0:G.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsx($e,{to:`/profile/${z.profiles.username}`,className:"hover:underline",children:a.jsx("h4",{className:"font-semibold",children:z.profiles.display_name})}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",z.profiles.username]}),a.jsx(CL,{type:z.badge||EL(),size:"sm"})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs text-muted-foreground",children:[a.jsx("span",{children:PL(z.created_at)}),a.jsx("span",{children:""}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Vl,{className:"w-3 h-3"}),"na Praa Central"]})]}),z.content&&a.jsx("p",{className:"text-foreground mb-4 whitespace-pre-wrap break-words",children:z.content}),z.image_url&&a.jsx("div",{className:"bg-muted rounded-lg mb-4",children:a.jsx("img",{src:z.image_url,alt:"Post image",className:"rounded-lg max-h-[500px] w-full object-contain"})}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx(SL,{postId:z.id,selectedReaction:z.user_reaction,onReact:ne=>te(z.id,ne)}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2 hover:scale-110 transition-transform",onClick:()=>B(z.id),children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:[z.comments_count||0," conversas"]})]}),a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2 hover:scale-110 transition-transform",onClick:()=>Ne(z.id),children:[a.jsx(F1,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Compartilhar"})]})]})]})]})]})},z.id)})})]}),a.jsx("aside",{className:"hidden lg:block",children:a.jsxs("div",{className:"sticky top-24 space-y-6",children:[a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm border-primary/20 shadow-elevated",children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(Et,{className:"w-5 h-5 text-amber-500"}),"Ranking da Semana"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" Os mais ativos da Cidade Orkadia"})]}),a.jsx(Me,{children:k?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):i.length===0?a.jsxs("div",{className:"text-center py-4",children:[a.jsx(Et,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ningum no ranking ainda."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Seja o primeiro a ganhar pontos!"})]}):a.jsx("ul",{className:"space-y-3",children:i.map((z,G)=>{const ne=c[z.user_id];if(!ne)return null;const we=["from-amber-400 to-amber-600","from-slate-300 to-slate-500","from-amber-600 to-amber-800"];return a.jsxs("li",{className:`flex items-center gap-3 p-2 rounded-lg transition-all hover:bg-primary/5 ${G<3?"bg-gradient-to-r "+we[G]+" bg-opacity-10":""}`,children:[a.jsx("span",{className:`font-bold text-lg flex items-center justify-center w-8 h-8 rounded-full ${G===0?"bg-gradient-to-br from-amber-400 to-amber-600 text-white shadow-glow":G===1?"bg-gradient-to-br from-slate-300 to-slate-500 text-white":G===2?"bg-gradient-to-br from-amber-600 to-amber-800 text-white":"bg-muted text-muted-foreground"}`,children:G<3?a.jsx(Et,{className:"w-4 h-4"}):G+1}),a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-orkut flex items-center justify-center text-white font-bold text-sm shadow-md",children:ne.display_name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:ne.display_name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.score," pontos"]}),G===0&&a.jsx("span",{className:"text-xs",children:" Estrela da Semana"})]})]})]},z.user_id)})})})]}),a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm border-primary/20 shadow-elevated",children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(xl,{className:"w-5 h-5 text-primary"}),"Mural da Cidade"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" Avisos e novidades oficiais"})]}),a.jsx(Me,{children:C?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):x.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum anncio no momento."}):a.jsx("ul",{className:"space-y-4",children:x.map(z=>a.jsxs("li",{className:"border-l-4 border-primary pl-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(xl,{className:"w-4 h-4 text-primary"}),a.jsx("h4",{className:"font-semibold text-sm",children:z.title})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:z.content})]},z.id))})})]})]})})]})]}),a.jsx(nL,{postId:R||"",isOpen:!!R,onClose:()=>B(null)})]})},OL=Ku("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Be({className:e,variant:t,...r}){return a.jsx("div",{className:le(OL({variant:t}),e),...r})}var AL="Separator",x0="horizontal",ML=["horizontal","vertical"],$S=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=x0,...s}=e,o=IL(n)?n:x0,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(ue.div,{"data-orientation":o,...l,...s,ref:t})});$S.displayName=AL;function IL(e){return ML.includes(e)}var LS=$S;const jl=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(LS,{ref:s,decorative:r,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));jl.displayName=LS.displayName;function DL(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $L=[" ","Enter","ArrowUp","ArrowDown"],LL=[" ","Enter"],Ga="Select",[bh,jh,FL]=Wu(Ga),[Li]=ir(Ga,[FL,Js]),_h=Js(),[zL,oa]=Li(Ga),[UL,BL]=Li(Ga),FS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:p,form:x}=e,g=_h(t),[w,b]=h.useState(null),[v,y]=h.useState(null),[j,N]=h.useState(!1),_=xc(d),[S,k]=Bs({prop:n,defaultProp:s??!1,onChange:o,caller:Ga}),[A,C]=Bs({prop:i,defaultProp:l,onChange:c,caller:Ga}),P=h.useRef(null),D=w?x||!!w.closest("form"):!0,[U,M]=h.useState(new Set),q=Array.from(U).map(R=>R.props.value).join(";");return a.jsx(Dg,{...g,children:a.jsxs(zL,{required:p,scope:t,trigger:w,onTriggerChange:b,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Qr(),value:A,onValueChange:C,open:S,onOpenChange:k,dir:_,triggerPointerDownPosRef:P,disabled:m,children:[a.jsx(bh.Provider,{scope:t,children:a.jsx(UL,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(R=>{M(B=>new Set(B).add(R))},[]),onNativeOptionRemove:h.useCallback(R=>{M(B=>{const I=new Set(B);return I.delete(R),I})},[]),children:r})}),D?a.jsxs(ck,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:A,onChange:R=>C(R.target.value),disabled:m,form:x,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},q):null]})})};FS.displayName=Ga;var zS="SelectTrigger",US=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=_h(r),i=oa(zS,r),l=i.disabled||n,c=Se(t,i.onTriggerChange),d=jh(r),u=h.useRef("touch"),[f,m,p]=uk(g=>{const w=d().filter(y=>!y.disabled),b=w.find(y=>y.value===i.value),v=hk(w,g,b);v!==void 0&&i.onValueChange(v.value)}),x=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(vc,{asChild:!0,...o,children:a.jsx(ue.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dk(i.value)?"":void 0,...s,ref:c,onClick:Q(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:Q(s.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Q(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&$L.includes(g.key)&&(x(),g.preventDefault())})})})});US.displayName=zS;var BS="SelectValue",qS=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=oa(BS,r),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,f=Se(t,c.onValueNodeChange);return ct(()=>{d(u)},[d,u]),a.jsx(ue.span,{...l,ref:f,style:{pointerEvents:"none"},children:dk(c.value)?a.jsx(a.Fragment,{children:i}):o})});qS.displayName=BS;var qL="SelectIcon",VS=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});VS.displayName=qL;var VL="SelectPortal",WS=e=>a.jsx(Ci,{asChild:!0,...e});WS.displayName=VL;var Ka="SelectContent",HS=h.forwardRef((e,t)=>{const r=oa(Ka,e.__scopeSelect),[n,s]=h.useState();if(ct(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Zs.createPortal(a.jsx(GS,{scope:e.__scopeSelect,children:a.jsx(bh.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(KS,{...e,ref:t})});HS.displayName=Ka;var zr=10,[GS,ia]=Li(Ka),WL="SelectContentImpl",HL=Us("SelectContent.RemoveScroll"),KS=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...b}=e,v=oa(Ka,r),[y,j]=h.useState(null),[N,_]=h.useState(null),S=Se(t,Y=>j(Y)),[k,A]=h.useState(null),[C,P]=h.useState(null),D=jh(r),[U,M]=h.useState(!1),q=h.useRef(!1);h.useEffect(()=>{if(y)return lh(y)},[y]),oh();const R=h.useCallback(Y=>{const[Ne,...Z]=D().map(G=>G.ref.current),[he]=Z.slice(-1),z=document.activeElement;for(const G of Y)if(G===z||(G==null||G.scrollIntoView({block:"nearest"}),G===Ne&&N&&(N.scrollTop=0),G===he&&N&&(N.scrollTop=N.scrollHeight),G==null||G.focus(),document.activeElement!==z))return},[D,N]),B=h.useCallback(()=>R([k,y]),[R,k,y]);h.useEffect(()=>{U&&B()},[U,B]);const{onOpenChange:I,triggerPointerDownPosRef:T}=v;h.useEffect(()=>{if(y){let Y={x:0,y:0};const Ne=he=>{var z,G;Y={x:Math.abs(Math.round(he.pageX)-(((z=T.current)==null?void 0:z.x)??0)),y:Math.abs(Math.round(he.pageY)-(((G=T.current)==null?void 0:G.y)??0))}},Z=he=>{Y.x<=10&&Y.y<=10?he.preventDefault():y.contains(he.target)||I(!1),document.removeEventListener("pointermove",Ne),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Z,{capture:!0})}}},[y,I,T]),h.useEffect(()=>{const Y=()=>I(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[I]);const[F,ee]=uk(Y=>{const Ne=D().filter(z=>!z.disabled),Z=Ne.find(z=>z.ref.current===document.activeElement),he=hk(Ne,Y,Z);he&&setTimeout(()=>he.ref.current.focus())}),H=h.useCallback((Y,Ne,Z)=>{const he=!q.current&&!Z;(v.value!==void 0&&v.value===Ne||he)&&(A(Y),he&&(q.current=!0))},[v.value]),re=h.useCallback(()=>y==null?void 0:y.focus(),[y]),te=h.useCallback((Y,Ne,Z)=>{const he=!q.current&&!Z;(v.value!==void 0&&v.value===Ne||he)&&P(Y)},[v.value]),oe=n==="popper"?yp:QS,me=oe===yp?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return a.jsx(GS,{scope:r,content:y,viewport:N,onViewportChange:_,itemRefCallback:H,selectedItem:k,onItemLeave:re,itemTextRefCallback:te,focusSelectedItem:B,selectedItemText:C,position:n,isPositioned:U,searchRef:F,children:a.jsx(bc,{as:HL,allowPinchZoom:!0,children:a.jsx(yc,{asChild:!0,trapped:v.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Q(s,Y=>{var Ne;(Ne=v.trigger)==null||Ne.focus({preventScroll:!0}),Y.preventDefault()}),children:a.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(oe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Y=>Y.preventDefault(),...b,...me,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Q(b.onKeyDown,Y=>{const Ne=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!Ne&&Y.key.length===1&&ee(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let he=D().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const z=Y.target,G=he.indexOf(z);he=he.slice(G+1)}setTimeout(()=>R(he)),Y.preventDefault()}})})})})})})});KS.displayName=WL;var GL="SelectItemAlignedPosition",QS=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=oa(Ka,r),i=ia(Ka,r),[l,c]=h.useState(null),[d,u]=h.useState(null),f=Se(t,S=>u(S)),m=jh(r),p=h.useRef(!1),x=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:b,focusSelectedItem:v}=i,y=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&g&&w&&b){const S=o.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),C=b.getBoundingClientRect();if(o.dir!=="rtl"){const z=C.left-k.left,G=A.left-z,ne=S.left-G,we=S.width+ne,Oe=Math.max(we,k.width),be=window.innerWidth-zr,pe=xp(G,[zr,Math.max(zr,be-Oe)]);l.style.minWidth=we+"px",l.style.left=pe+"px"}else{const z=k.right-C.right,G=window.innerWidth-A.right-z,ne=window.innerWidth-S.right-G,we=S.width+ne,Oe=Math.max(we,k.width),be=window.innerWidth-zr,pe=xp(G,[zr,Math.max(zr,be-Oe)]);l.style.minWidth=we+"px",l.style.right=pe+"px"}const P=m(),D=window.innerHeight-zr*2,U=g.scrollHeight,M=window.getComputedStyle(d),q=parseInt(M.borderTopWidth,10),R=parseInt(M.paddingTop,10),B=parseInt(M.borderBottomWidth,10),I=parseInt(M.paddingBottom,10),T=q+R+U+I+B,F=Math.min(w.offsetHeight*5,T),ee=window.getComputedStyle(g),H=parseInt(ee.paddingTop,10),re=parseInt(ee.paddingBottom,10),te=S.top+S.height/2-zr,oe=D-te,me=w.offsetHeight/2,Y=w.offsetTop+me,Ne=q+R+Y,Z=T-Ne;if(Ne<=te){const z=P.length>0&&w===P[P.length-1].ref.current;l.style.bottom="0px";const G=d.clientHeight-g.offsetTop-g.offsetHeight,ne=Math.max(oe,me+(z?re:0)+G+B),we=Ne+ne;l.style.height=we+"px"}else{const z=P.length>0&&w===P[0].ref.current;l.style.top="0px";const ne=Math.max(te,q+g.offsetTop+(z?H:0)+me)+Z;l.style.height=ne+"px",g.scrollTop=Ne-te+g.offsetTop}l.style.margin=`${zr}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,d,g,w,b,o.dir,n]);ct(()=>y(),[y]);const[j,N]=h.useState();ct(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const _=h.useCallback(S=>{S&&x.current===!0&&(y(),v==null||v(),x.current=!1)},[y,v]);return a.jsx(QL,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});QS.displayName=GL;var KL="SelectPopperPosition",yp=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=zr,...o}=e,i=_h(r);return a.jsx(eh,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yp.displayName=KL;var[QL,pv]=Li(Ka,{}),wp="SelectViewport",YS=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=ia(wp,r),i=pv(wp,r),l=Se(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(bh.Slot,{scope:r,children:a.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-zr*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(g,w);if(b<x){const v=b+p,y=Math.min(x,v),j=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});YS.displayName=wp;var XS="SelectGroup",[YL,XL]=Li(XS),ZL=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Qr();return a.jsx(YL,{scope:r,id:s,children:a.jsx(ue.div,{role:"group","aria-labelledby":s,...n,ref:t})})});ZL.displayName=XS;var ZS="SelectLabel",JS=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=XL(ZS,r);return a.jsx(ue.div,{id:s.id,...n,ref:t})});JS.displayName=ZS;var _u="SelectItem",[JL,ek]=Li(_u),tk=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=oa(_u,r),c=ia(_u,r),d=l.value===n,[u,f]=h.useState(o??""),[m,p]=h.useState(!1),x=Se(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,n,s)}),g=Qr(),w=h.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(JL,{scope:r,value:n,disabled:s,textId:g,isSelected:d,onItemTextChange:h.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(bh.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:a.jsx(ue.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:Q(i.onFocus,()=>p(!0)),onBlur:Q(i.onBlur,()=>p(!1)),onClick:Q(i.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:Q(i.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:Q(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:Q(i.onPointerMove,v=>{var y;w.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:Q(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(LL.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});tk.displayName=_u;var ol="SelectItemText",rk=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=oa(ol,r),l=ia(ol,r),c=ek(ol,r),d=BL(ol,r),[u,f]=h.useState(null),m=Se(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return ct(()=>(g(x),()=>w(x)),[g,w,x]),a.jsxs(a.Fragment,{children:[a.jsx(ue.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Zs.createPortal(o.children,i.valueNode):null]})});rk.displayName=ol;var nk="SelectItemIndicator",sk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return ek(nk,r).isSelected?a.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});sk.displayName=nk;var bp="SelectScrollUpButton",ak=h.forwardRef((e,t)=>{const r=ia(bp,e.__scopeSelect),n=pv(bp,e.__scopeSelect),[s,o]=h.useState(!1),i=Se(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(ik,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ak.displayName=bp;var jp="SelectScrollDownButton",ok=h.forwardRef((e,t)=>{const r=ia(jp,e.__scopeSelect),n=pv(jp,e.__scopeSelect),[s,o]=h.useState(!1),i=Se(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(ik,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ok.displayName=jp;var ik=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=ia("SelectScrollButton",r),i=h.useRef(null),l=jh(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),ct(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Q(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{c()})})}),e6="SelectSeparator",lk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});lk.displayName=e6;var _p="SelectArrow",t6=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=_h(r),o=oa(_p,r),i=ia(_p,r);return o.open&&i.position==="popper"?a.jsx(th,{...s,...n,ref:t}):null});t6.displayName=_p;var r6="SelectBubbleInput",ck=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=Se(n,s),i=DL(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(ue.select,{...r,style:{...a1,...r.style},ref:o,defaultValue:t})});ck.displayName=r6;function dk(e){return e===""||e===void 0}function uk(e){const t=nt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const l=r.current+i;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function hk(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=n6(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function n6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var s6=FS,fk=US,a6=qS,o6=VS,i6=WS,mk=HS,l6=YS,pk=JS,gk=tk,c6=rk,d6=sk,vk=ak,xk=ok,yk=lk;const nc=s6,sc=a6,bi=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(fk,{ref:n,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(o6,{asChild:!0,children:a.jsx(T1,{className:"h-4 w-4 opacity-50"})})]}));bi.displayName=fk.displayName;const wk=h.forwardRef(({className:e,...t},r)=>a.jsx(vk,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(rT,{className:"h-4 w-4"})}));wk.displayName=vk.displayName;const bk=h.forwardRef(({className:e,...t},r)=>a.jsx(xk,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(T1,{className:"h-4 w-4"})}));bk.displayName=xk.displayName;const ji=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(i6,{children:a.jsxs(mk,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(wk,{}),a.jsx(l6,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(bk,{})]})}));ji.displayName=mk.displayName;const u6=h.forwardRef(({className:e,...t},r)=>a.jsx(pk,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));u6.displayName=pk.displayName;const vn=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(gk,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(d6,{children:a.jsx(_g,{className:"h-4 w-4"})})}),a.jsx(c6,{children:t})]}));vn.displayName=gk.displayName;const h6=h.forwardRef(({className:e,...t},r)=>a.jsx(yk,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));h6.displayName=yk.displayName;const f6={welcome:"Bem-vindo(a)  Orkadia!",first_scrap:"Primeiro Recado",photographer:"Fotgrafo",decorator:"Decorador",musician:"Msico",writer:"Escritor",social:"Socialite",friendly:"Amigvel",commentator:"Comentarista",collector:"Colecionador",popular:"Popular",influencer:"Influencer",engaged:"Engajado",explorer:"Explorador",cinephile:"Cinfilo"},gv=()=>{const e=async(l,c)=>{try{const{data:d,error:u}=await O.from("achievements").select("*").eq("name",f6[c]).single();if(u||!d){console.error("Achievement not found:",c);return}const{data:f}=await O.from("user_achievements").select("*").eq("user_id",l).eq("achievement_id",d.id).single();if(f)return;const{error:m}=await O.from("user_achievements").insert({user_id:l,achievement_id:d.id});if(m)throw m;const{data:p}=await O.from("profiles").select("points").eq("id",l).single();if(p){const{error:x}=await O.from("profiles").update({points:(p.points||0)+d.points}).eq("id",l);if(x)throw x}if(L.success(" Novo Trofu Desbloqueado!",{description:`${d.name} (+${d.points} pontos)`,duration:5e3}),c!=="collector"){const{data:x}=await O.from("user_achievements").select("*").eq("user_id",l);x&&x.length>=5&&await e(l,"collector")}}catch(d){console.error("Error granting achievement:",d)}};return{grantAchievement:e,checkFirstScrap:async l=>{const{data:c}=await O.from("scraps").select("id").eq("from_user_id",l).limit(1);c&&c.length===1&&await e(l,"first_scrap")},checkPhotographer:async l=>{const{data:c}=await O.from("profiles").select("avatar_url").eq("id",l).single();c!=null&&c.avatar_url&&await e(l,"photographer")},checkDecorator:async l=>{const{data:c}=await O.from("profiles").select("house_background").eq("id",l).single();c!=null&&c.house_background&&await e(l,"decorator")},checkMusician:async l=>{const{data:c}=await O.from("profiles").select("house_music").eq("id",l).single();c!=null&&c.house_music&&await e(l,"musician")},checkWriter:async l=>{const{data:c}=await O.from("profiles").select("bio").eq("id",l).single();c!=null&&c.bio&&c.bio.length>=20&&await e(l,"writer")},checkFirstPost:async l=>{const{data:c}=await O.from("posts").select("id").eq("user_id",l).limit(1);c&&c.length===1&&await e(l,"social")}}},m6=[{value:"default",label:"Padro"},{value:"sunset",label:"Pr do Sol"},{value:"ocean",label:"Oceano"},{value:"forest",label:"Floresta"},{value:"desert",label:"Deserto"},{value:"nordeste",label:"Nordestino"}],p6=({open:e,onOpenChange:t,profile:r,onProfileUpdate:n})=>{const{checkWriter:s}=gv(),[o,i]=h.useState((r==null?void 0:r.display_name)||""),[l,c]=h.useState((r==null?void 0:r.username)||""),[d,u]=h.useState((r==null?void 0:r.bio)||""),[f,m]=h.useState((r==null?void 0:r.house_theme)||"default"),[p,x]=h.useState((r==null?void 0:r.city)||""),[g,w]=h.useState((r==null?void 0:r.country)||""),[b,v]=h.useState(!1),y=async()=>{var j;if(r){if(!o.trim()||!l.trim()){L.error("Nome e usurio so obrigatrios");return}v(!0);try{const{error:N}=await O.from("profiles").update({display_name:o.trim(),username:l.trim(),bio:d.trim(),house_theme:f,city:p.trim(),country:g.trim()}).eq("id",r.id);if(N)throw N;L.success("Perfil atualizado com sucesso!"),d.trim().length>=20&&await s(r.id),n(),t(!1)}catch(N){console.error("Erro ao atualizar perfil:",N),(j=N.message)!=null&&j.includes("duplicate key")?L.error("Este nome de usurio j est em uso"):L.error("Erro ao atualizar perfil")}finally{v(!1)}}};return a.jsx(gr,{open:e,onOpenChange:t,children:a.jsxs(or,{className:"sm:max-w-[500px]",children:[a.jsxs(vr,{children:[a.jsx(xr,{children:"Editar Perfil"}),a.jsx(sa,{children:"Personalize suas informaes e a aparncia da sua casa virtual"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"displayName",children:"Nome de Exibio"}),a.jsx(ht,{id:"displayName",value:o,onChange:j=>i(j.target.value),placeholder:"Seu nome completo",maxLength:100})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"username",children:"Nome de Usurio"}),a.jsx(ht,{id:"username",value:l,onChange:j=>c(j.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"seunome",maxLength:50}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apenas letras minsculas, nmeros e underline"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"bio",children:"Biografia"}),a.jsx(Vt,{id:"bio",value:d,onChange:j=>u(j.target.value),placeholder:"Conte um pouco sobre voc...",maxLength:500,rows:4}),a.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[d.length,"/500 caracteres"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"city",children:"Cidade"}),a.jsx(ht,{id:"city",value:p,onChange:j=>x(j.target.value),placeholder:"Sua cidade",maxLength:100})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"country",children:"Pas"}),a.jsx(ht,{id:"country",value:g,onChange:j=>w(j.target.value),placeholder:"Seu pas",maxLength:100})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"theme",children:"Tema da Casa"}),a.jsxs(nc,{value:f,onValueChange:m,children:[a.jsx(bi,{id:"theme",children:a.jsx(sc,{})}),a.jsx(ji,{children:m6.map(j=>a.jsx(vn,{value:j.value,children:j.label},j.value))})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),disabled:b,children:"Cancelar"}),a.jsx($,{onClick:y,disabled:b,className:"bg-gradient-orkut",children:b?"Salvando...":"Salvar Alteraes"})]})]})})},g6=[{name:"Asa Branca - Luiz Gonzaga",url:"https://www.youtube.com/watch?v=lPO1fduUT5Y"},{name:"Feira de Mangaio - Sivuca",url:"https://www.youtube.com/watch?v=r3ygB7pPqQo"},{name:"Xote das Meninas - Luiz Gonzaga",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{name:"Vermelho - Fbio Jr.",url:"https://www.youtube.com/watch?v=J9tFZEWfH3s"}],v6=({open:e,onOpenChange:t,userId:r,currentMusic:n,onMusicUpdate:s})=>{const{checkMusician:o}=gv(),[i,l]=h.useState(n||""),[c,d]=h.useState(!1),u=async()=>{if(r){if(i&&!i.includes("youtube.com")&&!i.includes("youtu.be")){L.error("Por favor, insira uma URL vlida do YouTube");return}d(!0);try{const{error:f}=await O.from("profiles").update({house_music:i.trim()||null}).eq("id",r);if(f)throw f;L.success(i?"Msica da casa atualizada!":"Msica removida"),i&&r&&await o(r),s(),t(!1)}catch(f){console.error("Erro ao atualizar msica:",f),L.error("Erro ao atualizar msica")}finally{d(!1)}}};return a.jsx(gr,{open:e,onOpenChange:t,children:a.jsxs(or,{className:"sm:max-w-[600px]",children:[a.jsxs(vr,{children:[a.jsxs(xr,{className:"flex items-center gap-2",children:[a.jsx(un,{className:"w-5 h-5 text-primary"}),"Msica da Casa"]}),a.jsx(sa,{children:"Adicione uma msica de fundo para sua casa virtual (YouTube)"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"musicUrl",children:"URL do YouTube"}),a.jsx(ht,{id:"musicUrl",value:i,onChange:f=>l(f.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cole o link de um vdeo do YouTube que voc quer como msica de fundo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{children:"Sugestes Populares"}),a.jsx("div",{className:"grid gap-2",children:g6.map((f,m)=>a.jsx(V,{className:"p-3 hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>l(f.url),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(V1,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm",children:f.name})]}),a.jsx(A1,{className:"w-4 h-4 text-muted-foreground"})]})},m))})]}),n&&a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Msica atual:"}),a.jsx("p",{className:"text-sm truncate",children:n})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancelar"}),a.jsx($,{variant:"secondary",onClick:()=>l(""),disabled:c||!i,children:"Remover Msica"}),a.jsx($,{onClick:u,disabled:c,className:"bg-gradient-orkut",children:c?"Salvando...":"Salvar"})]})]})})},x6=({open:e,onOpenChange:t,userId:r,onUploadComplete:n})=>{const[s,o]=h.useState(!1),[i,l]=h.useState([]),[c,d]=h.useState([]),u=h.useRef(null),f=x=>{const g=Array.from(x.target.files||[]);if(g.length+i.length>10){L.error("Mximo de 10 fotos por vez");return}l([...i,...g]);const w=g.map(b=>URL.createObjectURL(b));d([...c,...w])},m=x=>{const g=i.filter((b,v)=>v!==x),w=c.filter((b,v)=>v!==x);URL.revokeObjectURL(c[x]),l(g),d(w)},p=async()=>{if(!(!r||i.length===0)){o(!0);try{const x=i.map(async g=>{const w=g.name.split(".").pop(),b=`${r}-${Date.now()}-${Math.random()}.${w}`,v=`${r}/${b}`,{error:y}=await O.storage.from("post-images").upload(v,g);if(y)throw y;const{data:{publicUrl:j}}=O.storage.from("post-images").getPublicUrl(v);return j});await Promise.all(x),L.success(`${i.length} foto(s) enviada(s) com sucesso!`),c.forEach(g=>URL.revokeObjectURL(g)),l([]),d([]),n(),t(!1)}catch(x){console.error("Erro ao fazer upload:",x),L.error("Erro ao enviar fotos")}finally{o(!1)}}};return a.jsx(gr,{open:e,onOpenChange:t,children:a.jsxs(or,{className:"sm:max-w-[600px]",children:[a.jsxs(vr,{children:[a.jsxs(xr,{className:"flex items-center gap-2",children:[a.jsx(zo,{className:"w-5 h-5 text-accent"}),"Adicionar Fotos ao Quarto"]}),a.jsx(sa,{children:"Envie at 10 fotos de uma vez para sua galeria pessoal"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{children:"Selecionar Fotos"}),a.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>{var x;return(x=u.current)==null?void 0:x.click()},children:[a.jsx(Wl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Clique para selecionar ou arraste arquivos aqui"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP (mx. 5MB por arquivo)"})]}),a.jsx("input",{ref:u,type:"file",accept:"image/*",multiple:!0,onChange:f,className:"hidden"})]}),c.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(yt,{children:["Fotos Selecionadas (",c.length,")"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:c.map((x,g)=>a.jsxs(V,{className:"relative aspect-square overflow-hidden group",children:[a.jsx("img",{src:x,alt:`Preview ${g+1}`,className:"w-full h-full object-cover"}),a.jsx($,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 w-6 h-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>m(g),children:a.jsx(Gn,{className:"w-4 h-4"})})]},g))})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>{c.forEach(x=>URL.revokeObjectURL(x)),l([]),d([]),t(!1)},disabled:s,children:"Cancelar"}),a.jsx($,{onClick:p,disabled:s||i.length===0,className:"bg-gradient-orkut",children:s?"Enviando...":`Enviar ${i.length} Foto(s)`})]})]})})},jk=({open:e,onOpenChange:t})=>{const{user:r}=bt(),[n,s]=h.useState([]),[o,i]=h.useState(!0),[l,c]=h.useState(null);h.useEffect(()=>{e&&r&&d()},[e,r]);const d=async()=>{if(r){i(!0);try{const{data:f,error:m}=await O.from("user_blocks").select(`
          id,
          blocked_id,
          created_at,
          reason,
          blocked_profile:profiles!user_blocks_blocked_id_fkey(
            id,
            display_name,
            username,
            avatar_url
          )
        `).eq("blocker_id",r.id).order("created_at",{ascending:!1});if(m)throw m;s(f||[])}catch(f){console.error("Erro ao carregar usurios bloqueados:",f),L.error("Erro ao carregar lista de bloqueados")}finally{i(!1)}}},u=async(f,m)=>{c(f);try{const{error:p}=await O.from("user_blocks").delete().eq("id",f);if(p)throw p;L.success(`${m} foi desbloqueado(a)`),s(x=>x.filter(g=>g.id!==f))}catch(p){console.error("Erro ao desbloquear:",p),L.error("Erro ao desbloquear usurio")}finally{c(null)}};return a.jsx(gr,{open:e,onOpenChange:t,children:a.jsxs(or,{className:"sm:max-w-lg",children:[a.jsxs(vr,{children:[a.jsxs(xr,{className:"flex items-center gap-2",children:[a.jsx(ru,{className:"w-5 h-5 text-muted-foreground"}),"Usurios Bloqueados"]}),a.jsx(sa,{children:"Gerencie os usurios que voc bloqueou. Desbloqueie para voltar a ver o perfil e interagir."})]}),a.jsx($i,{className:"max-h-[400px]",children:o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Bl,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(B1,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhum usurio bloqueado"})]}):a.jsx("div",{className:"space-y-3",children:n.map(f=>{var m,p,x,g,w;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Nt,{className:"w-10 h-10",children:[a.jsx(St,{src:((m=f.blocked_profile)==null?void 0:m.avatar_url)||void 0}),a.jsx(kt,{className:"bg-gradient-orkut text-primary-foreground",children:((x=(p=f.blocked_profile)==null?void 0:p.display_name)==null?void 0:x.charAt(0).toUpperCase())||"?"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:(g=f.blocked_profile)==null?void 0:g.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",(w=f.blocked_profile)==null?void 0:w.username]}),f.reason&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:["Motivo: ",f.reason]})]})]}),a.jsx($,{variant:"outline",size:"sm",onClick:()=>{var b;return u(f.id,(b=f.blocked_profile)==null?void 0:b.display_name)},disabled:l===f.id,children:l===f.id?a.jsx(Bl,{className:"w-4 h-4 animate-spin"}):"Desbloquear"})]},f.id)})})})]})})};var Nh="Tabs",[y6]=ir(Nh,[ih]),_k=ih(),[w6,vv]=y6(Nh),Nk=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=xc(l),[f,m]=Bs({prop:n,onChange:s,defaultProp:o??"",caller:Nh});return a.jsx(w6,{scope:r,baseId:Qr(),value:f,onValueChange:m,orientation:i,dir:u,activationMode:c,children:a.jsx(ue.div,{dir:u,"data-orientation":i,...d,ref:t})})});Nk.displayName=Nh;var Sk="TabsList",kk=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=vv(Sk,r),i=_k(r);return a.jsx(c_,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(ue.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});kk.displayName=Sk;var Ck="TabsTrigger",Ek=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=vv(Ck,r),l=_k(r),c=Rk(i.baseId,n),d=Ok(i.baseId,n),u=n===i.value;return a.jsx(d_,{asChild:!0,...l,focusable:!s,active:u,children:a.jsx(ue.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:Q(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Q(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Q(e.onFocus,()=>{const f=i.activationMode!=="manual";!u&&!s&&f&&i.onValueChange(n)})})})});Ek.displayName=Ck;var Pk="TabsContent",Tk=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=vv(Pk,r),c=Rk(l.baseId,n),d=Ok(l.baseId,n),u=n===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Rt,{present:s||u,children:({present:m})=>a.jsx(ue.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});Tk.displayName=Pk;function Rk(e,t){return`${e}-trigger-${t}`}function Ok(e,t){return`${e}-content-${t}`}var b6=Nk,Ak=kk,Mk=Ek,Ik=Tk;const to=b6,Wn=h.forwardRef(({className:e,...t},r)=>a.jsx(Ak,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Wn.displayName=Ak.displayName;const Xe=h.forwardRef(({className:e,...t},r)=>a.jsx(Mk,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Xe.displayName=Mk.displayName;const $t=h.forwardRef(({className:e,...t},r)=>a.jsx(Ik,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));$t.displayName=Ik.displayName;const j6=({photos:e,initialIndex:t,open:r,onOpenChange:n,onDelete:s,canDelete:o=!1})=>{const[i,l]=h.useState(t);h.useEffect(()=>{l(t)},[t]);const c=()=>{l(m=>m===0?e.length-1:m-1)},d=()=>{l(m=>m===e.length-1?0:m+1)},u=m=>{m.key==="ArrowLeft"&&c(),m.key==="ArrowRight"&&d(),m.key==="Escape"&&n(!1)};if(h.useEffect(()=>{if(r)return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[r,i]),e.length===0)return null;const f=e[i];return a.jsx(gr,{open:r,onOpenChange:n,children:a.jsx(or,{className:"max-w-[95vw] max-h-[95vh] p-0 bg-black/95 border-none",children:a.jsxs("div",{className:"relative flex items-center justify-center min-h-[80vh]",children:[a.jsx($,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-white hover:bg-white/20",onClick:()=>n(!1),children:a.jsx(Gn,{className:"w-6 h-6"})}),o&&s&&a.jsx($,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-50 text-red-400 hover:bg-red-500/20 hover:text-red-300",onClick:()=>s(f.id),children:a.jsx(Yu,{className:"w-6 h-6"})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx($,{variant:"ghost",size:"icon",className:"absolute left-4 z-50 text-white hover:bg-white/20 h-12 w-12",onClick:c,children:a.jsx(R1,{className:"w-8 h-8"})}),a.jsx($,{variant:"ghost",size:"icon",className:"absolute right-4 z-50 text-white hover:bg-white/20 h-12 w-12",onClick:d,children:a.jsx(Ng,{className:"w-8 h-8"})})]}),a.jsx("img",{src:f.photo_url,alt:f.caption||"Foto",className:"max-w-full max-h-[85vh] object-contain"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("p",{className:"text-white text-lg",children:f.caption||""}),a.jsxs("span",{className:"text-white/70 text-sm",children:[i+1," / ",e.length]})]})})]})})})},_6=({open:e,onOpenChange:t,userId:r,onAlbumCreated:n})=>{const[s,o]=h.useState(""),[i,l]=h.useState(""),[c,d]=h.useState(!1),u=async()=>{if(!r||!s.trim()){L.error("Nome do lbum  obrigatrio");return}d(!0);try{const{error:f}=await O.from("albums").insert({user_id:r,name:s.trim(),description:i.trim()||null});if(f)throw f;L.success("lbum criado com sucesso!"),o(""),l(""),n(),t(!1)}catch(f){console.error("Erro ao criar lbum:",f),L.error("Erro ao criar lbum")}finally{d(!1)}};return a.jsx(gr,{open:e,onOpenChange:t,children:a.jsxs(or,{className:"sm:max-w-[425px]",children:[a.jsxs(vr,{children:[a.jsxs(xr,{className:"flex items-center gap-2",children:[a.jsx(tl,{className:"w-5 h-5 text-primary"}),"Criar Novo lbum"]}),a.jsx(sa,{children:"Organize suas fotos em lbuns temticos"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"album-name",children:"Nome do lbum *"}),a.jsx(ht,{id:"album-name",value:s,onChange:f=>o(f.target.value),placeholder:"Ex: Viagem ao Serto",maxLength:50})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{htmlFor:"album-description",children:"Descrio (opcional)"}),a.jsx(Vt,{id:"album-description",value:i,onChange:f=>l(f.target.value),placeholder:"Descreva seu lbum...",rows:3,maxLength:200})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancelar"}),a.jsx($,{onClick:u,disabled:c||!s.trim(),children:c?"Criando...":"Criar lbum"})]})]})})},N6=({userId:e,isOwner:t})=>{const[r,n]=h.useState([]),[s,o]=h.useState([]),[i,l]=h.useState(null),[c,d]=h.useState(!0),[u,f]=h.useState(!1),[m,p]=h.useState(!1),[x,g]=h.useState(0),[w,b]=h.useState(!1),[v,y]=h.useState("none"),j=h.useRef(null);h.useEffect(()=>{N(),_()},[e]);const N=async()=>{const{data:M,error:q}=await O.from("albums").select("*").eq("user_id",e).order("created_at",{ascending:!1});q?console.error("Erro ao buscar lbuns:",q):n(M||[])},_=async()=>{d(!0);const{data:M,error:q}=await O.from("gallery_photos").select("*").eq("user_id",e).order("created_at",{ascending:!1});q?console.error("Erro ao buscar fotos:",q):o(M||[]),d(!1)},S=async M=>{const q=Array.from(M.target.files||[]);if(q.length!==0){if(q.length>20){L.error("Mximo de 20 fotos por vez");return}f(!0);try{const R=q.map(async B=>{const I=B.name.split(".").pop(),T=`${e}-${Date.now()}-${Math.random().toString(36).substring(7)}.${I}`,F=`${e}/${T}`,{error:ee}=await O.storage.from("gallery").upload(F,B);if(ee)throw ee;const{data:{publicUrl:H}}=O.storage.from("gallery").getPublicUrl(F),{error:re}=await O.from("gallery_photos").insert({user_id:e,photo_url:H,album_id:v==="none"?null:v});if(re)throw re;return H});if(await Promise.all(R),L.success(`${q.length} foto(s) enviada(s) com sucesso!`),_(),v!=="none"){const B=r.find(I=>I.id===v);B&&!B.cover_photo_url&&N()}}catch(R){console.error("Erro ao fazer upload:",R),L.error("Erro ao enviar fotos")}finally{f(!1),j.current&&(j.current.value="")}}},k=async M=>{try{const q=s.find(I=>I.id===M);if(!q)return;const R=q.photo_url.split("/gallery/")[1];R&&await O.storage.from("gallery").remove([R]);const{error:B}=await O.from("gallery_photos").delete().eq("id",M);if(B)throw B;L.success("Foto excluda"),o(s.filter(I=>I.id!==M)),p(!1)}catch(q){console.error("Erro ao excluir foto:",q),L.error("Erro ao excluir foto")}},A=async M=>{try{await O.from("gallery_photos").update({album_id:null}).eq("album_id",M);const{error:q}=await O.from("albums").delete().eq("id",M);if(q)throw q;L.success("lbum excludo"),N(),_(),l(null)}catch(q){console.error("Erro ao excluir lbum:",q),L.error("Erro ao excluir lbum")}},C=M=>{g(M),p(!0)},P=i?s.filter(M=>M.album_id===i):s,D=M=>s.filter(q=>q.album_id===M).length,U=M=>{if(M.cover_photo_url)return M.cover_photo_url;const q=s.find(R=>R.album_id===M.id);return q==null?void 0:q.photo_url};return a.jsxs(V,{children:[a.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(Em,{className:"w-5 h-5"}),"Galeria de Fotos",a.jsx(Be,{variant:"secondary",children:s.length})]}),t&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[a.jsx(tl,{className:"w-4 h-4 mr-2"}),"Novo lbum"]}),a.jsxs($,{size:"sm",onClick:()=>{var M;return(M=j.current)==null?void 0:M.click()},disabled:u,children:[a.jsx(Wl,{className:"w-4 h-4 mr-2"}),u?"Enviando...":"Enviar Fotos"]}),a.jsx("input",{ref:j,type:"file",accept:"image/*",multiple:!0,onChange:S,className:"hidden"})]})]}),a.jsxs(Me,{children:[t&&a.jsx("div",{className:"mb-4",children:a.jsxs(nc,{value:v,onValueChange:y,children:[a.jsx(bi,{className:"w-[250px]",children:a.jsx(sc,{placeholder:"lbum de destino"})}),a.jsxs(ji,{children:[a.jsx(vn,{value:"none",children:"Sem lbum"}),r.map(M=>a.jsx(vn,{value:M.id,children:M.name},M.id))]})]})}),a.jsxs(to,{defaultValue:"all",className:"w-full",children:[a.jsxs(Wn,{className:"mb-4",children:[a.jsxs(Xe,{value:"all",onClick:()=>l(null),children:[a.jsx(M1,{className:"w-4 h-4 mr-2"}),"Todas (",s.length,")"]}),a.jsxs(Xe,{value:"albums",children:[a.jsx(tl,{className:"w-4 h-4 mr-2"}),"lbuns (",r.length,")"]})]}),a.jsx($t,{value:"all",children:c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):P.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(zo,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Nenhuma foto ainda"}),t&&a.jsx("p",{className:"text-sm mt-1",children:"Envie suas primeiras fotos!"})]}):a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:P.map((M,q)=>a.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden cursor-pointer group relative",onClick:()=>C(q),children:[a.jsx("img",{src:M.photo_url,alt:M.caption||"Foto",className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors"})]},M.id))})}),a.jsx($t,{value:"albums",children:r.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(tl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Nenhum lbum ainda"}),t&&a.jsx("p",{className:"text-sm mt-1",children:"Crie seu primeiro lbum!"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(M=>a.jsx(V,{className:"cursor-pointer group overflow-hidden",onClick:()=>{l(M.id);const q=document.querySelector('[value="all"]');q==null||q.click()},children:a.jsxs("div",{className:"aspect-square relative bg-muted",children:[U(M)?a.jsx("img",{src:U(M),alt:M.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(tl,{className:"w-12 h-12 text-muted-foreground"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[a.jsx("h3",{className:"font-semibold text-white truncate",children:M.name}),a.jsxs("p",{className:"text-white/70 text-sm",children:[D(M.id)," fotos"]})]}),t&&a.jsx($,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-white hover:bg-red-500/50 opacity-0 group-hover:opacity-100 transition-opacity",onClick:q=>{q.stopPropagation(),A(M.id)},children:a.jsx(Yu,{className:"w-4 h-4"})})]})},M.id))})})]}),i&&a.jsx($,{variant:"link",className:"mt-4",onClick:()=>l(null),children:" Ver todas as fotos"})]}),a.jsx(j6,{photos:P.map(M=>({id:M.id,photo_url:M.photo_url,caption:M.caption||void 0})),initialIndex:x,open:m,onOpenChange:p,onDelete:t?k:void 0,canDelete:t}),a.jsx(_6,{open:w,onOpenChange:b,userId:e,onAlbumCreated:N})]})},Dk=({userId:e})=>{const[t,r]=h.useState([]),[n,s]=h.useState(!0);h.useEffect(()=>{o()},[e]);const o=async()=>{try{const{data:d,error:u}=await O.from("friendships").select(`
          *,
          friend_profile:friend_id (
            id,
            username,
            display_name,
            avatar_url
          )
        `).eq("user_id",e).order("created_at",{ascending:!1});if(u)throw u;r(d||[])}catch(d){console.error("Erro ao buscar amizades:",d)}finally{s(!1)}},i=()=>{const d={conhecido:[],vizinho:[],amigo_varanda:[]};return t.forEach(u=>{const f=u.level;d[f].push(u)}),d};if(n)return a.jsx(V,{className:"bg-card/95 backdrop-blur-sm",children:a.jsx(Me,{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})})});const l=i(),c=t.length;return a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(mt,{className:"w-5 h-5"}),"Crculo de Convivncia"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[c," ",c===1?"vnculo":"vnculos"," na cidade"]})]}),a.jsxs(Me,{className:"space-y-6",children:[l.amigo_varanda.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ua,{className:"w-4 h-4 text-primary"}),a.jsxs("h4",{className:"font-semibold text-sm",children:["Amigos da Varanda (",l.amigo_varanda.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:l.amigo_varanda.map(d=>a.jsxs($e,{to:`/profile/${d.friend_profile.username}`,className:"flex flex-col items-center gap-2 p-2 rounded-lg hover:bg-primary/10 transition-colors",children:[a.jsxs(Nt,{className:"h-12 w-12 border-2 border-primary",children:[a.jsx(St,{src:d.friend_profile.avatar_url||void 0}),a.jsx(kt,{children:d.friend_profile.display_name.charAt(0).toUpperCase()})]}),a.jsx("span",{className:"text-xs text-center truncate w-full",children:d.friend_profile.display_name})]},d.id))})]}),l.vizinho.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(mt,{className:"w-4 h-4 text-accent"}),a.jsxs("h4",{className:"font-semibold text-sm",children:["Vizinhos Prximos (",l.vizinho.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.vizinho.map(d=>a.jsxs($e,{to:`/profile/${d.friend_profile.username}`,className:"flex flex-col items-center gap-1 p-1 rounded-lg hover:bg-accent/10 transition-colors",children:[a.jsxs(Nt,{className:"h-10 w-10 border border-accent",children:[a.jsx(St,{src:d.friend_profile.avatar_url||void 0}),a.jsx(kt,{className:"text-xs",children:d.friend_profile.display_name.charAt(0).toUpperCase()})]}),a.jsx("span",{className:"text-xs text-center truncate w-full",children:d.friend_profile.display_name.split(" ")[0]})]},d.id))})]}),l.conhecido.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(La,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("h4",{className:"font-semibold text-sm",children:["Conhecidos da Praa (",l.conhecido.length,")"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.conhecido.map(d=>a.jsxs($e,{to:`/profile/${d.friend_profile.username}`,className:"flex items-center gap-1 px-2 py-1 bg-muted rounded-full hover:bg-muted/80 transition-colors",children:[a.jsxs(Nt,{className:"h-6 w-6",children:[a.jsx(St,{src:d.friend_profile.avatar_url||void 0}),a.jsx(kt,{className:"text-xs",children:d.friend_profile.display_name.charAt(0).toUpperCase()})]}),a.jsx("span",{className:"text-xs",children:d.friend_profile.display_name.split(" ")[0]})]},d.id))})]}),c===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(mt,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum vnculo ainda. Explore a cidade!"})]})]})]})},$k=({userId:e,isOwner:t})=>{const[r,n]=h.useState([]),[s,o]=h.useState(""),[i,l]=h.useState(!0),[c,d]=h.useState(!1);h.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:p,error:x}=await O.from("wall_messages").select(`
          *,
          sender:from_user_id (
            id,
            username,
            display_name,
            avatar_url
          )
        `).eq("to_user_id",e).eq("is_public",!0).order("created_at",{ascending:!1}).limit(10);if(x)throw x;n(p||[])}catch(p){console.error("Erro ao buscar recados:",p)}finally{l(!1)}},f=async()=>{if(s.trim()){d(!0);try{const{data:{user:p}}=await O.auth.getUser();if(!p)throw new Error("Usurio no autenticado");const{error:x}=await O.from("wall_messages").insert({from_user_id:p.id,to_user_id:e,message:s.trim(),is_public:!0});if(x)throw x;L.success("Recado enviado! "),o(""),u()}catch(p){console.error("Erro ao enviar recado:",p),L.error("No foi possvel enviar o recado")}finally{d(!1)}}},m=async p=>{try{const{error:x}=await O.from("wall_messages").delete().eq("id",p);if(x)throw x;L.success("Recado removido"),u()}catch(x){console.error("Erro ao deletar recado:",x),L.error("No foi possvel remover o recado")}};return a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsx(Ve,{children:a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(ar,{className:"w-5 h-5"}),"Recados no Muro"]})}),a.jsxs(Me,{className:"space-y-4",children:[!t&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Vt,{placeholder:"Deixe um recado na varanda...",value:s,onChange:p=>o(p.target.value),maxLength:500,className:"min-h-[80px]"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.length,"/500 caracteres"]}),a.jsxs($,{onClick:f,disabled:!s.trim()||c,size:"sm",className:"bg-gradient-orkut",children:[a.jsx(Fa,{className:"w-4 h-4 mr-2"}),c?"Enviando...":"Enviar Recado"]})]})]}),a.jsx("div",{className:"space-y-3",children:i?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Carregando recados..."}):r.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:t?"Ningum deixou recados ainda":"Seja o primeiro a deixar um recado!"}):r.map(p=>a.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-br from-primary/5 to-accent/5 border border-primary/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-orkut flex items-center justify-center text-white text-sm font-bold",children:p.sender.display_name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:p.sender.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",p.sender.username]})]})]}),t&&a.jsx($,{variant:"ghost",size:"sm",onClick:()=>m(p.id),className:"h-8 w-8 p-0",children:a.jsx(Yu,{className:"w-4 h-4 text-destructive"})})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:p.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(p.created_at).toLocaleDateString("pt-BR")})]},p.id))})]})]})},S6={coffee:"",flowers:"",heart:"",sparkle:"",sun:"",music:""},Lk=({userId:e,isOwner:t})=>{const[r,n]=h.useState([]),[s,o]=h.useState(!0);h.useEffect(()=>{i()},[e]);const i=async()=>{try{const{data:c,error:d}=await O.from("gifts").select(`
          *,
          sender:from_user_id (
            id,
            username,
            display_name,
            avatar_url
          )
        `).eq("to_user_id",e).order("created_at",{ascending:!1}).limit(20);if(d)throw d;n(c||[])}catch(c){console.error("Erro ao buscar presentes:",c)}finally{o(!1)}},l=async c=>{try{const{error:d}=await O.from("gifts").delete().eq("id",c);if(d)throw d;L.success("Presente removido"),i()}catch(d){console.error("Erro ao deletar presente:",d),L.error("No foi possvel remover o presente")}};return s?a.jsx(V,{className:"bg-card/95 backdrop-blur-sm",children:a.jsx(Me,{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})})}):a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-5 h-5 text-pink-500"}),"Presentes Recebidos"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.length," ",r.length===1?"presente":"presentes"]})]}),a.jsx(Me,{children:r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(mr,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t?"Voc ainda no recebeu presentes":"Nenhum presente ainda"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.map(c=>a.jsxs("div",{className:"relative p-4 rounded-lg border bg-gradient-to-br from-pink-500/10 to-purple-500/10 border-pink-200/20 hover:border-pink-300/40 transition-all",children:[t&&a.jsx($,{variant:"ghost",size:"sm",onClick:()=>l(c.id),className:"absolute top-1 right-1 h-6 w-6 p-0 hover:bg-destructive/20",children:a.jsx(Yu,{className:"w-3 h-3 text-destructive"})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"text-4xl mb-2",children:S6[c.gift_type]||""}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold",children:c.sender.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",c.sender.username]})]}),c.message&&a.jsxs("p",{className:"text-xs italic text-muted-foreground line-clamp-2 mt-1",children:['"',c.message,'"']}),a.jsx("p",{className:"text-xs text-muted-foreground/70",children:new Date(c.created_at).toLocaleDateString("pt-BR")})]})]},c.id))})})]})},Fk=()=>{var Y,Ne;const{user:e,loading:t}=bt(),{checkPhotographer:r,checkDecorator:n}=gv(),[s,o]=h.useState(null),[i,l]=h.useState([]),[c,d]=h.useState([]),[u,f]=h.useState([]),[m,p]=h.useState(0),[x,g]=h.useState(""),[w,b]=h.useState(!0),[v,y]=h.useState(!1),[j,N]=h.useState(!1),[_,S]=h.useState(!1),[k,A]=h.useState(!1),[C,P]=h.useState(!1),[D,U]=h.useState(!1),[M,q]=h.useState([]),[R,B]=h.useState([]),[I,T]=h.useState([]),[F,ee]=h.useState("posts"),H=h.useRef(null),re=h.useRef(null);h.useEffect(()=>{e&&te()},[e]);const te=async()=>{if(e)try{const{data:Z,error:he}=await O.from("profiles").select("*").eq("id",e.id).single();if(he)throw he;o(Z);const{count:z}=await O.from("friendships").select("*",{count:"exact",head:!0}).eq("user_id",e.id);p(z||0);const{data:G,error:ne}=await O.from("scraps").select("*, from_profile:profiles!scraps_from_user_id_fkey(*)").eq("to_user_id",e.id).order("created_at",{ascending:!1});if(ne)throw ne;l(G||[]);try{const{data:ca,error:Kt}=await O.from("testimonials").select("*, from_profile:profiles!testimonials_from_user_id_fkey(*)").eq("to_user_id",e.id).order("created_at",{ascending:!1});Kt&&console.warn("Aviso:",Kt),d(ca||[])}catch{d([])}const{data:we,error:Oe}=await O.from("user_achievements").select("*, achievement:achievements(*)").eq("user_id",e.id);if(Oe)throw Oe;f(we||[]);const{data:be,error:pe}=await O.from("posts").select("id, image_url").eq("user_id",e.id).not("image_url","is",null).order("created_at",{ascending:!1}).limit(6);pe?console.warn("Aviso ao carregar fotos:",pe):q(be||[]);const{data:st,error:at}=await O.from("friendships").select("friend_id").eq("user_id",e.id).limit(6);if(at)console.warn("Aviso ao carregar amigos:",at);else{const ca=st.map(Kt=>Kt.friend_id);if(ca.length>0){const{data:Kt,error:Rc}=await O.from("profiles").select("id, display_name, avatar_url, username").in("id",ca);Rc?console.warn("Aviso ao carregar perfis de amigos:",Rc):B(Kt||[])}}const{data:Tc,error:Qn}=await O.from("posts").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});Qn?console.warn("Aviso ao carregar posts:",Qn):T(Tc||[])}catch(Z){console.error("Erro ao carregar dados:",Z),L.error("Erro ao carregar perfil")}finally{b(!1)}},oe=async Z=>{try{if(!Z.target.files||Z.target.files.length===0)return;y(!0);const he=Z.target.files[0],z=he.name.split(".").pop(),G=`${e==null?void 0:e.id}-${Math.random()}.${z}`,ne=`${e==null?void 0:e.id}/${G}`,{error:we}=await O.storage.from("avatars").upload(ne,he,{upsert:!0});if(we)throw we;const{data:{publicUrl:Oe}}=O.storage.from("avatars").getPublicUrl(ne),{error:be}=await O.from("profiles").update({avatar_url:Oe}).eq("id",e==null?void 0:e.id);if(be)throw be;L.success(" Avatar atualizado!"),e!=null&&e.id&&await r(e.id),te()}catch(he){console.error("Erro ao fazer upload do avatar:",he),L.error("Erro ao atualizar avatar")}finally{y(!1)}},me=async Z=>{try{if(!Z.target.files||Z.target.files.length===0)return;N(!0);const he=Z.target.files[0],z=he.name.split(".").pop(),G=`${e==null?void 0:e.id}-${Math.random()}.${z}`,ne=`${e==null?void 0:e.id}/${G}`,{error:we}=await O.storage.from("house-covers").upload(ne,he,{upsert:!0});if(we)throw we;const{data:{publicUrl:Oe}}=O.storage.from("house-covers").getPublicUrl(ne),{error:be}=await O.from("profiles").update({house_background:Oe}).eq("id",e==null?void 0:e.id);if(be)throw be;L.success(" Foto de capa atualizada!"),e!=null&&e.id&&await n(e.id),te()}catch(he){console.error("Erro ao fazer upload da capa:",he),L.error("Erro ao atualizar foto de capa")}finally{N(!1)}};return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"fixed top-4 right-4 z-50",children:a.jsx(Nc,{})}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"h-[200px] sm:h-[280px] md:h-[350px] bg-gradient-to-r from-primary/20 via-secondary/20 to-accent/20 relative",children:[a.jsx("img",{src:(s==null?void 0:s.house_background)||"https://images.unsplash.com/photo-1528459801416-a9e53bbf4e17?q=80&w=1912&auto=format&fit=crop",alt:"Capa",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-transparent"}),a.jsxs($,{onClick:()=>{var Z;return(Z=re.current)==null?void 0:Z.click()},disabled:j,variant:"secondary",size:"sm",className:"absolute bottom-4 right-4 gap-2 bg-card/90 hover:bg-card shadow-lg",children:[a.jsx(Em,{className:"w-4 h-4"}),j?"Enviando...":"Editar capa"]}),a.jsx("input",{ref:re,type:"file",accept:"image/*",onChange:me,className:"hidden"})]}),a.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[a.jsx("div",{className:"relative -mt-[80px] sm:-mt-[100px] pb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4",children:[a.jsxs("div",{className:"relative group self-center sm:self-auto",children:[a.jsxs("div",{className:"w-[140px] h-[140px] sm:w-[168px] sm:h-[168px] rounded-full border-4 border-background shadow-xl bg-card overflow-hidden cursor-pointer",onClick:()=>{var Z;return(Z=H.current)==null?void 0:Z.click()},children:[s!=null&&s.avatar_url?a.jsx("img",{src:s.avatar_url,alt:s.display_name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gradient-orkut flex items-center justify-center text-primary-foreground text-5xl font-bold",children:s==null?void 0:s.display_name.charAt(0).toUpperCase()}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-full",children:a.jsx(Em,{className:"w-8 h-8 text-white"})})]}),a.jsx("input",{ref:H,type:"file",accept:"image/*",onChange:oe,className:"hidden"}),v&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full",children:a.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),a.jsxs("div",{className:"flex-1 text-center sm:text-left sm:pb-2",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:s==null?void 0:s.display_name}),a.jsxs("p",{className:"text-muted-foreground font-medium",children:["@",s==null?void 0:s.username]}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-semibold text-foreground",children:m}),a.jsx("span",{children:"amigos"}),a.jsx("span",{children:""}),a.jsx("span",{className:"font-semibold text-foreground",children:u.length}),a.jsx("span",{children:"conquistas"}),a.jsx("span",{children:""}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ua,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{className:"font-semibold text-foreground",children:(s==null?void 0:s.points)||0}),a.jsx("span",{children:"pontos"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 self-center sm:self-end sm:pb-2",children:[a.jsxs($,{onClick:()=>S(!0),className:"gap-2 bg-primary hover:bg-primary/90",children:[a.jsx(D1,{className:"w-4 h-4"}),"Editar perfil"]}),a.jsxs(hN,{children:[a.jsx(fN,{asChild:!0,children:a.jsx($,{variant:"outline",size:"icon",children:a.jsx(oT,{className:"w-4 h-4"})})}),a.jsxs(ev,{align:"end",className:"w-56",children:[a.jsxs(Ro,{onClick:()=>A(!0),children:[a.jsx(un,{className:"w-4 h-4 mr-2"}),"Configurar msica"]}),a.jsxs(Ro,{onClick:()=>P(!0),children:[a.jsx(zo,{className:"w-4 h-4 mr-2"}),"Adicionar fotos"]}),a.jsx(mN,{}),a.jsx(Ro,{asChild:!0,children:a.jsxs($e,{to:"/privacy-settings",children:[a.jsx(Nd,{className:"w-4 h-4 mr-2"}),"Configuraes de privacidade"]})}),a.jsxs(Ro,{onClick:()=>U(!0),children:[a.jsx(ru,{className:"w-4 h-4 mr-2"}),"Usurios bloqueados"]})]})]})]})]})}),a.jsx(jl,{className:"my-2"}),a.jsx("div",{className:"flex overflow-x-auto scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:a.jsx("nav",{className:"flex gap-1 border-b border-transparent",children:[{id:"posts",label:"Publicaes",icon:M1},{id:"about",label:"Sobre",icon:La},{id:"photos",label:"Fotos",icon:zo},{id:"friends",label:"Amigos",icon:mt},{id:"gifts",label:"Presentes",icon:mr},{id:"trophies",label:"Trofus",icon:Et},{id:"music",label:"Msica",icon:un},{id:"scraps",label:"Recados",icon:ar}].map(Z=>a.jsxs("button",{onClick:()=>ee(Z.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium rounded-t-lg transition-colors whitespace-nowrap ${F===Z.id?"text-primary border-b-2 border-primary bg-primary/5":"text-muted-foreground hover:bg-muted/50"}`,children:[a.jsx(Z.icon,{className:"w-4 h-4"}),Z.label]},Z.id))})})]})]}),a.jsx("div",{className:"max-w-5xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(V,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Sobre"}),s!=null&&s.bio?a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:s.bio}):a.jsx("p",{className:"text-muted-foreground text-sm italic mb-4",children:"Adicione uma bio para contar mais sobre voc"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(La,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("span",{children:["Mora em ",a.jsx("strong",{children:(s==null?void 0:s.city)||"No informado"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(fT,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("span",{children:["De ",a.jsx("strong",{children:(s==null?void 0:s.country)||"No informado"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(P1,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("span",{children:["Entrou em ",a.jsx("strong",{children:s!=null&&s.created_at?new Date(s.created_at).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}):"data desconhecida"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(hT,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("span",{children:["Nvel ",a.jsx("strong",{children:(s==null?void 0:s.level)||1})]})]})]}),a.jsx($,{variant:"outline",className:"w-full mt-4",onClick:()=>S(!0),children:"Editar detalhes"})]}),a.jsxs(V,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Fotos"}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>P(!0),children:"Ver todas"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-1 rounded-lg overflow-hidden",children:M.length>0?M.map(Z=>a.jsx("div",{className:"aspect-square bg-muted",children:a.jsx("img",{src:Z.image_url,alt:"Foto do usurio",className:"w-full h-full object-cover"})},Z.id)):a.jsx("div",{className:"col-span-3 text-center text-sm text-muted-foreground p-4",children:"Nenhuma foto para mostrar ainda."})})]}),a.jsxs(V,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Amigos"}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>ee("friends"),children:"Ver todos"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[m," amigos"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:R.length>0?R.map(Z=>{var he;return a.jsxs($e,{to:`/profile/${Z.username}`,className:"text-center",children:[a.jsxs(Nt,{className:"w-full h-auto aspect-square rounded-lg mb-1",children:[a.jsx(St,{src:Z.avatar_url||void 0,alt:Z.display_name||""}),a.jsx(kt,{className:"rounded-lg",children:(he=Z.display_name)==null?void 0:he.charAt(0).toUpperCase()})]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:Z.display_name})]},Z.id)}):a.jsx("div",{className:"col-span-3 text-center text-sm text-muted-foreground p-4",children:"Voc ainda no adicionou amigos."})})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[F==="posts"&&a.jsxs(a.Fragment,{children:[a.jsxs(V,{className:"p-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Nt,{className:"w-10 h-10",children:[a.jsx(St,{src:(s==null?void 0:s.avatar_url)||void 0}),a.jsx(kt,{children:(Y=s==null?void 0:s.display_name)==null?void 0:Y.charAt(0)})]}),a.jsx(Vt,{placeholder:"O que voc est pensando?",className:"flex-1 bg-muted border-none focus-visible:ring-1 focus-visible:ring-primary",rows:2})]}),a.jsxs("div",{className:"flex justify-between items-center mt-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground",children:[a.jsx(zo,{className:"w-4 h-4"})," Foto"]}),a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground",children:[a.jsx($n,{className:"w-4 h-4"})," Momento"]})]}),a.jsxs($,{className:"gap-2",children:[a.jsx(Fa,{className:"w-4 h-4"})," Publicar"]})]})]}),a.jsx("div",{className:"space-y-4 mt-4",children:I.map(Z=>a.jsxs(V,{className:"p-4",children:[a.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:Z.content}),Z.image_url&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:a.jsx("img",{src:Z.image_url,alt:"Post",className:"w-full h-auto object-cover"})}),a.jsxs("div",{className:"flex justify-end gap-4 text-xs text-muted-foreground mt-3",children:[a.jsxs("span",{children:[Z.likes_count||0," curtidas"]}),a.jsxs("span",{children:[Z.comments_count||0," comentrios"]})]})]},Z.id))})]}),F==="about"&&a.jsxs(V,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Sobre ",s==null?void 0:s.display_name]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Bio"}),a.jsx("p",{className:"text-foreground",children:(s==null?void 0:s.bio)||"Nenhuma bio adicionada ainda."})]}),a.jsx(jl,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Estatsticas"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-primary",children:(s==null?void 0:s.points)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Pontos"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary",children:(s==null?void 0:s.level)||1}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Nvel"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-accent",children:u.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Conquistas"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-primary",children:m}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Amigos"})]})]})]}),(s==null?void 0:s.house_theme)&&s.house_theme!=="default"&&a.jsxs(a.Fragment,{children:[a.jsx(jl,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Tema da Casa"}),a.jsx(Be,{variant:"secondary",children:s.house_theme})]})]})]})]}),F==="photos"&&e&&a.jsx(N6,{userId:e.id,isOwner:!0}),F==="friends"&&a.jsxs(V,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Amigos"}),e&&a.jsx(Dk,{userId:e.id})]}),F==="gifts"&&a.jsxs(V,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(mr,{className:"w-5 h-5 text-primary"}),"Presentes Recebidos"]}),e&&a.jsx(Lk,{userId:e.id,isOwner:!0})]}),F==="trophies"&&a.jsxs(V,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Et,{className:"w-5 h-5 text-secondary"}),"Sala de Trofus"]}),u.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Et,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma conquista ainda. Continue interagindo!"})]}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:u.map(Z=>a.jsxs(V,{className:"p-4 text-center hover:shadow-lg transition-shadow border-2 border-transparent hover:border-secondary/50",children:[a.jsx("div",{className:"text-4xl mb-2",children:Z.achievement.icon||""}),a.jsx("h4",{className:"font-semibold text-sm",children:Z.achievement.name}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Z.achievement.description}),a.jsxs(Be,{variant:"secondary",className:"mt-2 text-xs",children:["+",Z.achievement.points," pts"]})]},Z.id))})]}),F==="scraps"&&a.jsxs(V,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ar,{className:"w-5 h-5 text-primary"}),"Mural de Recados"]}),a.jsx($k,{userId:e.id,isOwner:!0})]}),F==="music"&&a.jsxs(V,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(un,{className:"w-5 h-5 text-accent"}),"Msica do Perfil"]}),s!=null&&s.music_url?a.jsx("div",{className:"aspect-video",children:a.jsx("iframe",{className:"w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${((Ne=s.music_url.split("v=")[1])==null?void 0:Ne.split("&")[0])||s.music_url.split("/").pop()}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(un,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma msica foi adicionada ao perfil ainda."}),a.jsxs($,{onClick:()=>A(!0),children:[a.jsx(un,{className:"w-4 h-4 mr-2"}),"Adicionar msica"]})]})]})]})]})}),a.jsx(p6,{open:_,onOpenChange:S,profile:s,onProfileUpdate:te}),a.jsx(v6,{open:k,onOpenChange:A,userId:e==null?void 0:e.id,currentMusic:s==null?void 0:s.house_music,onMusicUpdate:te}),a.jsx(x6,{open:C,onOpenChange:P,userId:e==null?void 0:e.id,onUploadComplete:te}),a.jsx(jk,{open:D,onOpenChange:U})]}):a.jsx(ra,{to:"/auth",replace:!0})},k6=()=>{const[e,t]=h.useState(()=>y0());return h.useEffect(()=>{const r=setInterval(()=>{t(y0())},6e4);return()=>clearInterval(r)},[]),e};function y0(){const e=new Date().getHours();return e>=5&&e<12?{timeOfDay:"morning",gradient:"var(--gradient-morning)",greeting:"Bom dia, cidado!",emoji:""}:e>=12&&e<18?{timeOfDay:"afternoon",gradient:"var(--gradient-afternoon)",greeting:"Boa tarde!",emoji:""}:e>=18&&e<22?{timeOfDay:"evening",gradient:"var(--gradient-evening)",greeting:"Boa noite!",emoji:""}:{timeOfDay:"night",gradient:"var(--gradient-night)",greeting:"Madrugada na praa",emoji:""}}var Sh="Popover",[zk]=ir(Sh,[Js]),Ec=Js(),[C6,la]=zk(Sh),Uk=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=Ec(t),c=h.useRef(null),[d,u]=h.useState(!1),[f,m]=Bs({prop:n,defaultProp:s??!1,onChange:o,caller:Sh});return a.jsx(Dg,{...l,children:a.jsx(C6,{scope:t,contentId:Qr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:i,children:r})})};Uk.displayName=Sh;var Bk="PopoverAnchor",E6=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=la(Bk,r),o=Ec(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(vc,{...o,...n,ref:t})});E6.displayName=Bk;var qk="PopoverTrigger",Vk=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=la(qk,r),o=Ec(r),i=Se(t,s.triggerRef),l=a.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Qk(s.open),...n,ref:i,onClick:Q(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(vc,{asChild:!0,...o,children:l})});Vk.displayName=qk;var xv="PopoverPortal",[P6,T6]=zk(xv,{forceMount:void 0}),Wk=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=la(xv,t);return a.jsx(P6,{scope:t,forceMount:r,children:a.jsx(Rt,{present:r||o.open,children:a.jsx(Ci,{asChild:!0,container:s,children:n})})})};Wk.displayName=xv;var _i="PopoverContent",Hk=h.forwardRef((e,t)=>{const r=T6(_i,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=la(_i,e.__scopePopover);return a.jsx(Rt,{present:n||o.open,children:o.modal?a.jsx(O6,{...s,ref:t}):a.jsx(A6,{...s,ref:t})})});Hk.displayName=_i;var R6=Us("PopoverContent.RemoveScroll"),O6=h.forwardRef((e,t)=>{const r=la(_i,e.__scopePopover),n=h.useRef(null),s=Se(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return lh(i)},[]),a.jsx(bc,{as:R6,allowPinchZoom:!0,children:a.jsx(Gk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Q(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),A6=h.forwardRef((e,t)=>{const r=la(_i,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(Gk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Gk=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=la(_i,r),p=Ec(r);return oh(),a.jsx(yc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(eh,{"data-state":Qk(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Kk="PopoverClose",M6=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=la(Kk,r);return a.jsx(ue.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});M6.displayName=Kk;var I6="PopoverArrow",D6=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ec(r);return a.jsx(th,{...s,...n,ref:t})});D6.displayName=I6;function Qk(e){return e?"open":"closed"}var $6=Uk,L6=Vk,F6=Wk,Yk=Hk;const z6=$6,U6=L6,Xk=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(F6,{children:a.jsx(Yk,{ref:s,align:t,sideOffset:r,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Xk.displayName=Yk.displayName;function ze(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ks(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Zk=6048e5,B6=864e5,cd=43200,w0=1440;let q6={};function Pc(){return q6}function ac(e,t){var l,c,d,u;const r=Pc(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=ze(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Nu(e){return ac(e,{weekStartsOn:1})}function Jk(e){const t=ze(e),r=t.getFullYear(),n=Ks(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Nu(n),o=Ks(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Nu(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function b0(e){const t=ze(e);return t.setHours(0,0,0,0),t}function Su(e){const t=ze(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function V6(e,t){const r=b0(e),n=b0(t),s=+r-Su(r),o=+n-Su(n);return Math.round((s-o)/B6)}function W6(e){const t=Jk(e),r=Ks(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Nu(r)}function Pd(e,t){const r=ze(e),n=ze(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function H6(e){return Ks(e,Date.now())}function G6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function K6(e){if(!G6(e)&&typeof e!="number")return!1;const t=ze(e);return!isNaN(Number(t))}function Q6(e,t){const r=ze(e),n=ze(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function Y6(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function X6(e,t){return+ze(e)-+ze(t)}function Z6(e){const t=ze(e);return t.setHours(23,59,59,999),t}function J6(e){const t=ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function eF(e){const t=ze(e);return+Z6(t)==+J6(t)}function tF(e,t){const r=ze(e),n=ze(t),s=Pd(r,n),o=Math.abs(Q6(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let l=Pd(r,n)===-s;eF(ze(e))&&o===1&&Pd(e,n)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function rF(e,t,r){const n=X6(e,t)/1e3;return Y6(r==null?void 0:r.roundingMethod)(n)}function nF(e){const t=ze(e),r=Ks(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const sF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aF=(e,t,r)=>{let n;const s=sF[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Wo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const oF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cF={date:Wo({formats:oF,defaultWidth:"full"}),time:Wo({formats:iF,defaultWidth:"full"}),dateTime:Wo({formats:lF,defaultWidth:"full"})},dF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uF=(e,t,r,n)=>dF[e];function fn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const hF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xF=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yF={ordinalNumber:xF,era:fn({values:hF,defaultWidth:"wide"}),quarter:fn({values:fF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fn({values:mF,defaultWidth:"wide"}),day:fn({values:pF,defaultWidth:"wide"}),dayPeriod:fn({values:gF,defaultWidth:"wide",formattingValues:vF,defaultFormattingWidth:"wide"})};function mn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?bF(l,f=>f.test(i)):wF(l,f=>f.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function wF(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function bF(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function eC(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const jF=/^(\d+)(th|st|nd|rd)?/i,_F=/\d+/i,NF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SF={any:[/^b/i,/^(a|c)/i]},kF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CF={any:[/1/i,/2/i,/3/i,/4/i]},EF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MF={ordinalNumber:eC({matchPattern:jF,parsePattern:_F,valueCallback:e=>parseInt(e,10)}),era:mn({matchPatterns:NF,defaultMatchWidth:"wide",parsePatterns:SF,defaultParseWidth:"any"}),quarter:mn({matchPatterns:kF,defaultMatchWidth:"wide",parsePatterns:CF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mn({matchPatterns:EF,defaultMatchWidth:"wide",parsePatterns:PF,defaultParseWidth:"any"}),day:mn({matchPatterns:TF,defaultMatchWidth:"wide",parsePatterns:RF,defaultParseWidth:"any"}),dayPeriod:mn({matchPatterns:OF,defaultMatchWidth:"any",parsePatterns:AF,defaultParseWidth:"any"})},tC={code:"en-US",formatDistance:aF,formatLong:cF,formatRelative:uF,localize:yF,match:MF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IF(e){const t=ze(e);return V6(t,nF(t))+1}function DF(e){const t=ze(e),r=+Nu(t)-+W6(t);return Math.round(r/Zk)+1}function rC(e,t){var u,f,m,p;const r=ze(e),n=r.getFullYear(),s=Pc(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Ks(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=ac(i,t),c=Ks(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const d=ac(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function $F(e,t){var l,c,d,u;const r=Pc(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=rC(e,t),o=Ks(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),ac(o,t)}function LF(e,t){const r=ze(e),n=+ac(r,t)-+$F(r,t);return Math.round(n/Zk)+1}function De(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ns={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return De(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):De(r+1,2)},d(e,t){return De(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return De(e.getHours()%12||12,t.length)},H(e,t){return De(e.getHours(),t.length)},m(e,t){return De(e.getMinutes(),t.length)},s(e,t){return De(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return De(s,t.length)}},po={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ns.y(e,t)},Y:function(e,t,r,n){const s=rC(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return De(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):De(o,t.length)},R:function(e,t){const r=Jk(e);return De(r,t.length)},u:function(e,t){const r=e.getFullYear();return De(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return De(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return De(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ns.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return De(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=LF(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):De(s,t.length)},I:function(e,t,r){const n=DF(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):De(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ns.d(e,t)},D:function(e,t,r){const n=IF(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):De(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return De(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return De(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return De(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=po.noon:n===0?s=po.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=po.evening:n>=12?s=po.afternoon:n>=4?s=po.morning:s=po.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ns.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ns.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):De(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):De(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ns.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ns.s(e,t)},S:function(e,t){return ns.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return N0(n);case"XXXX":case"XX":return ga(n);case"XXXXX":case"XXX":default:return ga(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return N0(n);case"xxxx":case"xx":return ga(n);case"xxxxx":case"xxx":default:return ga(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_0(n,":");case"OOOO":default:return"GMT"+ga(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_0(n,":");case"zzzz":default:return"GMT"+ga(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return De(n,t.length)},T:function(e,t,r){const n=e.getTime();return De(n,t.length)}};function _0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+De(o,2)}function N0(e,t){return e%60===0?(e>0?"-":"+")+De(Math.abs(e)/60,2):ga(e,t)}function ga(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=De(Math.trunc(n/60),2),o=De(n%60,2);return r+s+t+o}const S0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},nC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},FF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return S0(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",S0(n,t)).replace("{{time}}",nC(s,t))},zF={p:nC,P:FF},UF=/^D+$/,BF=/^Y+$/,qF=["D","DD","YY","YYYY"];function VF(e){return UF.test(e)}function WF(e){return BF.test(e)}function HF(e,t,r){const n=GF(e,t,r);if(console.warn(n),qF.includes(e))throw new RangeError(n)}function GF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YF=/^'([^]*?)'?$/,XF=/''/g,ZF=/[a-zA-Z]/;function il(e,t,r){var u,f,m,p;const n=Pc(),s=n.locale??tC,o=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=ze(e);if(!K6(l))throw new RangeError("Invalid time value");let c=t.match(QF).map(x=>{const g=x[0];if(g==="p"||g==="P"){const w=zF[g];return w(x,s.formatLong)}return x}).join("").match(KF).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:JF(x)};if(j0[g])return{isToken:!0,value:x};if(g.match(ZF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(WF(g)||VF(g))&&HF(g,t,String(e));const w=j0[g[0]];return w(l,g,s.localize,d)}).join("")}function JF(e){const t=e.match(YF);return t?t[1].replace(XF,"'"):e}function e8(e,t,r){const n=Pc(),s=(r==null?void 0:r.locale)??n.locale??tC,o=2520,i=Pd(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,d;i>0?(c=ze(t),d=ze(e)):(c=ze(e),d=ze(t));const u=rF(d,c),f=(Su(d)-Su(c))/1e3,m=Math.round((u-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,l):u<10?s.formatDistance("lessThanXSeconds",10,l):u<20?s.formatDistance("lessThanXSeconds",20,l):u<40?s.formatDistance("halfAMinute",0,l):u<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<w0){const x=Math.round(m/60);return s.formatDistance("aboutXHours",x,l)}else{if(m<o)return s.formatDistance("xDays",1,l);if(m<cd){const x=Math.round(m/w0);return s.formatDistance("xDays",x,l)}else if(m<cd*2)return p=Math.round(m/cd),s.formatDistance("aboutXMonths",p,l)}if(p=tF(d,c),p<12){const x=Math.round(m/cd);return s.formatDistance("xMonths",x,l)}else{const x=p%12,g=Math.trunc(p/12);return x<3?s.formatDistance("aboutXYears",g,l):x<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function sC(e,t){return e8(e,H6(e),t)}const t8={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},r8=(e,t,r)=>{let n;const s=t8[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},n8={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},s8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},a8={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o8={date:Wo({formats:n8,defaultWidth:"full"}),time:Wo({formats:s8,defaultWidth:"full"}),dateTime:Wo({formats:a8,defaultWidth:"full"})},i8={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},l8=(e,t,r,n)=>{const s=i8[e];return typeof s=="function"?s(t):s},c8={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},d8={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},u8={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},h8={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},f8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},m8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},p8=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},g8={ordinalNumber:p8,era:fn({values:c8,defaultWidth:"wide"}),quarter:fn({values:d8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fn({values:u8,defaultWidth:"wide"}),day:fn({values:h8,defaultWidth:"wide"}),dayPeriod:fn({values:f8,defaultWidth:"wide",formattingValues:m8,defaultFormattingWidth:"wide"})},v8=/^(\d+)[o]?/i,x8=/\d+/i,y8={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},w8={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},b8={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},j8={any:[/1/i,/2/i,/3/i,/4/i]},_8={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},N8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},S8={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},k8={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},C8={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},E8={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},P8={ordinalNumber:eC({matchPattern:v8,parsePattern:x8,valueCallback:e=>parseInt(e,10)}),era:mn({matchPatterns:y8,defaultMatchWidth:"wide",parsePatterns:w8,defaultParseWidth:"any"}),quarter:mn({matchPatterns:b8,defaultMatchWidth:"wide",parsePatterns:j8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mn({matchPatterns:_8,defaultMatchWidth:"wide",parsePatterns:N8,defaultParseWidth:"any"}),day:mn({matchPatterns:S8,defaultMatchWidth:"wide",parsePatterns:k8,defaultParseWidth:"any"}),dayPeriod:mn({matchPatterns:C8,defaultMatchWidth:"any",parsePatterns:E8,defaultParseWidth:"any"})},aC={code:"pt-BR",formatDistance:r8,formatLong:o8,formatRelative:l8,localize:g8,match:P8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oC(){const{user:e}=bt(),t=Ot(),[r,n]=h.useState([]),[s,o]=h.useState(0),[i,l]=h.useState(!1);h.useEffect(()=>{if(!e)return;c();const m=O.channel("notifications-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"private_messages",filter:`to_user_id=eq.${e.id}`},async g=>{const w=g.new,{data:b}=await O.from("profiles").select("display_name").eq("id",w.from_user_id).single(),v={id:`msg-${w.id}`,type:"message",title:"Nova mensagem",description:`${(b==null?void 0:b.display_name)||"Algum"} te enviou uma mensagem`,created_at:w.created_at,from_user_id:w.from_user_id,from_user_name:b==null?void 0:b.display_name,is_read:!1};n(y=>[v,...y]),o(y=>y+1)}).subscribe(),p=O.channel("notifications-requests").on("postgres_changes",{event:"INSERT",schema:"public",table:"friend_requests",filter:`receiver_id=eq.${e.id}`},async g=>{const w=g.new,{data:b}=await O.from("profiles").select("display_name").eq("id",w.sender_id).single(),v={id:`req-${w.id}`,type:"friend_request",title:"Novo convite de convivncia",description:`${(b==null?void 0:b.display_name)||"Algum"} acenou para voc!`,created_at:w.created_at,from_user_id:w.sender_id,from_user_name:b==null?void 0:b.display_name,is_read:!1};n(y=>[v,...y]),o(y=>y+1)}).subscribe(),x=O.channel("notifications-gifts").on("postgres_changes",{event:"INSERT",schema:"public",table:"gifts",filter:`to_user_id=eq.${e.id}`},async g=>{const w=g.new,{data:b}=await O.from("profiles").select("display_name").eq("id",w.from_user_id).single(),v={id:`gift-${w.id}`,type:"gift",title:"Novo presente",description:`${(b==null?void 0:b.display_name)||"Algum"} te enviou um presente!`,created_at:w.created_at,from_user_id:w.from_user_id,from_user_name:b==null?void 0:b.display_name,is_read:!1};n(y=>[v,...y]),o(y=>y+1)}).subscribe();return()=>{O.removeChannel(m),O.removeChannel(p),O.removeChannel(x)}},[e]);const c=async()=>{if(!e)return;const{count:m}=await O.from("private_messages").select("*",{count:"exact",head:!0}).eq("to_user_id",e.id).eq("is_read",!1),{count:p}=await O.from("friend_requests").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("status","pending"),x=new Date;x.setDate(x.getDate()-7);const{data:g}=await O.from("gifts").select("*, profiles!gifts_from_user_id_fkey(display_name)").eq("to_user_id",e.id).gte("created_at",x.toISOString()).order("created_at",{ascending:!1}).limit(5),{data:w}=await O.from("private_messages").select("*, profiles!private_messages_from_user_id_fkey(display_name)").eq("to_user_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1}).limit(5),{data:b}=await O.from("friend_requests").select("*, profiles!friend_requests_sender_id_fkey(display_name)").eq("receiver_id",e.id).eq("status","pending").order("created_at",{ascending:!1}).limit(5),v=[];w==null||w.forEach(y=>{var j,N;v.push({id:`msg-${y.id}`,type:"message",title:"Nova mensagem",description:`${((j=y.profiles)==null?void 0:j.display_name)||"Algum"} te enviou uma mensagem`,created_at:y.created_at,from_user_id:y.from_user_id,from_user_name:(N=y.profiles)==null?void 0:N.display_name,is_read:y.is_read})}),b==null||b.forEach(y=>{var j,N;v.push({id:`req-${y.id}`,type:"friend_request",title:"Convite de convivncia",description:`${((j=y.profiles)==null?void 0:j.display_name)||"Algum"} acenou para voc!`,created_at:y.created_at,from_user_id:y.sender_id,from_user_name:(N=y.profiles)==null?void 0:N.display_name,is_read:!1})}),g==null||g.forEach(y=>{var j,N;v.push({id:`gift-${y.id}`,type:"gift",title:"Presente recebido",description:`${((j=y.profiles)==null?void 0:j.display_name)||"Algum"} te enviou um presente!`,created_at:y.created_at,from_user_id:y.from_user_id,from_user_name:(N=y.profiles)==null?void 0:N.display_name,is_read:!1})}),v.sort((y,j)=>new Date(j.created_at).getTime()-new Date(y.created_at).getTime()),n(v),o((m||0)+(p||0))},d=m=>{l(!1),m.type==="friend_request"?t("/explore"):(m.type==="message"||m.type==="gift")&&t("/dashboard")},u=async()=>{e&&(await O.from("private_messages").update({is_read:!0}).eq("to_user_id",e.id).eq("is_read",!1),o(0),c())},f=m=>{switch(m){case"message":return a.jsx(ar,{className:"w-4 h-4 text-blue-500"});case"friend_request":return a.jsx(nu,{className:"w-4 h-4 text-green-500"});case"gift":return a.jsx(mr,{className:"w-4 h-4 text-pink-500"});default:return a.jsx(sf,{className:"w-4 h-4"})}};return a.jsxs(z6,{open:i,onOpenChange:l,children:[a.jsx(U6,{asChild:!0,children:a.jsxs($,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(sf,{className:"w-5 h-5"}),s>0&&a.jsx(Be,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-destructive text-destructive-foreground animate-pulse",children:s>9?"9+":s})]})}),a.jsxs(Xk,{className:"w-80 p-0",align:"end",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h4",{className:"font-semibold",children:"Notificaes"}),s>0&&a.jsxs($,{variant:"ghost",size:"sm",onClick:u,className:"text-xs gap-1",children:[a.jsx(_g,{className:"w-3 h-3"}),"Marcar como lidas"]})]}),a.jsx($i,{className:"h-80",children:r.length===0?a.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[a.jsx(sf,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Nenhuma notificao"})]}):a.jsx("div",{className:"divide-y",children:r.map(m=>a.jsx("button",{onClick:()=>d(m),className:`w-full p-4 text-left hover:bg-muted/50 transition-colors ${m.is_read?"":"bg-primary/5"}`,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"mt-1",children:f(m.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm",children:m.title}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:m.description}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:sC(new Date(m.created_at),{addSuffix:!0,locale:aC})})]}),!m.is_read&&a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"})]})},m.id))})})]})]})}const T8=({showProgress:e=!1,size:t="md",className:r=""})=>{const{userLevel:n,getLevelProgress:s,loading:o}=aa();if(o||!n)return a.jsx("div",{className:`animate-pulse ${r}`,children:a.jsx("div",{className:`bg-gray-300 rounded-full ${t==="sm"?"w-8 h-8":t==="lg"?"w-16 h-16":"w-12 h-12"}`})});const i=s(),l={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-16 h-16 text-lg"};return a.jsxs("div",{className:`relative ${r}`,children:[a.jsx("div",{className:`${l[t]} bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg`,children:n.level}),a.jsx("div",{className:`absolute -bottom-1 -right-1 bg-yellow-500 text-white font-bold rounded-full flex items-center justify-center ${t==="sm"?"w-4 h-4 text-xs":t==="lg"?"w-6 h-6 text-xs":"w-5 h-5 text-xs"}`,children:"LV"}),e&&a.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-full",children:a.jsx("div",{className:"bg-white/20 rounded-full h-1",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-1 rounded-full transition-all duration-300",style:{width:`${i.percentage}%`}})})}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:a.jsxs("div",{className:"bg-black/80 text-white text-xs rounded-lg p-2 whitespace-nowrap",children:[a.jsxs("div",{className:"font-bold",children:["Nvel ",n.level]}),a.jsxs("div",{children:[n.totalExperience.toLocaleString()," XP total"]}),a.jsxs("div",{children:[i.current,"/",i.needed," XP para prximo nvel"]})]})})]})},R8=()=>{const{user:e,loading:t,signOut:r}=bt(),n=Ot(),[s]=Hg(),[o,i]=h.useState("feed"),[l,c]=h.useState(!1),{gradient:d,greeting:u,emoji:f}=k6();return h.useEffect(()=>{s.get("error")&&n(`/auth/error?${s.toString()}`)},[s,n]),t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?a.jsxs("div",{className:"min-h-screen transition-all duration-1000",children:[a.jsx("header",{className:"bg-card/80 backdrop-blur-md border-b shadow-card sticky top-0 z-50 w-full",children:a.jsx("div",{className:"container mx-auto py-2 sm:py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:Mi,alt:"Orkadia Logo",className:"h-12 w-auto"}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-lg font-medium text-foreground",children:[a.jsx("span",{children:f}),a.jsx("span",{children:u})]})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-3",children:[a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"gap-2 hidden md:flex",children:[l?a.jsx(V1,{className:"w-4 h-4"}):a.jsx(NT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"Sons"})]}),a.jsx(oC,{}),a.jsx(T8,{size:"sm"}),a.jsx(Nc,{}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>n("/privacy-settings"),title:"Configuraes de Privacidade",className:"w-8 h-8 sm:w-10 sm:h-10",children:a.jsx(L1,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden md:inline truncate max-w-[100px] lg:max-w-none",children:e.email}),a.jsxs($,{variant:"outline",size:"sm",onClick:r,className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4",children:[a.jsx(I1,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})})}),a.jsxs("div",{className:"container mx-auto py-4 sm:py-8",children:[a.jsxs(V,{className:"p-3 sm:p-6 mb-4 sm:mb-8 shadow-elevated bg-card/90 backdrop-blur-sm border-2 w-full",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Navegue pela Cidade Orkadia"}),a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-9 gap-2 sm:gap-4",children:[a.jsx(gt,{icon:La,label:"Minha Casa",active:o==="profile",onClick:()=>i("profile")}),a.jsx(gt,{icon:mt,label:"Praa Central",active:o==="feed",onClick:()=>i("feed")}),a.jsx(gt,{icon:Qu,label:"Explorar",active:!1,onClick:()=>n("/explore")}),a.jsx(gt,{icon:ar,label:"Mensagens",active:!1,onClick:()=>n("/messages")}),a.jsx(gt,{icon:zl,label:"Clubes",active:o==="communities",onClick:()=>n("/clubs")}),a.jsx(gt,{icon:mr,label:"Convites",active:!1,onClick:()=>n("/invites")}),a.jsx(gt,{icon:In,label:"Cinema",active:o==="media",onClick:()=>n("/cinema")}),a.jsx(gt,{icon:za,label:"Delegacia",active:o==="moderation",onClick:()=>n("/moderation")}),a.jsx(gt,{icon:Ul,label:"Prefeitura",active:o==="admin",onClick:()=>n("/city-hall")})]})]}),o==="feed"&&a.jsx(RL,{setActiveSection:i}),o==="profile"&&a.jsx(Fk,{}),o!=="feed"&&o!=="profile"&&a.jsx(V,{className:"p-8 shadow-elevated",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"w-20 h-20 bg-gradient-orkut rounded-full mx-auto flex items-center justify-center animate-float",children:[o==="communities"&&a.jsx(zl,{className:"w-10 h-10 text-white"}),o==="media"&&a.jsx(In,{className:"w-10 h-10 text-white"}),o==="moderation"&&a.jsx(za,{className:"w-10 h-10 text-white"}),o==="admin"&&a.jsx(Ul,{className:"w-10 h-10 text-white"})]}),a.jsxs("h2",{className:"text-3xl font-bold",children:[o==="communities"&&"Clubes e Comunidades",o==="media"&&"Cinema Digital",o==="moderation"&&"Delegacia - Moderao",o==="admin"&&"Prefeitura"]}),a.jsxs("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:[o==="communities"&&"Participe de clubes baseados em seus interesses e hobbies.",o==="media"&&"Compartilhe fotos e vdeos. Veja o contedo mais popular da semana.",o==="moderation"&&"Sistema de moderao comunitria para manter a cidade segura.",o==="admin"&&"Participe das decises da comunidade e veja anncios oficiais."]}),a.jsx("div",{className:"pt-4",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:" Esta seo est em desenvolvimento. Em breve teremos mais funcionalidades!"})})]})})]})]}):a.jsx(ra,{to:"/auth",replace:!0})},O8=()=>{const e=ta();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},A8=()=>{const[e,t]=h.useState("Verificando..."),[r,n]=h.useState(null),s=Ot(),o=["profiles","achievements","comments","communities","community_members","posts","scraps","testimonials","user_achievements","user_roles"];h.useEffect(()=>{i()},[]);const i=async()=>{try{t("Verificando conexo..."),n(null);const{error:l}=await O.from("profiles").select("id").limit(1);if(l)throw l;t("Conectado ao Supabase com sucesso!")}catch(l){t("Falha na conexo"),n(l.message||"Erro desconhecido"),console.error("Erro na conexo:",l)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(V,{className:"w-full max-w-2xl p-6 shadow-lg",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Teste de Conexo e Tabelas Supabase"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-md bg-muted",children:[a.jsx("h2",{className:"font-semibold mb-2",children:"Status da Conexo:"}),a.jsx("p",{className:`${e.includes("sucesso")?"text-green-500":e.includes("Falha")?"text-red-500":"text-yellow-500"} font-medium`,children:e}),r&&a.jsxs("div",{className:"mt-2 p-2 bg-red-100 text-red-800 rounded text-sm",children:[a.jsx("p",{className:"font-semibold",children:"Erro:"}),a.jsx("p",{children:r})]})]}),a.jsxs("div",{className:"p-4 rounded-md bg-muted",children:[a.jsx("h2",{className:"font-semibold mb-2",children:"Tabelas Esperadas no Banco de Dados:"}),a.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:o.map(l=>a.jsxs("li",{className:"truncate text-green-500",children:[" ",l]},l))})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx($,{onClick:i,variant:"default",children:"Testar Novamente"}),a.jsx($,{onClick:()=>s("/auth"),variant:"secondary",children:"Ir para Login"}),a.jsx($,{onClick:()=>s("/"),variant:"outline",children:"Voltar ao Incio"})]})]})]})})},en=()=>{const e=Ot(),t=ta(),{user:r,signOut:n}=bt(),o=(()=>{const i=t.pathname;return i==="/dashboard"?"feed":i.startsWith("/profile")?"profile":i==="/explore"?"explore":i==="/messages"?"messages":i==="/clubs"?"clubs":i==="/invites"?"invites":i==="/gamification"?"gamification":i==="/cinema"?"cinema":i==="/moderation"?"moderation":i==="/city-hall"?"city-hall":""})();return a.jsxs(a.Fragment,{children:[a.jsx("header",{className:"bg-card border-b shadow-card sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("img",{src:Mi,alt:"Orkadia Logo",className:"h-12 w-auto cursor-pointer",onClick:()=>e("/dashboard")}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(oC,{}),a.jsx(Nc,{}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>e("/privacy-settings"),title:"Configuraes de Privacidade",children:a.jsx(L1,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:r==null?void 0:r.email}),a.jsxs($,{variant:"outline",size:"sm",onClick:n,className:"gap-2",children:[a.jsx(I1,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(V,{className:"p-6 mb-8 shadow-elevated",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Navegue pela Cidade"}),a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-10 gap-4",children:[a.jsx(gt,{icon:La,label:"Minha Casa",active:o==="profile",onClick:()=>e(`/profile/${r==null?void 0:r.id}`)}),a.jsx(gt,{icon:mt,label:"Praa Central",active:o==="feed",onClick:()=>e("/dashboard")}),a.jsx(gt,{icon:Qu,label:"Explorar",active:o==="explore",onClick:()=>e("/explore")}),a.jsx(gt,{icon:ar,label:"Mensagens",active:o==="messages",onClick:()=>e("/messages")}),a.jsx(gt,{icon:zl,label:"Clubes",active:o==="clubs",onClick:()=>e("/clubs")}),a.jsx(gt,{icon:mr,label:"Convites",active:o==="invites",onClick:()=>e("/invites")}),a.jsx(gt,{icon:Et,label:"Gamificao",active:o==="gamification",onClick:()=>e("/gamification")}),a.jsx(gt,{icon:In,label:"Cinema",active:o==="cinema",onClick:()=>e("/cinema")}),a.jsx(gt,{icon:za,label:"Delegacia",active:o==="moderation",onClick:()=>e("/moderation")}),a.jsx(gt,{icon:Ul,label:"Prefeitura",active:o==="city-hall",onClick:()=>e("/city-hall")})]})]})})]})},k0={Cultura:pT,Msica:un,Filmes:In,Animes:uT,Livros:zl,Outros:qs};function M8(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState("Todos"),i=Ot(),{trackActivity:l}=aa();h.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:m}}=await O.auth.getUser(),{data:p,error:x}=await O.from("communities").select("*").order("members_count",{ascending:!1});if(x)throw x;if(m){const{data:g}=await O.from("community_members").select("community_id").eq("user_id",m.id),w=new Set((g==null?void 0:g.map(v=>v.community_id))||[]),b=p.map(v=>({...v,is_member:w.has(v.id)}));t(b)}else t(p||[])}catch(m){console.error("Erro ao carregar clubes:",m),L.error("Erro ao carregar clubes")}finally{n(!1)}},d=async(m,p)=>{try{const{data:{user:x}}=await O.auth.getUser();if(!x){L.error("Voc precisa estar logado");return}if(p){const{error:g}=await O.from("community_members").delete().eq("community_id",m).eq("user_id",x.id);if(g)throw g;L.success("Voc saiu do clube")}else{const{error:g}=await O.from("community_members").insert({community_id:m,user_id:x.id,role:"member"});if(g)throw g;l.clubJoined(),L.success("Voc entrou no clube! +50 XP")}c()}catch(x){console.error("Erro ao atualizar inscrio:",x),L.error("Erro ao atualizar inscrio")}},u=["Todos",...Object.keys(k0)],f=s==="Todos"?e:e.filter(m=>m.category===s);return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(en,{}),a.jsx("div",{className:"container mx-auto px-6 pb-8",children:a.jsxs("div",{className:"bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 border rounded-2xl p-8 mb-8 text-center",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-3 flex items-center justify-center gap-3",children:[a.jsx($n,{className:"w-8 h-8 text-primary"}),"Clubes de Orkadia",a.jsx($n,{className:"w-8 h-8 text-primary"})]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Os Clubes so o corao da cidade. Aqui, quem compartilha, cria laos  e quem cria, faz histria."})]})}),a.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[a.jsx(to,{value:s,onValueChange:o,className:"mb-6",children:a.jsx(Wn,{className:"grid w-full grid-cols-3 lg:grid-cols-7",children:u.map(m=>a.jsx(Xe,{value:m,children:m},m))})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(m=>{const p=k0[m.category]||qs;return a.jsxs(V,{className:"group hover:shadow-elevated transition-all hover:scale-[1.02] bg-card/95 backdrop-blur-sm",children:[a.jsx(Ve,{className:"pb-3",children:a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-xl shadow-lg group-hover:scale-110 transition-transform",children:a.jsx(p,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Ge,{className:"text-xl mb-1 cursor-pointer hover:text-primary transition-colors",onClick:()=>i(`/clubs/${m.id}`),children:m.name}),a.jsx(Be,{variant:"secondary",className:"text-xs",children:m.category})]})]})})}),a.jsxs(Me,{className:"space-y-4",children:[a.jsx(gn,{className:"line-clamp-3 min-h-[60px]",children:m.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(mt,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"font-medium",children:m.members_count||0}),a.jsx("span",{className:"text-xs",children:"membros"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Vl,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-xs",children:"Ativo"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 rounded-lg p-2",children:[a.jsx(ar,{className:"w-3 h-3"}),a.jsx("span",{children:"ltimas postagens esta semana"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{variant:"outline",className:"flex-1",onClick:()=>i(`/clubs/${m.id}`),children:"Ver Clube"}),a.jsx($,{variant:m.is_member?"outline":"default",onClick:()=>d(m.id,m.is_member||!1),children:m.is_member?"Sair":"Entrar"})]})]})]},m.id)})}),f.length===0&&a.jsx(V,{className:"p-12 text-center bg-card/95 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:a.jsx(mt,{className:"w-16 h-16 text-primary"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-2xl font-bold",children:s==="Todos"?" Nenhum clube foi criado ainda":`Nenhum clube encontrado em ${s}`}),a.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:s==="Todos"?"Que tal fundar o primeiro e marcar seu nome na histria da cidade?":`Seja o pioneiro a criar um clube de ${s}!`})]}),a.jsxs($,{size:"lg",className:"gap-2",children:[a.jsx(Sg,{className:"w-5 h-5"}),"Criar um Clube"]})]})})]})]})}function I8(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(!1),[i,l]=h.useState(!1),[c,d]=h.useState(0),[u,f]=h.useState("all"),[m,p]=h.useState({title:"",description:""}),[x,g]=h.useState(null),[w,b]=h.useState(""),v=h.useRef(null),y=h.useRef([]);Ot(),h.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:{user:P}}=await O.auth.getUser(),{data:D,error:U}=await O.from("videos").select(`
          *,
          profiles (*)
        `).order("created_at",{ascending:!1});if(U)throw U;if(P){const{data:M}=await O.from("video_likes").select("video_id").eq("user_id",P.id),q=new Set((M==null?void 0:M.map(B=>B.video_id))||[]),R=D.map(B=>({...B,user_liked:q.has(B.id)}));t(R)}else t(D||[])}catch(P){console.error("Erro ao carregar vdeos:",P),L.error("Erro ao carregar vdeos")}finally{n(!1)}},N=P=>{var U;const D=(U=P.target.files)==null?void 0:U[0];if(D){if(D.size>100*1024*1024){L.error("Vdeo muito grande! Mximo 100MB");return}g(D),b(URL.createObjectURL(D))}},_=()=>{g(null),b(""),v.current&&(v.current.value="")},S=async()=>{if(!x||!m.title.trim()){L.error("Ttulo e vdeo so obrigatrios");return}o(!0);try{const{data:{user:P}}=await O.auth.getUser();if(!P)throw new Error("Usurio no autenticado");const D=x.name.split(".").pop(),U=`${P.id}/${Date.now()}.${D}`,{error:M}=await O.storage.from("videos").upload(U,x);if(M)throw M;const{data:{publicUrl:q}}=O.storage.from("videos").getPublicUrl(U),{error:R}=await O.from("videos").insert({user_id:P.id,title:m.title.trim(),description:m.description.trim(),video_url:q});if(R)throw R;L.success("Vdeo postado com sucesso!"),l(!1),p({title:"",description:""}),_(),j()}catch(P){console.error("Erro ao postar vdeo:",P),L.error("Erro ao postar vdeo")}finally{o(!1)}},k=async(P,D)=>{try{const{data:{user:U}}=await O.auth.getUser();if(!U){L.error("Voc precisa estar logado");return}if(D){const{error:M}=await O.from("video_likes").delete().eq("video_id",P).eq("user_id",U.id);if(M)throw M}else{const{error:M}=await O.from("video_likes").insert({video_id:P,user_id:U.id});if(M)throw M}j()}catch(U){console.error("Erro ao curtir vdeo:",U),L.error("Erro ao curtir vdeo")}},C=(()=>{const P=new Date,D=new Date(P.getTime()-7*24*60*60*1e3);switch(u){case"trending":return[...e].sort((U,M)=>(M.likes_count||0)-(U.likes_count||0)).slice(0,10);case"recent":return[...e].sort((U,M)=>new Date(M.created_at).getTime()-new Date(U.created_at).getTime()).slice(0,10);case"week":return e.filter(U=>new Date(U.created_at)>=D).sort((U,M)=>(M.views_count||0)-(U.views_count||0));default:return e}})();return h.useEffect(()=>{const P=new IntersectionObserver(D=>{D.forEach(U=>{const M=U.target;U.isIntersecting?M.play().catch(()=>{}):M.pause()})},{threshold:.6});return y.current.forEach(D=>{D&&P.observe(D)}),()=>{y.current.forEach(D=>{D&&P.unobserve(D)})}},[C]),r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx(In,{className:"w-16 h-16 text-primary mx-auto mb-4 animate-pulse"}),a.jsx("p",{className:"text-white/80",children:"Carregando o Cinema..."})]})}):a.jsxs("div",{className:"min-h-screen",children:[a.jsx(en,{}),a.jsx("div",{className:"container mx-auto px-4 pb-6",children:a.jsx("div",{className:"bg-gradient-to-r from-primary/30 via-accent/30 to-primary/30 backdrop-blur-md border border-white/30 rounded-2xl py-6 px-8 text-center mb-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(In,{className:"w-8 h-8 text-primary"}),"Cinema Orkadia"]}),a.jsx("p",{className:"text-white/80 max-w-2xl",children:" Onde cada histria ganha luz no telo da cidade"})]}),a.jsxs($,{onClick:()=>l(!i),className:"bg-primary hover:bg-primary/90",children:[a.jsx(Wl,{className:"w-4 h-4 mr-2"}),"Gravar seu curta!"]})]})})}),i&&a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsx(V,{className:"bg-black/70 backdrop-blur-md border-white/20 shadow-lg",children:a.jsxs(Me,{className:"p-6 space-y-4",children:[a.jsx(ht,{placeholder:"Ttulo do vdeo",value:m.title,onChange:P=>p({...m,title:P.target.value}),maxLength:100,className:"bg-black/50 border-white/30 text-white placeholder:text-white/60"}),a.jsx(Vt,{placeholder:"Descrio (opcional)",value:m.description,onChange:P=>p({...m,description:P.target.value}),maxLength:500,rows:3,className:"bg-black/50 border-white/30 text-white placeholder:text-white/60"}),a.jsxs("div",{children:[a.jsx("input",{ref:v,type:"file",accept:"video/*",className:"hidden",onChange:N}),a.jsxs($,{variant:"outline",onClick:()=>{var P;return(P=v.current)==null?void 0:P.click()},className:"w-full",children:[a.jsx(Wl,{className:"w-4 h-4 mr-2"}),"Selecionar Vdeo"]})]}),w&&a.jsxs("div",{className:"relative bg-black rounded-lg",children:[a.jsx("video",{src:w,controls:!0,className:"w-full max-h-96 rounded-lg"}),a.jsx($,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:_,children:a.jsx(Gn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{onClick:S,disabled:!x||!m.title.trim()||s,className:"flex-1",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Bl,{className:"w-4 h-4 mr-2 animate-spin"}),"Postando..."]}):"Postar Vdeo"}),a.jsx($,{variant:"outline",onClick:()=>{l(!1),p({title:"",description:""}),_()},children:"Cancelar"})]})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsx(to,{value:u,onValueChange:f,children:a.jsxs(Wn,{className:"grid w-full grid-cols-4 bg-black/80 backdrop-blur-md border border-white/20 shadow-lg",children:[a.jsxs(Xe,{value:"all",className:"data-[state=active]:bg-primary data-[state=active]:text-white text-white/80 hover:text-white hover:bg-white/10 transition-all",children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),"Todos"]}),a.jsxs(Xe,{value:"trending",className:"data-[state=active]:bg-primary data-[state=active]:text-white text-white/80 hover:text-white hover:bg-white/10 transition-all",children:[a.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Em Alta"]}),a.jsxs(Xe,{value:"week",className:"data-[state=active]:bg-primary data-[state=active]:text-white text-white/80 hover:text-white hover:bg-white/10 transition-all",children:[a.jsx(E1,{className:"w-4 h-4 mr-2"}),"Mais Assistidos"]}),a.jsxs(Xe,{value:"recent",className:"data-[state=active]:bg-primary data-[state=active]:text-white text-white/80 hover:text-white hover:bg-white/10 transition-all",children:[a.jsx(nT,{className:"w-4 h-4 mr-2"}),"Estreias Recentes"]})]})})}),a.jsx("div",{className:"container mx-auto px-4 pb-6",children:C.length===0?a.jsx(V,{className:"p-12 text-center bg-black/70 backdrop-blur-md border-white/20 shadow-lg",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(In,{className:"w-16 h-16 text-primary"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Nenhum vdeo encontrado"}),a.jsx("p",{className:"text-white/60",children:"Seja o primeiro a projetar sua histria no telo da cidade!"})]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map((P,D)=>{var U,M,q,R,B;return a.jsx(V,{className:"group overflow-hidden bg-black/70 backdrop-blur-md border-white/20 hover:border-primary/50 transition-all shadow-lg",children:a.jsxs(Me,{className:"p-0 relative aspect-[9/16]",children:[a.jsx("video",{ref:I=>y.current[D]=I,src:P.video_url,className:"w-full h-full object-cover",loop:!0,muted:!0,playsInline:!0}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Nt,{className:"w-10 h-10 ring-2 ring-primary",children:[a.jsx(St,{src:((U=P.profiles)==null?void 0:U.avatar_url)||""}),a.jsx(kt,{className:"bg-primary text-primary-foreground",children:((q=(M=P.profiles)==null?void 0:M.display_name)==null?void 0:q[0])||"?"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-semibold text-sm",children:((R=P.profiles)==null?void 0:R.display_name)||"Annimo"}),a.jsxs("p",{className:"text-white/60 text-xs",children:["@",((B=P.profiles)==null?void 0:B.username)||"desconhecido"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-bold text-lg line-clamp-2",children:P.title}),P.description&&a.jsx("p",{className:"text-white/80 text-sm line-clamp-2 mt-1",children:P.description})]}),a.jsxs("div",{className:"flex items-center gap-4 text-white/80",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qs,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:P.likes_count||0})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ql,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"0"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Fo,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:P.views_count||0})]})]})]}),a.jsxs("div",{className:"absolute right-4 bottom-24 flex flex-col gap-4",children:[a.jsx($,{size:"icon",variant:"ghost",className:`rounded-full w-12 h-12 backdrop-blur-md ${P.user_liked?"bg-primary text-white":"bg-black/70 text-white hover:bg-primary/50"}`,onClick:()=>k(P.id,P.user_liked||!1),children:a.jsx(qs,{className:`w-6 h-6 ${P.user_liked?"fill-current":""}`})}),a.jsx($,{size:"icon",variant:"ghost",className:"rounded-full w-12 h-12 bg-black/70 backdrop-blur-md text-white hover:bg-primary/50",children:a.jsx(ql,{className:"w-6 h-6"})}),a.jsx($,{size:"icon",variant:"ghost",className:"rounded-full w-12 h-12 bg-black/70 backdrop-blur-md text-white hover:bg-primary/50",children:a.jsx(F1,{className:"w-6 h-6"})}),a.jsx($,{size:"icon",variant:"ghost",className:"rounded-full w-12 h-12 bg-black/70 backdrop-blur-md text-white hover:bg-primary/50",children:a.jsx(eT,{className:"w-6 h-6"})})]})]})]})},P.id)})})})]})}const iC=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:le("w-full caption-bottom text-sm",e),...t})}));iC.displayName="Table";const lC=h.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:le("[&_tr]:border-b",e),...t}));lC.displayName="TableHeader";const cC=h.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:le("[&_tr:last-child]:border-0",e),...t}));cC.displayName="TableBody";const D8=h.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));D8.displayName="TableFooter";const Td=h.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:le("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Td.displayName="TableRow";const va=h.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));va.displayName="TableHead";const is=h.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));is.displayName="TableCell";const $8=h.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:le("mt-4 text-sm text-muted-foreground",e),...t}));$8.displayName="TableCaption";const L8=()=>{const{user:e,loading:t}=bt(),r=sh(),[n,s]=h.useState(null),[o,i]=h.useState(""),[l,c]=h.useState(!1),[d,u]=h.useState({reportType:"post",itemId:"",reason:""}),{data:f}=En({queryKey:["userRole",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:C}=await O.from("user_roles").select("role").eq("user_id",e.id).single();return C==null?void 0:C.role},enabled:!!e}),{data:m=[],isLoading:p}=En({queryKey:["reports",e==null?void 0:e.id,f],queryFn:async()=>{if(!e)return[];const C=f==="admin"||f==="moderator",P=O.from("reports").select("*").order("created_at",{ascending:!1});C||P.eq("reporter_id",e.id);const{data:D,error:U}=await P;if(U)throw U;const M=[...new Set((D==null?void 0:D.map(B=>B.reporter_id))||[])],{data:q}=await O.from("profiles").select("id, username").in("id",M),R=new Map((q==null?void 0:q.map(B=>[B.id,B]))||[]);return D==null?void 0:D.map(B=>{var I;return{...B,reporter:{username:((I=R.get(B.reporter_id))==null?void 0:I.username)||"Usurio Desconhecido"}}})},enabled:!!e}),x=qo({mutationFn:async C=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:P}=await O.from("reports").insert({reporter_id:e.id,reported_item_id:C.itemId,report_type:C.reportType,reason:C.reason,status:"pending"});if(P)throw P},onSuccess:()=>{r.invalidateQueries({queryKey:["reports"]}),L.success("Denncia enviada com sucesso"),c(!1),u({reportType:"post",itemId:"",reason:""})},onError:()=>{L.error("Erro ao enviar denncia")}}),g=qo({mutationFn:async({reportId:C,status:P,notes:D})=>{const{error:U}=await O.from("reports").update({status:P,moderator_notes:D,resolved_by:e==null?void 0:e.id,resolved_at:new Date().toISOString()}).eq("id",C);if(U)throw U},onSuccess:()=>{r.invalidateQueries({queryKey:["reports"]}),L.success("Report atualizado com sucesso"),s(null),i("")},onError:()=>{L.error("Erro ao atualizar report")}}),w=qo({mutationFn:async({itemId:C,type:P})=>{let D;if(P==="post"?D=(await O.from("posts").delete().eq("id",C)).error:P==="comment"?D=(await O.from("comments").delete().eq("id",C)).error:P==="video"&&(D=(await O.from("videos").delete().eq("id",C)).error),D)throw D},onSuccess:()=>{L.success("Contedo removido com sucesso")},onError:()=>{L.error("Erro ao remover contedo")}});if(t||p)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!e)return a.jsx(ra,{to:"/auth",replace:!0});const b=f==="admin"||f==="moderator",v=m.filter(C=>C.status==="pending"),y=m.filter(C=>C.status==="resolved"),j=m.filter(C=>C.status==="dismissed"),N=C=>({post:"Post",comment:"Comentrio",user:"Usurio",video:"Vdeo"})[C]||C,_=C=>C==="pending"?a.jsx(Be,{variant:"outline",className:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-300",children:"Pendente"}):C==="resolved"?a.jsx(Be,{variant:"outline",className:"bg-green-500/10 text-green-700 dark:text-green-300",children:"Resolvido"}):a.jsx(Be,{variant:"outline",className:"bg-gray-500/10",children:"Descartado"}),S=C=>{n&&g.mutate({reportId:n.id,status:C,notes:o})},k=(C,P)=>{confirm("Tem certeza que deseja remover este contedo?")&&w.mutate({itemId:C,type:P})},A=({reportsList:C})=>a.jsxs(iC,{children:[a.jsx(lC,{children:a.jsxs(Td,{children:[a.jsx(va,{children:"Tipo"}),a.jsx(va,{children:"Motivo"}),b&&a.jsx(va,{children:"Reportado por"}),a.jsx(va,{children:"Data"}),a.jsx(va,{children:"Status"}),a.jsx(va,{children:"Aes"})]})}),a.jsx(cC,{children:C.length===0?a.jsx(Td,{children:a.jsx(is,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"Nenhum report encontrado"})}):C.map(P=>a.jsxs(Td,{children:[a.jsx(is,{children:N(P.report_type)}),a.jsx(is,{className:"max-w-md truncate",children:P.reason}),b&&a.jsx(is,{children:P.reporter.username}),a.jsx(is,{children:il(new Date(P.created_at),"dd/MM/yyyy HH:mm")}),a.jsx(is,{children:_(P.status)}),a.jsx(is,{children:a.jsx("div",{className:"flex gap-2",children:a.jsxs(gr,{children:[a.jsx(p0,{asChild:!0,children:a.jsx($,{variant:"outline",size:"sm",onClick:()=>{s(P),i(P.moderator_notes||"")},children:a.jsx(Fo,{className:"w-4 h-4"})})}),a.jsxs(or,{className:"max-w-2xl",children:[a.jsx(vr,{children:a.jsx(xr,{children:"Detalhes do Report"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Tipo:"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:N(P.report_type)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Motivo:"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:P.reason})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"ID do Item Reportado:"}),a.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:P.reported_item_id})]}),b&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Notas do Moderador:"}),a.jsx(Vt,{value:o,onChange:D=>i(D.target.value),placeholder:"Adicione notas sobre sua deciso...",className:"min-h-[100px]"})]}),P.status==="pending"&&a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx($,{variant:"destructive",size:"sm",onClick:()=>k(P.reported_item_id,P.report_type),children:"Remover Contedo"}),a.jsxs($,{variant:"default",size:"sm",onClick:()=>S("resolved"),children:[a.jsx(tu,{className:"w-4 h-4 mr-2"}),"Resolver"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>S("dismissed"),children:[a.jsx(Bx,{className:"w-4 h-4 mr-2"}),"Descartar"]})]})]}),P.moderator_notes&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Resposta do Moderador:"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:P.moderator_notes})]})]})]})]})})})]},P.id))})]});return a.jsxs("div",{className:"min-h-screen",children:[a.jsx(en,{}),a.jsx("div",{className:"container mx-auto px-4 pb-8 max-w-7xl",children:a.jsxs(V,{className:"p-8 shadow-elevated bg-card/95 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(za,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:" Delegacia de Orkadia"}),a.jsx("p",{className:"text-muted-foreground text-lg mt-1",children:b?"Mantendo a paz e a ordem na cidade digital":"Suas denncias e acompanhamentos"})]})]}),a.jsxs(gr,{open:l,onOpenChange:c,children:[a.jsx(p0,{asChild:!0,children:a.jsxs($,{className:"gap-2",children:[a.jsx(Sg,{className:"w-4 h-4"}),"Nova Denncia"]})}),a.jsxs(or,{children:[a.jsx(vr,{children:a.jsx(xr,{children:"Criar Nova Denncia"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(yt,{htmlFor:"report-type",children:"Tipo"}),a.jsxs(nc,{value:d.reportType,onValueChange:C=>u({...d,reportType:C}),children:[a.jsx(bi,{id:"report-type",children:a.jsx(sc,{})}),a.jsxs(ji,{children:[a.jsx(vn,{value:"post",children:"Post"}),a.jsx(vn,{value:"comment",children:"Comentrio"}),a.jsx(vn,{value:"video",children:"Vdeo"}),a.jsx(vn,{value:"user",children:"Usurio"})]})]})]}),a.jsxs("div",{children:[a.jsx(yt,{htmlFor:"item-id",children:"ID do Item"}),a.jsx(ht,{id:"item-id",placeholder:"Cole o ID do item que deseja denunciar",value:d.itemId,onChange:C=>u({...d,itemId:C.target.value})})]}),a.jsxs("div",{children:[a.jsx(yt,{htmlFor:"reason",children:"Motivo da Denncia"}),a.jsx(Vt,{id:"reason",placeholder:"Descreva o motivo da denncia...",value:d.reason,onChange:C=>u({...d,reason:C.target.value}),className:"min-h-[100px]"})]}),a.jsx($,{className:"w-full",onClick:()=>x.mutate(d),disabled:!d.itemId||!d.reason,children:"Enviar Denncia"})]})]})]})]}),a.jsx(V,{className:"p-6 mb-8 bg-gradient-to-r from-orange-500/10 to-red-500/10 border-orange-200 dark:border-orange-800",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(lT,{className:"w-8 h-8 text-orange-600 dark:text-orange-400 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2 text-orange-900 dark:text-orange-100",children:" Conselho da Cidade"}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:b?"Como guardio da paz em Orkadia, voc tem a responsabilidade de analisar denncias, proteger a comunidade e manter o respeito entre todos os cidados. Cada deciso deve ser justa e transparente.":"A Delegacia de Orkadia est aqui para garantir que nossa cidade digital seja um lugar seguro e respeitoso para todos. Se voc presenciar contedo inadequado, faa uma denncia e nossa equipe analisar com ateno."})]})]})}),b&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsxs(V,{className:"p-6 bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 border-yellow-300 dark:border-yellow-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(U1,{className:"w-6 h-6 text-yellow-700 dark:text-yellow-300"}),a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendentes"})]}),a.jsx("p",{className:"text-4xl font-bold text-yellow-700 dark:text-yellow-300",children:v.length})]}),a.jsxs(V,{className:"p-6 bg-gradient-to-br from-green-500/20 to-green-600/20 border-green-300 dark:border-green-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(tu,{className:"w-6 h-6 text-green-700 dark:text-green-300"}),a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Resolvidos"})]}),a.jsx("p",{className:"text-4xl font-bold text-green-700 dark:text-green-300",children:y.length})]}),a.jsxs(V,{className:"p-6 bg-gradient-to-br from-gray-500/20 to-gray-600/20 border-gray-300 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Bx,{className:"w-6 h-6 text-gray-700 dark:text-gray-400"}),a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Descartados"})]}),a.jsx("p",{className:"text-4xl font-bold text-gray-700 dark:text-gray-400",children:j.length})]})]}),a.jsxs(to,{defaultValue:"pending",className:"w-full",children:[b?a.jsxs(Wn,{className:"grid w-full grid-cols-3",children:[a.jsxs(Xe,{value:"pending",children:["Pendentes (",v.length,")"]}),a.jsxs(Xe,{value:"resolved",children:["Resolvidos (",y.length,")"]}),a.jsxs(Xe,{value:"dismissed",children:["Descartados (",j.length,")"]})]}):a.jsxs(Wn,{className:"grid w-full grid-cols-3",children:[a.jsxs(Xe,{value:"pending",children:["Minhas Denncias Pendentes (",v.length,")"]}),a.jsxs(Xe,{value:"resolved",children:["Resolvidas (",y.length,")"]}),a.jsxs(Xe,{value:"dismissed",children:["Descartadas (",j.length,")"]})]}),a.jsx($t,{value:"pending",className:"mt-6",children:a.jsx(A,{reportsList:v})}),a.jsx($t,{value:"resolved",className:"mt-6",children:a.jsx(A,{reportsList:y})}),a.jsx($t,{value:"dismissed",className:"mt-6",children:a.jsx(A,{reportsList:j})})]})]})})]})};var yv="Progress",wv=100,[F8]=ir(yv),[z8,U8]=F8(yv),dC=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=B8,...i}=e;(s||s===0)&&!C0(s)&&console.error(q8(`${s}`,"Progress"));const l=C0(s)?s:wv;n!==null&&!E0(n,l)&&console.error(V8(`${n}`,"Progress"));const c=E0(n,l)?n:null,d=ku(c)?o(c,l):void 0;return a.jsx(z8,{scope:r,value:c,max:l,children:a.jsx(ue.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ku(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":fC(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});dC.displayName=yv;var uC="ProgressIndicator",hC=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=U8(uC,r);return a.jsx(ue.div,{"data-state":fC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});hC.displayName=uC;function B8(e,t){return`${Math.round(e/t*100)}%`}function fC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ku(e){return typeof e=="number"}function C0(e){return ku(e)&&!isNaN(e)&&e>0}function E0(e,t){return ku(e)&&!isNaN(e)&&e<=t&&e>=0}function q8(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wv}\`.`}function V8(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mC=dC,W8=hC;const Cu=h.forwardRef(({className:e,value:t,...r},n)=>a.jsx(mC,{ref:n,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(W8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Cu.displayName=mC.displayName;const H8=()=>{const{user:e,loading:t}=bt(),r=sh(),[n,s]=h.useState(null),[o,i]=h.useState(""),[l,c]=h.useState(!1),{data:d}=En({queryKey:["userRole",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:_}=await O.from("user_roles").select("role").eq("user_id",e.id).single();return _==null?void 0:_.role},enabled:!!e}),{data:u=[]}=En({queryKey:["announcements"],queryFn:async()=>{const{data:_,error:S}=await O.from("announcements").select("*").order("created_at",{ascending:!1}).limit(10);if(S)throw S;return _}}),{data:f=[]}=En({queryKey:["elections"],queryFn:async()=>{const{data:_,error:S}=await O.from("elections").select("*").order("created_at",{ascending:!1});if(S)throw S;return _}}),{data:m=[]}=En({queryKey:["candidates",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:_,error:S}=await O.from("candidates").select("*").eq("election_id",n.id).order("votes_count",{ascending:!1});if(S)throw S;const k=_.map(P=>P.user_id),{data:A}=await O.from("profiles").select("id, username, avatar_url").in("id",k),C=new Map((A==null?void 0:A.map(P=>[P.id,P]))||[]);return _.map(P=>({...P,profile:C.get(P.user_id)||{username:"Usurio",avatar_url:null}}))},enabled:!!n}),{data:p=[]}=En({queryKey:["polls"],queryFn:async()=>{const{data:_,error:S}=await O.from("polls").select("*").order("created_at",{ascending:!1});if(S)throw S;return await Promise.all(_.map(async A=>{const{data:C}=await O.from("poll_options").select("*").eq("poll_id",A.id).order("created_at");return{...A,options:C||[]}}))}}),{data:x=[]}=En({queryKey:["userVotes",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:_}=await O.from("election_votes").select("election_id").eq("voter_id",e.id);return(_==null?void 0:_.map(S=>S.election_id))||[]},enabled:!!e}),{data:g=[]}=En({queryKey:["userPollVotes",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:_}=await O.from("poll_votes").select("poll_id").eq("voter_id",e.id);return(_==null?void 0:_.map(S=>S.poll_id))||[]},enabled:!!e}),w=qo({mutationFn:async({electionId:_,proposal:S})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:k}=await O.from("candidates").insert({election_id:_,user_id:e.id,proposal:S});if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["candidates"]}),L.success("Candidatura registrada com sucesso!"),c(!1),i("")},onError:_=>{var S;(S=_.message)!=null&&S.includes("duplicate")?L.error("Voc j se candidatou para esta eleio"):L.error("Erro ao registrar candidatura")}}),b=qo({mutationFn:async({electionId:_,candidateId:S})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:k}=await O.from("election_votes").insert({election_id:_,candidate_id:S,voter_id:e.id});if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["candidates"]}),r.invalidateQueries({queryKey:["userVotes"]}),L.success("Voto computado com sucesso!")},onError:_=>{var S;(S=_.message)!=null&&S.includes("duplicate")?L.error("Voc j votou nesta eleio"):L.error("Erro ao votar")}}),v=qo({mutationFn:async({pollId:_,optionId:S})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:k}=await O.from("poll_votes").insert({poll_id:_,option_id:S,voter_id:e.id});if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["polls"]}),r.invalidateQueries({queryKey:["userPollVotes"]}),L.success("Voto registrado!")},onError:_=>{var S;(S=_.message)!=null&&S.includes("duplicate")?L.error("Voc j votou nesta enquete"):L.error("Erro ao votar")}});if(t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!e)return a.jsx(ra,{to:"/auth",replace:!0});const y=f.filter(_=>_.status==="active"),j=p.filter(_=>_.status==="active"),N=_=>_==="active"?a.jsx(Be,{className:"bg-green-500/10 text-green-700 dark:text-green-300",children:"Ativa"}):_==="upcoming"?a.jsx(Be,{variant:"outline",className:"bg-blue-500/10 text-blue-700 dark:text-blue-300",children:"Em Breve"}):a.jsx(Be,{variant:"outline",className:"bg-gray-500/10",children:"Encerrada"});return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(en,{}),a.jsx("div",{className:"container mx-auto px-4 pb-8 max-w-7xl",children:a.jsxs(V,{className:"p-8 shadow-elevated bg-card/95 backdrop-blur-sm",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Ul,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:" Prefeitura de Orkadia"}),a.jsx("p",{className:"text-muted-foreground text-lg mt-1",children:"Onde o povo fala  e a voz do povo tem protocolo"})]})]})}),a.jsx(V,{className:"p-6 mb-8 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(yT,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2 text-blue-900 dark:text-blue-100",children:" Democracia Digital"}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Na Orkadia, cada voz conta. Aqui voc pode acompanhar comunicados oficiais, participar de eleies para cargos representativos e votar em decises importantes da comunidade. Transparncia e participao so os pilares da nossa cidade digital."})]})]})}),a.jsxs(to,{defaultValue:"announcements",className:"w-full",children:[a.jsxs(Wn,{className:"grid w-full grid-cols-3 h-auto",children:[a.jsxs(Xe,{value:"announcements",className:"gap-2 py-3",children:[a.jsx(xl,{className:"w-5 h-5"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold",children:"Avisos"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Comunicados oficiais"})]})]}),a.jsxs(Xe,{value:"elections",className:"gap-2 py-3",children:[a.jsx(Et,{className:"w-5 h-5"}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"font-semibold",children:["Eleies (",y.length,")"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Eleja representantes"})]})]}),a.jsxs(Xe,{value:"polls",className:"gap-2 py-3",children:[a.jsx(Vx,{className:"w-5 h-5"}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"font-semibold",children:["Votaes (",j.length,")"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Decises rpidas"})]})]})]}),a.jsx($t,{value:"announcements",className:"mt-8 space-y-6",children:u.length===0?a.jsxs(V,{className:"p-12 text-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 border-blue-200 dark:border-blue-800",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(xl,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:" Mural Tranquilo"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhum comunicado oficial no momento. Quando houver novidades importantes, elas aparecero aqui no mural da Prefeitura."})]}):u.map(_=>a.jsx(V,{className:"p-6 hover:shadow-lg transition-shadow border-l-4 border-l-blue-500",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:a.jsx(xl,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Be,{className:"bg-blue-500/10 text-blue-700 dark:text-blue-300",children:"Comunicado Oficial"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(P1,{className:"w-3 h-3"}),il(new Date(_.created_at),"dd/MM/yyyy 's' HH:mm")]})]}),a.jsx("h3",{className:"font-bold text-xl mb-3 text-blue-900 dark:text-blue-100",children:_.title}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:_.content})]})]})},_.id))}),a.jsx($t,{value:"elections",className:"mt-6 space-y-4",children:f.length===0?a.jsxs(V,{className:"p-8 text-center",children:[a.jsx(Et,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma eleio no momento"})]}):f.map(_=>{const S=x.includes(_.id),k=_.status==="active";return a.jsxs(V,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold",children:_.title}),N(_.status)]}),a.jsx(Be,{variant:"outline",className:"mb-2",children:_.position==="prefeito"?"Prefeito":"Vereador"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:_.description}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Perodo: ",il(new Date(_.start_date),"dd/MM/yyyy")," at"," ",il(new Date(_.end_date),"dd/MM/yyyy")]})]})}),k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"outline",onClick:()=>{s(_),c(!0)},children:[a.jsx(mt,{className:"w-4 h-4 mr-2"}),"Candidatar-se"]}),a.jsx($,{onClick:()=>s(_),children:"Ver Candidatos e Votar"})]}),S&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[a.jsx(tu,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Voc j votou nesta eleio"})]})]}),(n==null?void 0:n.id)===_.id&&a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("h4",{className:"text-lg font-bold",children:"Candidatos"}),m.length===0?a.jsx("p",{className:"text-muted-foreground",children:"Nenhum candidato registrado ainda"}):a.jsx("div",{className:"space-y-3",children:m.map(A=>{const C=m.reduce((D,U)=>D+U.votes_count,0),P=C>0?A.votes_count/C*100:0;return a.jsxs(V,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-bold",children:A.profile.username}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:A.proposal})]}),k&&!S&&a.jsx($,{size:"sm",onClick:()=>b.mutate({electionId:_.id,candidateId:A.id}),children:"Votar"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Votos"}),a.jsxs("span",{className:"font-medium",children:[A.votes_count," (",P.toFixed(1),"%)"]})]}),a.jsx(Cu,{value:P,className:"h-2"})]})]},A.id)})})]})]},_.id)})}),a.jsx($t,{value:"polls",className:"mt-6 space-y-4",children:p.length===0?a.jsxs(V,{className:"p-8 text-center",children:[a.jsx(Vx,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma votao no momento"})]}):p.map(_=>{const S=g.includes(_.id),k=_.status==="active",A=_.options.reduce((C,P)=>C+P.votes_count,0);return a.jsxs(V,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:_.title}),a.jsx("p",{className:"text-muted-foreground mb-2",children:_.description}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Encerra em: ",il(new Date(_.end_date),"dd/MM/yyyy 's' HH:mm")]})]}),N(_.status)]}),S&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 mb-4",children:[a.jsx(tu,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Voc j votou nesta enquete"})]}),a.jsx("div",{className:"space-y-3",children:_.options.map(C=>{const P=A>0?C.votes_count/A*100:0;return a.jsxs(V,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:C.option_text}),k&&!S&&a.jsx($,{size:"sm",onClick:()=>v.mutate({pollId:_.id,optionId:C.id}),children:"Votar"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Votos"}),a.jsxs("span",{className:"font-medium",children:[C.votes_count," (",P.toFixed(1),"%)"]})]}),a.jsx(Cu,{value:P,className:"h-2"})]})]},C.id)})})]},_.id)})})]})]})}),a.jsx(gr,{open:l,onOpenChange:c,children:a.jsxs(or,{children:[a.jsx(vr,{children:a.jsx(xr,{children:"Registrar Candidatura"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Apresente suas propostas para a comunidade Orkadia"}),a.jsx(Vt,{placeholder:"Descreva suas propostas e por que voc seria um bom representante...",value:o,onChange:_=>i(_.target.value),className:"min-h-[150px]"})]}),a.jsx($,{className:"w-full",onClick:()=>{n&&w.mutate({electionId:n.id,proposal:o})},disabled:!o.trim(),children:"Confirmar Candidatura"})]})]})})]})},G8={conhecido:{icon:La,label:"Conhecido da Praa",color:"text-muted-foreground",bgColor:"bg-muted",description:"Vocs se cruzam pela praa",emoji:""},vizinho:{icon:mt,label:"Vizinho Prximo",color:"text-accent",bgColor:"bg-accent/20",description:"Amizade confirmada",emoji:""},amigo_varanda:{icon:Ua,label:"Amigo da Varanda",color:"text-primary",bgColor:"bg-primary/20",description:"Amizade especial",emoji:""}},pC=({level:e,showLabel:t=!0,size:r="md"})=>{const n=G8[e],s=n.icon,o={sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"},i={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return a.jsxs("div",{className:le("inline-flex items-center gap-1.5 rounded-full font-medium transition-all",n.color,n.bgColor,o[r]),children:[a.jsx("span",{children:n.emoji}),a.jsx(s,{className:i[r]}),t&&a.jsx("span",{children:n.label})]})},P0=[{type:"coffee",icon:sT,label:"Caf",emoji:"",color:"text-amber-600"},{type:"flowers",icon:dT,label:"Flores",emoji:"",color:"text-pink-500"},{type:"heart",icon:qs,label:"Corao",emoji:"",color:"text-red-500"},{type:"sparkle",icon:$n,label:"Brilho",emoji:"",color:"text-yellow-500"},{type:"sun",icon:z1,label:"Sol",emoji:"",color:"text-orange-500"},{type:"music",icon:un,label:"Msica",emoji:"",color:"text-purple-500"}],gC=({isOpen:e,onClose:t,recipientId:r,recipientName:n})=>{const[s,o]=h.useState(null),[i,l]=h.useState(""),[c,d]=h.useState(!1),u=async()=>{if(!s){L.error("Escolha um presente primeiro!");return}d(!0);try{const{data:{user:f}}=await O.auth.getUser();if(!f)throw new Error("Usurio no autenticado");const{error:m}=await O.from("gifts").insert({from_user_id:f.id,to_user_id:r,gift_type:s,message:i||null});if(m)throw m;const p=P0.find(x=>x.type===s);L.success(`${p==null?void 0:p.emoji} Presente enviado para ${n}!`),t(),o(null),l("")}catch(f){console.error("Erro ao enviar presente:",f),L.error("No foi possvel enviar o presente")}finally{d(!1)}};return a.jsx(gr,{open:e,onOpenChange:t,children:a.jsxs(or,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsx(xr,{children:"Enviar Presente Digital"}),a.jsxs(sa,{children:["Escolha um presente para alegrar o dia de ",n,"!"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-3 gap-3",children:P0.map(f=>{const m=f.icon;return a.jsx("button",{onClick:()=>o(f.type),className:`p-4 rounded-lg border-2 transition-all hover:scale-105 ${s===f.type?"border-primary bg-primary/10 shadow-glow":"border-border hover:border-primary/50"}`,children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("span",{className:"text-3xl",children:f.emoji}),a.jsx(m,{className:`w-5 h-5 ${f.color}`}),a.jsx("span",{className:"text-xs font-medium",children:f.label})]})},f.type)})}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mensagem (opcional)"}),a.jsx(Vt,{placeholder:"Escreva uma mensagem carinhosa...",value:i,onChange:f=>l(f.target.value),maxLength:200,className:"min-h-[80px]"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.length,"/200 caracteres"]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx($,{variant:"outline",onClick:t,children:"Cancelar"}),a.jsx($,{onClick:u,disabled:!s||c,className:"bg-gradient-orkut",children:c?"Enviando...":"Enviar Presente"})]})]})]})})},vC=({userId:e,currentUserId:t})=>{const[r,n]=h.useState(null),[s,o]=h.useState(!0);if(h.useEffect(()=>{e!==t?(async()=>{try{const{data:d,error:u}=await O.rpc("calculate_affinity",{user1_id:t,user2_id:e});if(u)throw u;n(d||0)}catch(d){console.error("Erro ao calcular afinidade:",d),n(0)}finally{o(!1)}})():o(!1)},[e,t]),s||r===null||e===t)return null;const l=(c=>c>=80?{text:"Sintonia Incrvel!",color:"text-primary",icon:""}:c>=60?{text:"Boa Sintonia",color:"text-accent",icon:""}:c>=40?{text:"Comeando a se conhecer",color:"text-secondary",icon:""}:{text:"Conhecidos da Praa",color:"text-muted-foreground",icon:""})(r);return a.jsx(V,{className:"p-4 bg-gradient-to-br from-card/95 to-primary/5 border-primary/20",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qs,{className:"w-5 h-5 text-primary"}),a.jsx("h3",{className:"font-semibold",children:"Sintonia da Praa"})]}),a.jsx("span",{className:"text-2xl",children:l.icon})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:l.color,children:l.text}),a.jsxs("span",{className:"font-bold text-primary",children:[r,"%"]})]}),a.jsx(Cu,{value:r,className:"h-2"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Baseado em interesses comuns, clubes e interaes na cidade"})]})})};function K8(){const{user:e,loading:t}=bt(),r=Ot(),[n,s]=h.useState(""),[o,i]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!1),[f,m]=h.useState([]),[p,x]=h.useState([]),[g,w]=h.useState(!1),[b,v]=h.useState(!1),[y,j]=h.useState(null);if(h.useEffect(()=>{if(!t){if(!e){r("/auth");return}N(),_()}},[e,t,r]),t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});const N=async()=>{if(!e)return;const{data:R,error:B}=await O.from("friend_requests").select("sender_id, profiles!friend_requests_sender_id_fkey(*)").eq("receiver_id",e.id).eq("status","pending");if(!B&&R){const I=R.map(T=>({id:T.sender_id,username:T.profiles.username,display_name:T.profiles.display_name,avatar_url:T.profiles.avatar_url,bio:T.profiles.bio,friendshipStatus:"pending_received"}));m(I)}},_=async()=>{if(!e)return;w(!0);const{data:R}=await O.from("friendships").select("friend_id").eq("user_id",e.id),B=(R==null?void 0:R.map(re=>re.friend_id))||[],{data:I}=await O.from("friend_requests").select("receiver_id").eq("sender_id",e.id).eq("status","pending"),T=(I==null?void 0:I.map(re=>re.receiver_id))||[],{data:F}=await O.from("community_members").select("community_id").eq("user_id",e.id),ee=(F==null?void 0:F.map(re=>re.community_id))||[];let H=[];if(ee.length>0){const{data:re}=await O.from("community_members").select("user_id, community_id, profiles(*)").in("community_id",ee).neq("user_id",e.id);if(re){const te=new Map;re.forEach(oe=>{B.includes(oe.user_id)||T.includes(oe.user_id)||(te.has(oe.user_id)?te.get(oe.user_id).communities.add(oe.community_id):te.set(oe.user_id,{profile:oe.profiles,communities:new Set([oe.community_id])}))}),te.forEach(({profile:oe,communities:me})=>{oe&&H.push({id:oe.id,username:oe.username,display_name:oe.display_name,avatar_url:oe.avatar_url,bio:oe.bio,friendshipStatus:"none",reason:me.size>1?`${me.size} clubes em comum`:"1 clube em comum",commonCommunities:me.size})})}}if(B.length>0){const{data:re}=await O.from("friendships").select("friend_id, profiles(*)").in("user_id",B).neq("friend_id",e.id);if(re){const te=new Map;re.forEach(oe=>{B.includes(oe.friend_id)||T.includes(oe.friend_id)||(te.has(oe.friend_id)?te.get(oe.friend_id).count++:te.set(oe.friend_id,{profile:oe.profiles,count:1}))}),te.forEach(({profile:oe,count:me},Y)=>{oe&&!H.find(Ne=>Ne.id===Y)&&H.push({id:oe.id,username:oe.username,display_name:oe.display_name,avatar_url:oe.avatar_url,bio:oe.bio,friendshipStatus:"none",reason:me>1?`${me} amigos em comum`:"1 amigo em comum",commonFriends:me})})}}H.sort((re,te)=>{const oe=(re.commonFriends||0)+(re.commonCommunities||0)*2;return(te.commonFriends||0)+(te.commonCommunities||0)*2-oe}),x(H.slice(0,6)),w(!1)},S=async R=>{if(!e||!R.trim()){i([]);return}u(!0);const{data:B,error:I}=await O.from("profiles").select("*").neq("id",e.id).or(`username.ilike.%${R}%,display_name.ilike.%${R}%`).limit(20);if(I){L.error("Erro ao buscar usurios"),u(!1);return}const T=await Promise.all((B||[]).map(async F=>{const{data:ee}=await O.from("friend_requests").select("status").eq("sender_id",e.id).eq("receiver_id",F.id).single(),{data:H}=await O.from("friend_requests").select("status").eq("sender_id",F.id).eq("receiver_id",e.id).single(),{data:re}=await O.from("friendships").select("id, level, affinity_score").or(`and(user_id.eq.${e.id},friend_id.eq.${F.id}),and(user_id.eq.${F.id},friend_id.eq.${e.id})`).single();let te="none",oe,me;return re?(te="friends",oe=re.level,me=re.affinity_score):(ee==null?void 0:ee.status)==="pending"?te="pending_sent":(H==null?void 0:H.status)==="pending"&&(te="pending_received"),{...F,friendshipStatus:te,friendshipLevel:oe,affinityScore:me}}));i(T),u(!1)},k=async R=>{if(!e||!R.trim()){c([]);return}u(!0);const{data:B,error:I}=await O.from("communities").select("*").or(`name.ilike.%${R}%,description.ilike.%${R}%`).limit(20);if(I){L.error("Erro ao buscar clubes"),u(!1);return}const T=await Promise.all((B||[]).map(async F=>{const{data:ee}=await O.from("community_members").select("id").eq("community_id",F.id).eq("user_id",e.id).single();return{...F,isMember:!!ee}}));c(T),u(!1)},A=R=>{s(R),S(R),k(R)},C=async(R,B)=>{if(!e)return;const{error:I}=await O.from("friend_requests").insert({sender_id:e.id,receiver_id:R,status:"pending"});I?L.error("Erro ao enviar convite"):(L.success(` Voc acenou para ${B} na praa!`),_(),n&&A(n))},P=async R=>{if(!e)return;const{error:B}=await O.from("friend_requests").update({status:"accepted"}).eq("sender_id",R).eq("receiver_id",e.id);if(B){L.error("Erro ao aceitar solicitao");return}const{error:I}=await O.from("friendships").insert([{user_id:e.id,friend_id:R},{user_id:R,friend_id:e.id}]);if(I)L.error("Erro ao criar amizade");else{const{data:T}=await O.from("profiles").select("display_name").eq("id",R).single();L.success(` Voc e ${(T==null?void 0:T.display_name)||"algum"} agora so vizinhos!`),N(),_(),n&&A(n)}},D=async R=>{if(!e)return;const{error:B}=await O.from("friend_requests").update({status:"rejected"}).eq("sender_id",R).eq("receiver_id",e.id);B?L.error("Erro ao recusar solicitao"):(L.success("Solicitao recusada"),N(),A(n))},U=async R=>{if(!e)return;const{error:B}=await O.from("friendships").delete().or(`and(user_id.eq.${e.id},friend_id.eq.${R}),and(user_id.eq.${R},friend_id.eq.${e.id})`);B?L.error("Erro ao remover amizade"):(L.success("Amizade removida"),A(n))},M=async R=>{if(!e)return;const{error:B}=await O.from("community_members").insert({community_id:R,user_id:e.id});B?L.error("Erro ao entrar no clube"):(L.success("Voc entrou no clube!"),A(n))},q=async R=>{if(!e)return;const{error:B}=await O.from("community_members").delete().eq("community_id",R).eq("user_id",e.id);B?L.error("Erro ao sair do clube"):(L.success("Voc saiu do clube"),A(n))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[a.jsx(en,{}),a.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent mb-2",children:" Explorar Orkadia"}),a.jsx("p",{className:"text-muted-foreground",children:"Encontre vizinhos e clubes na cidade digital  cumprimente, faa amizades e compartilhe afinidades!"})]}),f.length>0&&a.jsxs(V,{className:"p-4 border-primary/20 bg-gradient-to-br from-card/95 to-primary/5 backdrop-blur-sm shadow-elevated",children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(of,{className:"h-5 w-5 text-primary"})," Convites de Convivncia (",f.length,")"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Algum acenou para voc na praa! Aceite para virar vizinho."}),a.jsx("div",{className:"grid gap-3",children:f.map(R=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsxs(Nt,{className:"h-12 w-12 border-2 border-primary/20",children:[a.jsx(St,{src:R.avatar_url||void 0}),a.jsx(kt,{children:R.display_name[0]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:R.display_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",R.username]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{size:"sm",onClick:()=>P(R.id),children:a.jsx(_T,{className:"h-4 w-4"})}),a.jsx($,{size:"sm",variant:"outline",onClick:()=>D(R.id),children:a.jsx(Gn,{className:"h-4 w-4"})})]})]},R.id))})]}),p.length>0&&!n&&a.jsxs(V,{className:"p-6 border-accent/30 bg-gradient-to-br from-card to-accent/5",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[a.jsx(mt,{className:"h-5 w-5 text-accent"})," Pessoas que voc pode conhecer"]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Vizinhos com interesses em comum na Cidade Portella"}),a.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:p.map(R=>a.jsxs(V,{className:"p-4 hover:border-accent/50 transition-all hover:shadow-md",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs(Nt,{className:"h-14 w-14 border-2 border-accent/20 cursor-pointer",onClick:()=>r(`/profile/${R.id}`),children:[a.jsx(St,{src:R.avatar_url||void 0}),a.jsx(kt,{children:R.display_name[0]})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold cursor-pointer hover:text-accent transition-colors truncate",onClick:()=>r(`/profile/${R.id}`),children:R.display_name}),a.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",R.username]}),a.jsx(Be,{variant:"secondary",className:"mt-1 text-xs",children:R.reason}),R.bio&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:R.bio})]})]}),a.jsxs($,{size:"sm",onClick:()=>C(R.id,R.display_name),className:"w-full mt-3 bg-gradient-orkut",children:[a.jsx(of,{className:"h-3 w-3 mr-1"}),"Cumprimentar"]})]},R.id))})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Qu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(ht,{placeholder:"Pesquisar usurios ou clubes...",value:n,onChange:R=>A(R.target.value),className:"pl-10 h-12"})]}),a.jsxs(to,{defaultValue:"users",className:"w-full",children:[a.jsxs(Wn,{className:"grid w-full grid-cols-2",children:[a.jsx(Xe,{value:"users",children:"Usurios"}),a.jsx(Xe,{value:"communities",children:"Clubes"})]}),a.jsx($t,{value:"users",className:"space-y-4 mt-6",children:d?a.jsx(V,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Buscando..."})}):o.length===0?a.jsx(V,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:n?"Nenhum usurio encontrado":"Digite algo para comear a busca"})}):a.jsx("div",{className:"grid gap-4",children:o.map(R=>a.jsx(V,{className:"p-4 hover:border-primary/50 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs(Nt,{className:"h-16 w-16 border-2 border-primary/20 cursor-pointer",onClick:()=>r(`/profile/${R.id}`),children:[a.jsx(St,{src:R.avatar_url||void 0}),a.jsx(kt,{children:R.display_name[0]})]}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-lg cursor-pointer hover:text-primary flex items-center gap-2",onClick:()=>r(`/profile/${R.id}`),children:[R.display_name,R.friendshipLevel&&a.jsx(pC,{level:R.friendshipLevel,size:"sm"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",R.username]}),R.bio&&a.jsx("p",{className:"text-sm mt-2",children:R.bio})]}),R.friendshipStatus==="friends"&&e&&a.jsx(vC,{userId:R.id,currentUserId:e.id})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[R.friendshipStatus==="none"&&a.jsxs($,{onClick:()=>C(R.id,R.display_name),className:"bg-gradient-orkut",children:[a.jsx(of,{className:"h-4 w-4 mr-2"}),"Cumprimentar"]}),R.friendshipStatus==="pending_sent"&&a.jsx(Be,{variant:"secondary",className:"justify-center py-2",children:" Convite enviado"}),R.friendshipStatus==="pending_received"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{size:"sm",onClick:()=>P(R.id),className:"bg-gradient-orkut",children:"Aceitar"}),a.jsx($,{size:"sm",variant:"outline",onClick:()=>D(R.id),children:"Recusar"})]}),R.friendshipStatus==="friends"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{variant:"outline",onClick:()=>{j({id:R.id,name:R.display_name}),v(!0)},className:"border-primary/30 hover:bg-primary/10",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"Enviar Presente"]}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>U(R.id),className:"text-destructive",children:[a.jsx(B1,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]})]})},R.id))})}),a.jsx($t,{value:"communities",className:"space-y-4 mt-6",children:d?a.jsx(V,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Buscando..."})}):l.length===0?a.jsx(V,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:n?"Nenhum clube encontrado":"Digite algo para comear a busca"})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:l.map(R=>a.jsx(V,{className:"p-4 hover:border-primary/50 transition-colors",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:R.icon||""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:R.name}),a.jsx(Be,{variant:"secondary",className:"text-xs",children:R.category})]})]})}),R.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:R.description}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(mt,{className:"h-4 w-4"}),R.members_count," membros"]}),R.isMember?a.jsx($,{size:"sm",variant:"outline",onClick:()=>q(R.id),children:"Sair"}):a.jsx($,{size:"sm",onClick:()=>M(R.id),children:"Entrar"})]})]})},R.id))})})]})]})}),y&&a.jsx(gC,{isOpen:b,onClose:()=>{v(!1),j(null)},recipientId:y.id,recipientName:y.name})]})}const xC=({isOpen:e,onClose:t,recipientId:r,recipientName:n,recipientAvatar:s,currentUserId:o})=>{var N;const[i,l]=h.useState([]),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,p]=h.useState(!0),x=h.useRef(null);h.useEffect(()=>{e&&(g(),w(),b())},[e,r]);const g=async()=>{try{p(!0);const{data:_,error:S}=await O.from("private_messages").select(`
          *,
          from_profile:profiles!private_messages_from_user_id_fkey(*),
          to_profile:profiles!private_messages_to_user_id_fkey(*)
        `).or(`and(from_user_id.eq.${o},to_user_id.eq.${r}),and(from_user_id.eq.${r},to_user_id.eq.${o})`).order("created_at",{ascending:!0});if(S)throw S;l(_||[]),v()}catch(_){console.error("Erro ao carregar mensagens:",_),L.error("Erro ao carregar mensagens")}finally{p(!1)}},w=async()=>{try{await O.from("private_messages").update({is_read:!0}).eq("to_user_id",o).eq("from_user_id",r).eq("is_read",!1)}catch(_){console.error("Erro ao marcar mensagens como lidas:",_)}},b=()=>{const _=O.channel(`chat-${o}-${r}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"private_messages",filter:`or(and(from_user_id.eq.${o},to_user_id.eq.${r}),and(from_user_id.eq.${r},to_user_id.eq.${o}))`},async S=>{const k=S.new,{data:A}=await O.from("profiles").select("*").eq("id",k.from_user_id).single(),{data:C}=await O.from("profiles").select("*").eq("id",k.to_user_id).single();l(P=>[...P,{...k,from_profile:A,to_profile:C}]),k.to_user_id===o&&await w(),v()}).subscribe();return()=>{O.removeChannel(_)}},v=()=>{setTimeout(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},100)},y=async()=>{var _;if(!(!c.trim()||u))try{f(!0);const{error:S}=await O.from("private_messages").insert({from_user_id:o,to_user_id:r,content:c.trim()});if(S)throw S;d(""),L.success("Mensagem enviada!"),v()}catch(S){console.error("Erro ao enviar mensagem:",S),(_=S.message)!=null&&_.includes("violates row-level security")?L.error("Voc s pode enviar mensagens para vizinhos prximos ou amigos da varanda"):L.error("Erro ao enviar mensagem")}finally{f(!1)}},j=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),y())};return a.jsx(gr,{open:e,onOpenChange:t,children:a.jsxs(or,{className:"sm:max-w-[500px] h-[600px] flex flex-col",children:[a.jsx(vr,{children:a.jsxs(xr,{className:"flex items-center gap-3",children:[a.jsxs(Nt,{className:"h-10 w-10",children:[a.jsx(St,{src:s}),a.jsx(kt,{className:"bg-primary/10 text-primary",children:(N=n[0])==null?void 0:N.toUpperCase()})]}),a.jsxs("span",{children:["Conversa com ",n]})]})}),a.jsx($i,{className:"flex-1 pr-4",ref:x,children:m?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Carregando mensagens..."})}):i.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-2",children:"Nenhuma mensagem ainda"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja o primeiro a enviar uma mensagem!"})]}):a.jsx("div",{className:"space-y-4 py-4",children:i.map(_=>{const S=_.from_user_id===o;return a.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${S?"bg-primary text-primary-foreground":"bg-muted"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:_.content}),a.jsx("p",{className:`text-xs mt-1 ${S?"text-primary-foreground/70":"text-muted-foreground"}`,children:new Date(_.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},_.id)})})}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsx(Vt,{placeholder:"Digite sua mensagem...",value:c,onChange:_=>d(_.target.value),onKeyPress:j,className:"resize-none min-h-[60px]",maxLength:500}),a.jsx($,{onClick:y,disabled:!c.trim()||u,size:"icon",className:"h-[60px] w-[60px]",children:a.jsx(Fa,{className:"h-5 w-5"})})]})]})})},Q8=()=>{var j;const{user:e,loading:t}=bt(),{userId:r}=Qj(),n=Ot(),[s,o]=h.useState(null),[i,l]=h.useState([]),[c,d]=h.useState(null),[u,f]=h.useState(!0),[m,p]=h.useState(!1),[x,g]=h.useState(!1);h.useEffect(()=>{if(e&&r){if(e.id===r){n("/dashboard");return}w(),b()}},[e,r]);const w=async()=>{if(r)try{f(!0);const{data:N,error:_}=await O.from("profiles").select("*").eq("id",r).single();if(_)throw _;o(N);const{data:S,error:k}=await O.from("user_achievements").select(`
          *,
          achievement:achievements(*)
        `).eq("user_id",r).order("earned_at",{ascending:!1});k?console.warn("Erro ao carregar conquistas:",k):l(S||[])}catch(N){console.error("Erro ao carregar perfil:",N),L.error("Erro ao carregar perfil")}finally{f(!1)}},b=async()=>{if(!(!e||!r))try{const{data:N,error:_}=await O.from("friendships").select("level, affinity_score").or(`and(user_id.eq.${e.id},friend_id.eq.${r}),and(user_id.eq.${r},friend_id.eq.${e.id})`).single();if(_&&_.code!=="PGRST116")throw _;d(N)}catch(N){console.error("Erro ao carregar amizade:",N)}},v=(c==null?void 0:c.level)==="vizinho"||(c==null?void 0:c.level)==="amigo_varanda",y=!!c;return t||u?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("p",{className:"text-lg text-muted-foreground",children:"Carregando..."})}):e?s?a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs($,{variant:"ghost",onClick:()=>n("/explore"),className:"mb-4",children:[a.jsx(ui,{className:"mr-2 h-4 w-4"}),"Voltar"]}),a.jsxs(V,{className:"mb-6 overflow-hidden",children:[a.jsx("div",{className:"h-48 bg-gradient-to-r from-primary/20 to-secondary/20",style:{backgroundImage:s.house_background?`url(${s.house_background})`:void 0,backgroundSize:"cover",backgroundPosition:"center"}}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.jsx("div",{className:"relative -mt-20",children:a.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-background bg-gradient-to-br from-primary/20 to-secondary/20 overflow-hidden",children:s.avatar_url?a.jsx("img",{src:s.avatar_url,alt:s.display_name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl font-bold text-primary",children:(j=s.display_name[0])==null?void 0:j.toUpperCase()})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:s.display_name}),a.jsxs(Be,{variant:"secondary",children:["@",s.username]}),c&&a.jsx(pC,{level:c.level,showLabel:!0})]}),s.bio&&a.jsx("p",{className:"text-muted-foreground mb-4",children:s.bio}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Et,{className:"h-5 w-5 text-amber-500"}),a.jsx("span",{className:"font-semibold",children:s.points||0}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"pontos"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E1,{className:"h-5 w-5 text-primary"}),a.jsxs("span",{className:"font-semibold",children:["Nvel ",s.level||1]})]})]}),c&&e&&a.jsx("div",{className:"mb-4",children:a.jsx(vC,{userId:r,currentUserId:e.id})}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[v&&a.jsxs($,{onClick:()=>g(!0),children:[a.jsx(ar,{className:"mr-2 h-4 w-4"}),"Enviar Mensagem"]}),y&&a.jsxs($,{variant:"secondary",onClick:()=>p(!0),children:[a.jsx(mr,{className:"mr-2 h-4 w-4"}),"Enviar Presente"]})]})]})]})})]}),a.jsxs(to,{defaultValue:"trophies",className:"w-full",children:[a.jsxs(Wn,{className:"grid w-full grid-cols-5 mb-6",children:[a.jsxs(Xe,{value:"trophies",children:[a.jsx(Et,{className:"h-4 w-4 mr-2"}),"Trofus"]}),a.jsxs(Xe,{value:"friendships",children:[a.jsx(mt,{className:"h-4 w-4 mr-2"}),"Amizades"]}),a.jsxs(Xe,{value:"wall",children:[a.jsx(Pm,{className:"h-4 w-4 mr-2"}),"Mural"]}),a.jsxs(Xe,{value:"gifts",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"Presentes"]}),a.jsxs(Xe,{value:"music",children:[a.jsx(un,{className:"h-4 w-4 mr-2"}),"Msica"]})]}),a.jsx($t,{value:"trophies",children:a.jsxs(V,{className:"p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[a.jsx(Et,{className:"h-6 w-6 text-amber-500"}),"Conquistas"]}),i.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nenhuma conquista ainda"}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(N=>a.jsx(V,{className:"p-4 bg-gradient-to-br from-primary/5 to-secondary/5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-3xl",children:N.achievement.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold mb-1",children:N.achievement.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:N.achievement.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Be,{variant:"secondary",children:["+",N.achievement.points," pontos"]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(N.earned_at).toLocaleDateString("pt-BR")})]})]})]})},N.id))})]})}),a.jsx($t,{value:"friendships",children:a.jsx(Dk,{userId:r})}),a.jsx($t,{value:"wall",children:a.jsx($k,{userId:r,isOwner:!1})}),a.jsx($t,{value:"gifts",children:a.jsx(Lk,{userId:r,isOwner:!1})}),a.jsx($t,{value:"music",children:a.jsxs(V,{className:"p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[a.jsx(un,{className:"h-6 w-6 text-primary"}),"Msica da Casa"]}),s.house_music?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Oua a msica que toca na casa de ",s.display_name,":"]}),a.jsxs("audio",{controls:!0,className:"w-full",children:[a.jsx("source",{src:s.house_music}),"Seu navegador no suporta o elemento de udio."]})]}):a.jsxs("p",{className:"text-muted-foreground text-center py-8",children:[s.display_name," ainda no adicionou uma msica"]})]})})]})]}),y&&a.jsx(gC,{isOpen:m,onClose:()=>p(!1),recipientId:r,recipientName:s.display_name}),v&&a.jsx(xC,{isOpen:x,onClose:()=>g(!1),recipientId:r,recipientName:s.display_name,recipientAvatar:s.avatar_url||void 0,currentUserId:e.id})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs(V,{className:"p-8 text-center",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Perfil no encontrado"}),a.jsxs($,{onClick:()=>n("/explore"),children:[a.jsx(ui,{className:"mr-2 h-4 w-4"}),"Voltar para Explorar"]})]})}):a.jsx(ra,{to:"/auth",replace:!0})};function Y8(){const{user:e,loading:t}=bt(),r=Ot(),[n,s]=h.useState(!0),[o,i]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState({who_can_see_posts:"todos",who_can_send_requests:"todos"});h.useEffect(()=>{if(!t){if(!e){r("/auth");return}f()}},[e,t,r]);const f=async()=>{if(!e)return;const{data:x,error:g}=await O.from("privacy_settings").select("*").eq("user_id",e.id).single();g&&g.code!=="PGRST116"&&console.error("Error loading settings:",g),x&&u({who_can_see_posts:x.who_can_see_posts||"todos",who_can_send_requests:x.who_can_send_requests||"todos"}),s(!1)},m=async()=>{if(!e)return;i(!0);const{error:x}=await O.from("privacy_settings").upsert({user_id:e.id,who_can_see_posts:d.who_can_see_posts,who_can_send_requests:d.who_can_send_requests,updated_at:new Date().toISOString()},{onConflict:"user_id"});x?(L.error("Erro ao salvar configuraes"),console.error("Error saving settings:",x)):L.success(" Configuraes de privacidade salvas!"),i(!1)};if(t||n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});const p=[{value:"todos",label:" Todos",description:"Qualquer pessoa na cidade"},{value:"amigos_de_amigos",label:" Amigos de amigos",description:"Seus vizinhos e vizinhos deles"},{value:"ninguem",label:" Ningum",description:"Apenas voc"}];return a.jsxs("div",{className:"min-h-screen",children:[a.jsx(en,{}),a.jsx("main",{className:"max-w-2xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/60 rounded-full mx-auto flex items-center justify-center mb-4 shadow-elevated",children:a.jsx(za,{className:"w-10 h-10 text-primary-foreground"})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent mb-2",children:"Configuraes de Privacidade"}),a.jsx("p",{className:"text-muted-foreground",children:"Controle quem pode interagir com voc na cidade Orkadia"})]}),a.jsxs(V,{className:"shadow-elevated border-2",children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(Fo,{className:"w-5 h-5 text-primary"}),"Visibilidade dos Posts"]}),a.jsx(gn,{children:"Escolha quem pode ver suas publicaes na Praa Central"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(yt,{htmlFor:"who_can_see_posts",children:"Quem pode ver meus posts?"}),a.jsxs(nc,{value:d.who_can_see_posts,onValueChange:x=>u(g=>({...g,who_can_see_posts:x})),children:[a.jsx(bi,{id:"who_can_see_posts",className:"w-full",children:a.jsx(sc,{placeholder:"Selecione..."})}),a.jsx(ji,{children:p.map(x=>a.jsx(vn,{value:x.value,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:x.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:x.description})]})},x.value))})]})]})})]}),a.jsxs(V,{className:"shadow-elevated border-2",children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(nu,{className:"w-5 h-5 text-primary"}),"Convites de Convivncia"]}),a.jsx(gn,{children:"Controle quem pode enviar pedidos de amizade"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(yt,{htmlFor:"who_can_send_requests",children:"Quem pode me cumprimentar na praa?"}),a.jsxs(nc,{value:d.who_can_send_requests,onValueChange:x=>u(g=>({...g,who_can_send_requests:x})),children:[a.jsx(bi,{id:"who_can_send_requests",className:"w-full",children:a.jsx(sc,{placeholder:"Selecione..."})}),a.jsx(ji,{children:p.map(x=>a.jsx(vn,{value:x.value,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:x.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:x.description})]})},x.value))})]})]})})]}),a.jsxs(V,{className:"shadow-elevated border-2",children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(ar,{className:"w-5 h-5 text-primary"}),"Mensagens Privadas"]}),a.jsx(gn,{children:"Apenas vizinhos prximos e amigos da varanda podem enviar mensagens privadas"})]}),a.jsx(Me,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:'Esta configurao  automtica baseada no seu nvel de amizade. Voc precisa ser pelo menos "Vizinho Prximo" para trocar mensagens privadas com algum.'})})]}),a.jsxs(V,{className:"shadow-elevated border-2",children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(ru,{className:"w-5 h-5 text-destructive"}),"Usurios Bloqueados"]}),a.jsx(gn,{children:"Gerencie os usurios que voc bloqueou na cidade"})]}),a.jsxs(Me,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Usurios bloqueados no podem ver seu perfil, enviar mensagens ou interagir com voc."}),a.jsxs($,{variant:"outline",onClick:()=>c(!0),className:"gap-2",children:[a.jsx(ru,{className:"w-4 h-4"}),"Ver usurios bloqueados"]})]})]}),a.jsxs($,{onClick:m,disabled:o,className:"w-full gap-2",size:"lg",children:[a.jsx(xT,{className:"w-4 h-4"}),o?"Salvando...":"Salvar Configuraes"]})]})}),a.jsx(jk,{open:l,onOpenChange:c})]})}const X8=()=>{const{user:e,loading:t}=bt(),[r,n]=h.useState([]),[s,o]=h.useState(!0),[i,l]=h.useState(""),[c,d]=h.useState(null),[u,f]=h.useState(!1);h.useEffect(()=>{e&&(m(),p())},[e]);const m=async()=>{if(e)try{const{data:w,error:b}=await O.from("private_messages").select(`
          *,
          from_profile:profiles!private_messages_from_user_id_fkey(id, display_name, username, avatar_url),
          to_profile:profiles!private_messages_to_user_id_fkey(id, display_name, username, avatar_url)
        `).or(`from_user_id.eq.${e.id},to_user_id.eq.${e.id}`).order("created_at",{ascending:!1});if(b)throw b;const v=new Map;w==null||w.forEach(y=>{const j=y.from_user_id===e.id,N=j?y.to_profile:y.from_profile;if(!N)return;const _=v.get(N.id),S=!j&&!y.is_read?1:0;_?_.unreadCount+=S:v.set(N.id,{recipientId:N.id,recipientName:N.display_name,recipientUsername:N.username,recipientAvatar:N.avatar_url,lastMessage:y.content,lastMessageAt:y.created_at,unreadCount:S})}),n(Array.from(v.values()))}catch(w){console.error("Erro ao carregar conversas:",w)}finally{o(!1)}},p=()=>{if(!e)return;const w=O.channel("messages-page").on("postgres_changes",{event:"INSERT",schema:"public",table:"private_messages",filter:`to_user_id=eq.${e.id}`},()=>{m()}).subscribe();return()=>{O.removeChannel(w)}},x=w=>{d(w),f(!0)},g=r.filter(w=>w.recipientName.toLowerCase().includes(i.toLowerCase())||w.recipientUsername.toLowerCase().includes(i.toLowerCase()));return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(en,{}),a.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-3xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-full",children:a.jsx(ar,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mensagens"}),a.jsx("p",{className:"text-muted-foreground",children:"Suas conversas privadas"})]})]}),a.jsxs(V,{className:"overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"relative",children:[a.jsx(Qu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ht,{placeholder:"Buscar conversas...",value:i,onChange:w=>l(w.target.value),className:"pl-10"})]})}),a.jsx($i,{className:"h-[calc(100vh-280px)]",children:s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):g.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(ar,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"font-medium",children:"Nenhuma conversa ainda"}),a.jsx("p",{className:"text-sm",children:"Envie uma mensagem para um vizinho ou amigo da varanda"})]}):a.jsx("div",{className:"divide-y",children:g.map(w=>a.jsxs("button",{onClick:()=>x(w),className:"w-full p-4 flex items-center gap-3 hover:bg-muted/50 transition-colors text-left",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(Nt,{className:"w-12 h-12",children:[a.jsx(St,{src:w.recipientAvatar||void 0}),a.jsx(kt,{className:"bg-gradient-orkut text-white",children:w.recipientName.charAt(0).toUpperCase()})]}),w.unreadCount>0&&a.jsx(O1,{className:"absolute -top-1 -right-1 w-4 h-4 fill-primary text-primary"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-semibold truncate",children:w.recipientName}),a.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:sC(new Date(w.lastMessageAt),{addSuffix:!0,locale:aC})})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:w.lastMessage}),w.unreadCount>0&&a.jsx(Be,{variant:"default",className:"bg-primary text-xs",children:w.unreadCount})]})]})]},w.recipientId))})})]})]}),c&&a.jsx(xC,{isOpen:u,onClose:()=>f(!1),recipientId:c.recipientId,recipientName:c.recipientName,recipientAvatar:c.recipientAvatar||void 0,currentUserId:e.id})]}):a.jsx(ra,{to:"/auth",replace:!0})},Z8=()=>a.jsx("div",{className:"min-h-screen",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx($,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx($e,{to:"/",children:a.jsx(ui,{className:"w-5 h-5"})})}),a.jsx("img",{src:Mi,alt:"Orkadia",className:"h-10"})]}),a.jsxs(V,{className:"p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-full",children:a.jsx(iT,{className:"w-6 h-6 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold",children:"Termos de Uso"})]}),a.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-6",children:[a.jsxs("p",{className:"text-muted-foreground",children:["ltima atualizao: ",new Date().toLocaleDateString("pt-BR")]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"1. Aceitao dos Termos"}),a.jsx("p",{children:"Ao acessar e usar o Portella, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no poder acessar o servio."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"2. Descrio do Servio"}),a.jsx("p",{children:'O Portella  uma rede social que permite aos usurios criar perfis ("Casas Virtuais"), conectar-se com outros usurios, participar de comunidades ("Clubes"), compartilhar contedo e interagir de diversas formas.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"3. Cadastro e Conta"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Voc deve ter pelo menos 13 anos para usar o Portella."}),a.jsx("li",{children:"As informaes fornecidas no cadastro devem ser verdadeiras e precisas."}),a.jsx("li",{children:"Voc  responsvel por manter a segurana de sua senha e conta."}),a.jsx("li",{children:"No  permitido criar mltiplas contas ou compartilhar sua conta com terceiros."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"4. Conduta do Usurio"}),a.jsx("p",{children:"Ao usar o Portella, voc concorda em NO:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Publicar contedo ilegal, ofensivo, difamatrio ou que viole direitos de terceiros."}),a.jsx("li",{children:"Assediar, ameaar ou intimidar outros usurios."}),a.jsx("li",{children:"Compartilhar contedo sexual envolvendo menores ou contedo explcito no consensual."}),a.jsx("li",{children:"Usar o servio para spam, phishing ou atividades fraudulentas."}),a.jsx("li",{children:"Tentar acessar contas de outros usurios ou sistemas do Portella."}),a.jsx("li",{children:"Violar qualquer lei aplicvel."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"5. Contedo do Usurio"}),a.jsx("p",{children:"Voc mantm os direitos sobre o contedo que publica, mas concede ao Portella uma licena para exibir, distribuir e usar esse contedo dentro da plataforma. O Portella pode remover contedo que viole estes termos."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"6. Privacidade"}),a.jsxs("p",{children:["O uso de suas informaes pessoais  regido por nossa"," ",a.jsx($e,{to:"/privacy",className:"text-primary hover:underline",children:"Poltica de Privacidade"}),", que faz parte integrante destes Termos de Uso."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"7. Moderao"}),a.jsx("p",{children:'O Portella possui um sistema de moderao comunitria ("Delegacia") que pode revisar denncias e tomar aes, incluindo a remoo de contedo e suspenso de contas que violem estes termos.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"8. Encerramento de Conta"}),a.jsx("p",{children:"O Portella pode suspender ou encerrar sua conta a qualquer momento por violao destes termos. Voc pode excluir sua conta a qualquer momento atravs das configuraes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"9. Iseno de Garantias"}),a.jsx("p",{children:'O servio  fornecido "como est", sem garantias de qualquer tipo. No garantimos que o servio estar sempre disponvel ou livre de erros.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"10. Alteraes nos Termos"}),a.jsx("p",{children:"Podemos atualizar estes termos periodicamente. Notificaremos os usurios sobre mudanas significativas. O uso continuado do servio aps alteraes constitui aceitao dos novos termos."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"11. Contato"}),a.jsx("p",{children:"Para dvidas sobre estes Termos de Uso, entre em contato atravs da Prefeitura do Portella ou pelos canais oficiais de suporte."})]})]}),a.jsx("div",{className:"mt-8 pt-6 border-t flex justify-center",children:a.jsx($,{asChild:!0,children:a.jsx($e,{to:"/",children:"Voltar ao Incio"})})})]})]})}),J8=()=>a.jsx("div",{className:"min-h-screen",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx($,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx($e,{to:"/",children:a.jsx(ui,{className:"w-5 h-5"})})}),a.jsx("img",{src:Mi,alt:"Orkadia",className:"h-10"})]}),a.jsxs(V,{className:"p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-full",children:a.jsx(za,{className:"w-6 h-6 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold",children:"Poltica de Privacidade"})]}),a.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-6",children:[a.jsxs("p",{className:"text-muted-foreground",children:["ltima atualizao: ",new Date().toLocaleDateString("pt-BR")]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"1. Informaes que Coletamos"}),a.jsx("p",{children:"Coletamos as seguintes categorias de informaes:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Informaes de cadastro:"})," email, nome de usurio, nome de exibio e senha."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informaes de perfil:"})," foto, biografia, msica de fundo e outras personalizaes que voc escolhe adicionar."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Contedo:"})," posts, comentrios, mensagens, fotos e vdeos que voc compartilha."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Dados de uso:"})," informaes sobre como voc interage com a plataforma."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"2. Como Usamos suas Informaes"}),a.jsx("p",{children:"Utilizamos suas informaes para:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Fornecer e melhorar nossos servios."}),a.jsx("li",{children:"Personalizar sua experincia na plataforma."}),a.jsx("li",{children:"Permitir a comunicao entre usurios."}),a.jsx("li",{children:"Garantir a segurana e integridade da plataforma."}),a.jsx("li",{children:"Enviar notificaes relevantes sobre atividades em sua conta."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"3. Compartilhamento de Informaes"}),a.jsx("p",{children:"No vendemos suas informaes pessoais. Podemos compartilhar dados com:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Outros usurios, conforme suas configuraes de privacidade."}),a.jsx("li",{children:"Prestadores de servios que nos ajudam a operar a plataforma."}),a.jsx("li",{children:"Autoridades legais, quando exigido por lei."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"4. Suas Configuraes de Privacidade"}),a.jsx("p",{children:"Voc pode controlar:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Quem pode ver suas publicaes (todos, vizinhos, amigos da varanda)."}),a.jsx("li",{children:"Quem pode enviar solicitaes de amizade."}),a.jsx("li",{children:"Bloquear usurios especficos para esconder seu perfil deles."}),a.jsx("li",{children:"Quem pode enviar mensagens privadas (baseado no nvel de amizade)."})]}),a.jsxs("p",{className:"mt-2",children:["Acesse as"," ",a.jsx($e,{to:"/privacy-settings",className:"text-primary hover:underline",children:"Configuraes de Privacidade"})," ","para gerenciar essas opes."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"5. Segurana dos Dados"}),a.jsx("p",{children:"Implementamos medidas tcnicas e organizacionais para proteger suas informaes, incluindo criptografia de dados em trnsito e polticas de acesso restrito."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"6. Reteno de Dados"}),a.jsx("p",{children:"Mantemos seus dados enquanto sua conta estiver ativa. Ao excluir sua conta, seus dados pessoais sero removidos, exceto quando a reteno for necessria por obrigaes legais."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"7. Seus Direitos"}),a.jsx("p",{children:"De acordo com a LGPD (Lei Geral de Proteo de Dados), voc tem direito a:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:"Acessar seus dados pessoais."}),a.jsx("li",{children:"Corrigir dados incompletos ou incorretos."}),a.jsx("li",{children:"Solicitar a excluso de seus dados."}),a.jsx("li",{children:"Revogar consentimentos previamente dados."}),a.jsx("li",{children:"Solicitar a portabilidade de seus dados."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"8. Cookies e Tecnologias Similares"}),a.jsx("p",{children:"Utilizamos cookies e tecnologias similares para manter voc conectado e melhorar sua experincia. Voc pode gerenciar as preferncias de cookies nas configuraes do seu navegador."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"9. Menores de Idade"}),a.jsx("p",{children:"O Portella no  destinado a menores de 13 anos. Se tomarmos conhecimento de que coletamos dados de crianas menores de 13 anos, tomaremos medidas para excluir essas informaes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"10. Alteraes nesta Poltica"}),a.jsx("p",{children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos sobre alteraes significativas atravs da plataforma."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"11. Contato"}),a.jsx("p",{children:"Para exercer seus direitos ou esclarecer dvidas sobre privacidade, entre em contato atravs da Prefeitura do Portella ou pelos canais oficiais de suporte."})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-center gap-4",children:[a.jsx($,{variant:"outline",asChild:!0,children:a.jsx($e,{to:"/terms",children:"Ver Termos de Uso"})}),a.jsx($,{asChild:!0,children:a.jsx($e,{to:"/",children:"Voltar ao Incio"})})]})]})]})});function ez(){const{clubId:e}=Qj(),t=Ot(),{trackActivity:r}=aa(),[n,s]=h.useState(null),[o,i]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!1),[f,m]=h.useState(!0),[p,x]=h.useState(""),[g,w]=h.useState(!1);h.useEffect(()=>{e&&b()},[e]);const b=async()=>{var j;try{m(!0);const N=await O.from("communities").select("*").eq("id",e).single();if(N.error)throw N.error;s(N.data);const _=await O.auth.getUser();if(_.data.user){const k=await O.from("community_members").select("*").eq("community_id",e).eq("user_id",_.data.user.id).single();u(!!k.data)}i([]);const S=await O.from("community_members").select("user_id, role").eq("community_id",e);if(S.data){const k=S.data.map(D=>D.user_id),A=await O.from("profiles").select("id, username, avatar_url").in("id",k),C=new Map(((j=A.data)==null?void 0:j.map(D=>[D.id,D]))||[]),P=S.data.map(D=>{var U,M;return{id:D.user_id,username:((U=C.get(D.user_id))==null?void 0:U.username)||"Usurio",avatar_url:(M=C.get(D.user_id))==null?void 0:M.avatar_url,joined_at:new Date().toISOString(),role:D.role}});c(P)}}catch(N){console.error("Erro ao carregar dados do clube:",N),L.error("Erro ao carregar clube")}finally{m(!1)}},v=async()=>{if(!(!p.trim()||!d))try{w(!0);const j=await O.auth.getUser();if(!j.data.user){L.error("Voc precisa estar logado");return}const N=await O.from("posts").insert({content:p.trim(),user_id:j.data.user.id,club_id:e});if(N.error)throw N.error;x(""),L.success("Post criado com sucesso!"),b()}catch(j){console.error("Erro ao criar post:",j),L.error("Erro ao criar post")}finally{w(!1)}},y=async()=>{try{const j=await O.auth.getUser();if(!j.data.user){L.error("Voc precisa estar logado");return}if(d){const N=await O.from("community_members").delete().eq("community_id",e).eq("user_id",j.data.user.id);if(N.error)throw N.error;L.success("Voc saiu do clube"),u(!1)}else{const N=await O.from("community_members").insert({community_id:e,user_id:j.data.user.id,role:"member"});if(N.error)throw N.error;r.clubJoined(),L.success("Voc entrou no clube! +50 XP"),u(!0)}b()}catch(j){console.error("Erro ao atualizar inscrio:",j),L.error("Erro ao atualizar inscrio")}};return f?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):n?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(en,{}),a.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-6xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs($,{variant:"ghost",onClick:()=>t("/clubs"),className:"mb-4 gap-2",children:[a.jsx(ui,{className:"w-4 h-4"}),"Voltar aos Clubes"]}),a.jsx(V,{className:"bg-card/95 backdrop-blur-sm",children:a.jsx(Ve,{className:"pb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-xl shadow-lg",children:a.jsx(mt,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx(Ge,{className:"text-3xl",children:n.name}),a.jsx(Be,{variant:"secondary",className:"mt-1",children:n.category})]})]}),a.jsx(gn,{className:"text-base mb-4",children:n.description}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mt,{className:"w-4 h-4"}),a.jsxs("span",{children:[l.length," membros"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ar,{className:"w-4 h-4"}),a.jsxs("span",{children:[o.length," posts"]})]})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx($,{variant:d?"outline":"default",onClick:y,children:d?"Sair do Clube":"Entrar no Clube"})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d&&a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsx(Ve,{children:a.jsx(Ge,{className:"text-lg",children:"Compartilhar no clube"})}),a.jsxs(Me,{className:"space-y-4",children:[a.jsx(Vt,{placeholder:"O que voc gostaria de compartilhar com o clube?",value:p,onChange:j=>x(j.target.value),className:"min-h-[100px]"}),a.jsx("div",{className:"flex justify-end",children:a.jsxs($,{onClick:v,disabled:!p.trim()||g,className:"gap-2",children:[a.jsx(Fa,{className:"w-4 h-4"}),g?"Postando...":"Postar"]})})]})]}),a.jsx("div",{className:"space-y-4",children:o.length===0?a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm p-8 text-center",children:[a.jsx(ar,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum post ainda"}),a.jsx("p",{className:"text-muted-foreground",children:d?"Seja o primeiro a compartilhar algo neste clube!":"Entre no clube para ver e criar posts."})]}):o.map(j=>{var N,_,S,k,A,C;return a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsx(Ve,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Nt,{className:"w-10 h-10",children:[a.jsx(St,{src:(N=j.profiles)==null?void 0:N.avatar_url}),a.jsx(kt,{children:((S=(_=j.profiles)==null?void 0:_.username)==null?void 0:S.charAt(0).toUpperCase())||"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:((k=j.profiles)==null?void 0:k.username)||"Usurio"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(j.created_at).toLocaleDateString("pt-BR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})}),a.jsxs(Me,{children:[a.jsx("p",{className:"whitespace-pre-wrap mb-4",children:j.content}),a.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t",children:[a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsx(qs,{className:"w-4 h-4"}),a.jsx("span",{children:((A=j._count)==null?void 0:A.likes)||0})]}),a.jsxs($,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsx(ar,{className:"w-4 h-4"}),a.jsx("span",{children:((C=j._count)==null?void 0:C.comments)||0})]})]})]})]},j.id)})})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs(V,{className:"bg-card/95 backdrop-blur-sm",children:[a.jsx(Ve,{children:a.jsxs(Ge,{className:"text-lg flex items-center gap-2",children:[a.jsx(mt,{className:"w-5 h-5"}),"Membros (",l.length,")"]})}),a.jsx(Me,{children:a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.map(j=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsxs(Nt,{className:"w-8 h-8",children:[a.jsx(St,{src:j.avatar_url}),a.jsx(kt,{children:j.username.charAt(0).toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.username}),a.jsx("p",{className:"text-xs text-muted-foreground",children:j.role==="admin"?"Admin":"Membro"})]})]},j.id))})})]})})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(en,{}),a.jsx("div",{className:"container mx-auto px-6 py-12",children:a.jsxs(V,{className:"max-w-md mx-auto text-center p-8",children:[a.jsxs(Ve,{children:[a.jsx(Ge,{children:"Clube no encontrado"}),a.jsx(gn,{children:"O clube que voc est procurando no existe ou foi removido."})]}),a.jsx(Me,{children:a.jsxs($,{onClick:()=>t("/clubs"),className:"gap-2",children:[a.jsx(ui,{className:"w-4 h-4"}),"Voltar aos Clubes"]})})]})})]})}const tz=()=>{const{user:e}=bt(),[t,r]=h.useState(null),[n,s]=h.useState({total_invites:0,successful_invites:0,pending_invites:0,reward_points:0}),[o,i]=h.useState(!0),[l,c]=h.useState(!1);h.useEffect(()=>{e&&d()},[e]);const d=async()=>{if(e)try{i(!0);const x={id:"1",code:`ORK-${e.id.slice(0,4).toUpperCase()}-${Date.now().toString(36).toUpperCase()}`,created_at:new Date().toISOString(),used_count:0,max_uses:10,expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),is_active:!0};r(x),s({total_invites:0,successful_invites:0,pending_invites:0,reward_points:0})}catch(x){console.error("Erro ao carregar dados de convite:",x),L.error("Erro ao carregar dados de convite")}finally{i(!1)}},u=async()=>{if(e)try{c(!0);const x=`ORK-${e.id.slice(0,4).toUpperCase()}-${Date.now().toString(36).toUpperCase()}`,g={id:Date.now().toString(),code:x,created_at:new Date().toISOString(),used_count:0,max_uses:10,expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),is_active:!0};r(g),L.success(" Novo cdigo de convite gerado!")}catch(x){console.error("Erro ao gerar cdigo:",x),L.error("Erro ao gerar cdigo de convite")}finally{c(!1)}},f=()=>{t&&(navigator.clipboard.writeText(t.code),L.success(" Cdigo copiado!"))},m=()=>{if(!t||!e)return;const x=`${window.location.origin}/auth?invite=${t.code}`,g=` Voc foi convidado para a Orkadia!

 Uma rede social nostlgica inspirada no Orkut
 Conecte-se com pessoas reais
 Participe de clubes incrveis
 Personalize sua casa virtual

 Use meu cdigo de convite: ${t.code}
 Ou acesse diretamente: ${x}

Venha fazer parte da nossa comunidade! `,w=`https://wa.me/?text=${encodeURIComponent(g)}`;window.open(w,"_blank")},p=()=>{if(!t)return;const x=`${window.location.origin}/auth?invite=${t.code}`;navigator.clipboard.writeText(x),L.success(" Link de convite copiado!")};return o?a.jsx(V,{className:"w-full max-w-2xl mx-auto",children:a.jsx(Me,{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):a.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6",children:[a.jsx(V,{className:"bg-gradient-to-r from-primary/10 via-secondary/10 to-accent/10",children:a.jsxs(Ve,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-gradient-orkut rounded-full",children:a.jsx(nu,{className:"w-8 h-8 text-white"})})}),a.jsx(Ge,{className:"text-2xl",children:"Sistema de Convites"}),a.jsx(gn,{children:"Convide amigos para a Orkadia e ganhe recompensas especiais!"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(V,{className:"text-center p-4",children:[a.jsx(mt,{className:"w-6 h-6 text-primary mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:n.successful_invites}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Convites Aceitos"})]}),a.jsxs(V,{className:"text-center p-4",children:[a.jsx(Ua,{className:"w-6 h-6 text-secondary mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-secondary",children:n.reward_points}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Pontos Ganhos"})]}),a.jsxs(V,{className:"text-center p-4",children:[a.jsx(Et,{className:"w-6 h-6 text-accent mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-accent",children:Math.floor(n.successful_invites/5)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Conquistas"})]}),a.jsxs(V,{className:"text-center p-4",children:[a.jsx(qx,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.successful_invites>=10?"VIP":n.successful_invites>=5?"PRO":"NOVO"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"})]})]}),a.jsxs(V,{children:[a.jsxs(Ve,{children:[a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-5 h-5 text-primary"}),"Seu Cdigo de Convite"]}),a.jsx(gn,{children:"Compartilhe este cdigo nico com seus amigos"})]}),a.jsx(Me,{className:"space-y-4",children:t?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ht,{value:t.code,readOnly:!0,className:"font-mono text-lg text-center bg-muted"}),a.jsx($,{variant:"outline",size:"icon",onClick:f,children:a.jsx(aT,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:[a.jsxs(Be,{variant:"secondary",children:["Usos: ",t.used_count,"/",t.max_uses]}),a.jsxs(Be,{variant:"outline",children:["Expira: ",new Date(t.expires_at).toLocaleDateString("pt-BR")]}),a.jsx(Be,{variant:t.is_active?"default":"destructive",children:t.is_active?"Ativo":"Inativo"})]}),a.jsx(jl,{}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs($,{onClick:m,className:"gap-2 bg-green-600 hover:bg-green-700",children:[a.jsx(ql,{className:"w-4 h-4"}),"WhatsApp"]}),a.jsxs($,{variant:"outline",onClick:p,className:"gap-2",children:[a.jsx(A1,{className:"w-4 h-4"}),"Copiar Link"]}),a.jsxs($,{variant:"outline",onClick:u,disabled:l,className:"gap-2",children:[a.jsx($1,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Novo Cdigo"]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nu,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Voc ainda no tem um cdigo de convite"}),a.jsxs($,{onClick:u,disabled:l,className:"gap-2",children:[a.jsx(mr,{className:"w-4 h-4"}),l?"Gerando...":"Gerar Cdigo"]})]})})]}),a.jsxs(V,{children:[a.jsx(Ve,{children:a.jsxs(Ge,{className:"flex items-center gap-2",children:[a.jsx(Et,{className:"w-5 h-5 text-secondary"}),"Sistema de Recompensas"]})}),a.jsx(Me,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ua,{className:"w-5 h-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Por cada convite aceito"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando algum se cadastra com seu cdigo"})]})]}),a.jsx(Be,{variant:"secondary",children:"+50 pontos"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Et,{className:"w-5 h-5 text-accent"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"5 convites aceitos"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Conquista "Embaixador"'})]})]}),a.jsx(Be,{variant:"secondary",children:"+200 pontos"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(qx,{className:"w-5 h-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"10 convites aceitos"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status VIP + Badge especial"})]})]}),a.jsx(Be,{variant:"secondary",children:"+500 pontos"})]})]})})]})]})},rz=()=>{const{user:e,loading:t}=bt();return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[a.jsx(en,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx(tz,{})})]}):a.jsx(ra,{to:"/auth",replace:!0})},nz=({showDetailed:e=!1,className:t=""})=>{const{userLevel:r,userStats:n,getUnlockedAchievements:s,getLevelProgress:o}=aa();if(!r)return a.jsx("div",{className:`animate-pulse ${t}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"}),a.jsx("div",{className:"h-3 bg-gray-300 rounded w-16"})]})]})});const i=o(),l=s();return a.jsxs("div",{className:`bg-white/10 backdrop-blur-sm rounded-lg p-4 ${t}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:r.level}),a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-yellow-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"LV"})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-white",children:["Nvel ",r.level]}),a.jsxs("p",{className:"text-white/70 text-sm",children:[r.totalExperience.toLocaleString()," XP total"]})]})]}),l.length>0&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:l.length}),a.jsx("div",{className:"text-white/70 text-xs",children:"Conquistas"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-white/70 mb-1",children:[a.jsxs("span",{children:["Progresso para Nvel ",r.level+1]}),a.jsxs("span",{children:[i.current,"/",i.needed," XP"]})]}),a.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${i.percentage}%`}})})]}),e&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:n.postsCreated}),a.jsx("div",{className:"text-white/70 text-sm",children:"Postagens"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:n.commentsMade}),a.jsx("div",{className:"text-white/70 text-sm",children:"Comentrios"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:n.likesReceived}),a.jsx("div",{className:"text-white/70 text-sm",children:"Curtidas Recebidas"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:n.clubsJoined}),a.jsx("div",{className:"text-white/70 text-sm",children:"Clubes"})]})]}),l.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-2",children:"Conquistas Desbloqueadas"}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:l.slice(0,5).map(c=>a.jsxs("div",{className:"flex items-center space-x-2 bg-white/5 rounded-lg p-2",children:[a.jsx("span",{className:"text-2xl",children:c.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-yellow-500",children:c.name}),a.jsx("div",{className:"text-white/70 text-xs truncate",children:c.description})]}),a.jsxs("div",{className:"text-yellow-500 text-sm font-bold",children:["+",c.points," XP"]})]},c.id))})]}),n.loginStreak>0&&a.jsx("div",{className:"mt-4 bg-gradient-to-r from-orange-500/20 to-red-500/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-white font-semibold",children:["Streak de ",n.loginStreak," dias"]}),a.jsx("div",{className:"text-white/70 text-sm",children:"Continue fazendo login diariamente!"})]})]})})]})]})},sz=()=>{const{achievements:e,loading:t}=aa();if(t)return a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-white/20 rounded w-48"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((n,s)=>a.jsx("div",{className:"h-32 bg-white/20 rounded-lg"},s))})]})});const r=e.filter(n=>n.unlocked).length;return a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Conquistas"}),a.jsxs("p",{className:"text-white/70",children:[r," de ",e.length," conquistas desbloqueadas"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-500",children:r}),a.jsx("div",{className:"text-white/70 text-sm",children:"Desbloqueadas"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(n=>a.jsxs("div",{className:`relative rounded-lg border-2 p-4 transition-all ${n.unlocked?"border-yellow-400 bg-yellow-50/10 shadow-lg transform hover:scale-105":"border-white/20 bg-white/5"}`,children:[a.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[a.jsx("div",{className:`text-3xl ${n.unlocked?"":"grayscale opacity-50"}`,children:n.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-bold ${n.unlocked?"text-yellow-400":"text-white/70"}`,children:n.name}),a.jsx("p",{className:`text-sm ${n.unlocked?"text-white/90":"text-white/50"}`,children:n.description})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:`text-sm ${n.unlocked?"text-yellow-400":"text-white/50"}`,children:["+",n.points," XP"]}),n.unlocked&&a.jsxs("div",{className:"flex items-center space-x-1 text-green-400",children:[a.jsx("span",{className:"text-sm",children:""}),a.jsx("span",{className:"text-xs",children:"Desbloqueada"})]})]})]},n.id))}),e.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nenhuma conquista encontrada"}),a.jsx("p",{className:"text-white/70",children:"As conquistas aparecero aqui conforme voc usa a plataforma."})]})]})},az=()=>{const[e,t]=h.useState("profile"),{userLevel:r}=aa(),n=[{id:"profile",name:"Perfil",icon:""},{id:"achievements",name:"Conquistas",icon:""}];return a.jsx("div",{className:"min-h-screen relative",children:a.jsx(r_,{children:a.jsxs("div",{className:"relative z-10",children:[a.jsx(en,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Sistema de Gamificao"}),a.jsx("p",{className:"text-white/80 text-lg max-w-2xl mx-auto",children:"Acompanhe seu progresso, desbloqueie conquistas e compete com outros usurios da Orkadia"})]}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-1 flex space-x-1",children:n.map(s=>a.jsxs("button",{onClick:()=>t(s.id),className:`flex items-center space-x-2 px-6 py-3 rounded-lg transition-all ${e===s.id?"bg-white/20 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[a.jsx("span",{className:"text-xl",children:s.icon}),a.jsx("span",{className:"font-medium",children:s.name})]},s.id))})}),a.jsxs("div",{className:"max-w-6xl mx-auto",children:[e==="profile"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(nz,{showDetailed:!0,className:"mb-6"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-lg p-6",children:[a.jsx("h4",{className:"text-white font-bold mb-3",children:" Dicas para Ganhar XP"}),a.jsxs("ul",{className:"space-y-2 text-white/80 text-sm",children:[a.jsx("li",{children:" Crie postagens (+25 XP)"}),a.jsx("li",{children:" Faa comentrios (+10 XP)"}),a.jsx("li",{children:" D curtidas (+5 XP)"}),a.jsx("li",{children:" Entre em clubes (+50 XP)"}),a.jsx("li",{children:" Faa login dirio (+20 XP)"}),a.jsx("li",{children:" Desbloqueie conquistas (at +200 XP)"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h4",{className:"text-white font-bold mb-3",children:" Status Atual"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"text-white/70",children:["Nvel: ",a.jsx("span",{className:"text-white font-bold",children:(r==null?void 0:r.level)||1})]}),a.jsxs("div",{className:"text-white/70",children:["XP Total: ",a.jsx("span",{className:"text-white font-bold",children:(r==null?void 0:r.totalExperience.toLocaleString())||0})]})]})]})]})]}),e==="achievements"&&a.jsx(sz,{})]})]})]})})})},oz=new zO,iz=()=>a.jsx(WO,{client:oz,children:a.jsx(aM,{defaultTheme:"light",children:a.jsx(_O,{children:a.jsxs(r_,{children:[a.jsx(lM,{}),a.jsx(oR,{}),a.jsx(LR,{}),a.jsx(tM,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsxs(GA,{children:[a.jsx(ot,{path:"/",element:a.jsx(P5,{})}),a.jsx(ot,{path:"/auth",element:a.jsx(E$,{})}),a.jsx(ot,{path:"/auth/error",element:a.jsx(P$,{})}),a.jsx(ot,{path:"/dashboard",element:a.jsx(R8,{})}),a.jsx(ot,{path:"/profile",element:a.jsx(Fk,{})}),a.jsx(ot,{path:"/profile/:userId",element:a.jsx(Q8,{})}),a.jsx(ot,{path:"/clubs",element:a.jsx(M8,{})}),a.jsx(ot,{path:"/clubs/:clubId",element:a.jsx(ez,{})}),a.jsx(ot,{path:"/invites",element:a.jsx(rz,{})}),a.jsx(ot,{path:"/gamification",element:a.jsx(az,{})}),a.jsx(ot,{path:"/cinema",element:a.jsx(I8,{})}),a.jsx(ot,{path:"/moderation",element:a.jsx(L8,{})}),a.jsx(ot,{path:"/city-hall",element:a.jsx(H8,{})}),a.jsx(ot,{path:"/explore",element:a.jsx(K8,{})}),a.jsx(ot,{path:"/messages",element:a.jsx(X8,{})}),a.jsx(ot,{path:"/privacy-settings",element:a.jsx(Y8,{})}),a.jsx(ot,{path:"/terms",element:a.jsx(Z8,{})}),a.jsx(ot,{path:"/privacy",element:a.jsx(J8,{})}),a.jsx(ot,{path:"/test-connection",element:a.jsx(A8,{})}),a.jsx(ot,{path:"*",element:a.jsx(O8,{})})]})})]})})})});e1(document.getElementById("root")).render(a.jsx(iz,{}));
